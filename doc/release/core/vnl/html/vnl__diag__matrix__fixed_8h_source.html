<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <title>core/vnl/vnl_diag_matrix_fixed.h Source File</title>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="tabs.css" rel="stylesheet" type="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">core/vnl/vnl_diag_matrix_fixed.h</div>  </div>
</div>
<div class="contents">
<a href="vnl__diag__matrix__fixed_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// This is core/vnl/vnl_diag_matrix_fixed.h</span>
<a name="l00002"></a>00002 <span class="preprocessor">#ifndef vnl_diag_matrix_fixed_h_</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span><span class="preprocessor">#define vnl_diag_matrix_fixed_h_</span>
<a name="l00004"></a>00004 <span class="preprocessor"></span><span class="preprocessor">#ifdef VCL_NEEDS_PRAGMA_INTERFACE</span>
<a name="l00005"></a>00005 <span class="preprocessor"></span><span class="preprocessor">#pragma interface</span>
<a name="l00006"></a>00006 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00007"></a>00007 <span class="preprocessor"></span><span class="comment">//:</span>
<a name="l00008"></a>00008 <span class="comment">// \file</span>
<a name="l00009"></a>00009 <span class="comment">// \brief Contains class for diagonal matrices</span>
<a name="l00010"></a>00010 <span class="comment">// \author Andrew W. Fitzgibbon (Oxford RRG)</span>
<a name="l00011"></a>00011 <span class="comment">// \date   5 Aug 1996</span>
<a name="l00012"></a>00012 <span class="comment">//</span>
<a name="l00013"></a>00013 <span class="comment">// \verbatim</span>
<a name="l00014"></a>00014 <span class="comment">//  Modifications</span>
<a name="l00015"></a>00015 <span class="comment">//   IMS (Manchester) 16 Mar 2001: Tidied up the documentation + added binary_io</span>
<a name="l00016"></a>00016 <span class="comment">//   Feb.2002 - Peter Vanroose - brief doxygen comment placed on single line</span>
<a name="l00017"></a>00017 <span class="comment">//   Sep.2002 - Peter Vanroose - Added operator+, operator-, operator*</span>
<a name="l00018"></a>00018 <span class="comment">//   Mar.2004 - Peter Vanroose - removed deprecated resize()</span>
<a name="l00019"></a>00019 <span class="comment">//   Oct.2010 - Peter Vanroose - mutators and setters now return *this</span>
<a name="l00020"></a>00020 <span class="comment">//   Jan.2011 - Peter Vanroose - added methods set_diagonal() &amp; get_diagonal()</span>
<a name="l00021"></a>00021 <span class="comment">// \endverbatim</span>
<a name="l00022"></a>00022 
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;vcl_cassert.h&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;vcl_iosfwd.h&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="vnl__vector__fixed_8h.html" title="Fixed length stack-stored vector.">vnl/vnl_vector_fixed.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="code" href="vnl__matrix__fixed_8h.html" title="fixed size matrix">vnl/vnl_matrix_fixed.h</a>&gt;</span>
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="comment">// forward declarations</span>
<a name="l00029"></a>00029 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N&gt; <span class="keyword">class </span><a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed</a>;
<a name="l00030"></a>00030 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N&gt; <a class="code" href="classvnl__vector__fixed.html">vnl_vector_fixed&lt;T,N&gt;</a> <a class="code" href="classvnl__bignum.html#a02e48dba7a541b67bec3b91669a788be" title="Returns the product of two bignum numbers.">operator*</a>(<a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed&lt;T,N&gt;</a> <span class="keyword">const</span>&amp;, <a class="code" href="classvnl__vector__fixed.html">vnl_vector_fixed&lt;T,N&gt;</a> <span class="keyword">const</span>&amp;);
<a name="l00031"></a>00031 
<a name="l00032"></a>00032 <span class="comment">//: stores a diagonal matrix as a single vector.</span>
<a name="l00033"></a>00033 <span class="comment">//  vnl_diag_matrix_fixed stores a diagonal matrix for time and space efficiency.</span>
<a name="l00034"></a>00034 <span class="comment">//  Specifically, only the diagonal elements are stored, and some matrix</span>
<a name="l00035"></a>00035 <span class="comment">//  operations (currently *, + and -) are overloaded to use more efficient</span>
<a name="l00036"></a>00036 <span class="comment">//  algorithms.</span>
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 export
<a name="l00039"></a>00039 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N&gt;
<a name="l00040"></a><a class="code" href="classvnl__diag__matrix__fixed.html">00040</a> <span class="keyword">class </span><a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed</a>
<a name="l00041"></a>00041 {
<a name="l00042"></a><a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">00042</a>   <a class="code" href="classvnl__vector__fixed.html">vnl_vector_fixed&lt;T,N&gt;</a> <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>;
<a name="l00043"></a>00043 
<a name="l00044"></a>00044  <span class="keyword">public</span>:
<a name="l00045"></a><a class="code" href="classvnl__diag__matrix__fixed.html#a726f595dcb0c1c0a33734141900df4d3">00045</a>   <a class="code" href="classvnl__diag__matrix__fixed.html#a726f595dcb0c1c0a33734141900df4d3">vnl_diag_matrix_fixed</a>() : <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>() {}
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 
<a name="l00048"></a>00048   <span class="comment">//: Construct a diagonal matrix with diagonal elements equal to value.</span>
<a name="l00049"></a><a class="code" href="classvnl__diag__matrix__fixed.html#a3b6eb1a194a224ae92aa4ba315aaf617">00049</a>   <a class="code" href="classvnl__diag__matrix__fixed.html#a3b6eb1a194a224ae92aa4ba315aaf617" title="Construct a diagonal matrix with diagonal elements equal to value.">vnl_diag_matrix_fixed</a>(T <span class="keyword">const</span>&amp; value) : <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>(N, value) {}
<a name="l00050"></a>00050 
<a name="l00051"></a>00051   <span class="comment">//: Construct a diagonal matrix from a vnl_vector_fixed.</span>
<a name="l00052"></a>00052   <span class="comment">//  The vector elements become the diagonal elements.</span>
<a name="l00053"></a><a class="code" href="classvnl__diag__matrix__fixed.html#a70663b97ee381113a0de6ab1d1ff8282">00053</a>   <span class="keyword">explicit</span> <a class="code" href="classvnl__diag__matrix__fixed.html#a70663b97ee381113a0de6ab1d1ff8282" title="Construct a diagonal matrix from a vnl_vector_fixed.">vnl_diag_matrix_fixed</a>(<a class="code" href="classvnl__vector__fixed.html">vnl_vector_fixed&lt;T,N&gt;</a> <span class="keyword">const</span>&amp; that): <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>(that) {}
<a name="l00054"></a><a class="code" href="classvnl__diag__matrix__fixed.html#a9638c203571a4d5b800b682c77f0c30f">00054</a>  <a class="code" href="classvnl__diag__matrix__fixed.html#a9638c203571a4d5b800b682c77f0c30f">~vnl_diag_matrix_fixed</a>() {}
<a name="l00055"></a>00055 
<a name="l00056"></a><a class="code" href="classvnl__diag__matrix__fixed.html#a58f92e948bdead5767103342d746bbfc">00056</a>   <span class="keyword">inline</span> <a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed</a>&amp; <a class="code" href="classvnl__diag__matrix__fixed.html#a58f92e948bdead5767103342d746bbfc">operator=</a>(<a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed&lt;T,N&gt;</a> <span class="keyword">const</span>&amp; that) {
<a name="l00057"></a>00057     this-&gt;<a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a> = that.<a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>;
<a name="l00058"></a>00058     <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00059"></a>00059   }
<a name="l00060"></a>00060 
<a name="l00061"></a>00061   <span class="comment">// Operations----------------------------------------------------------------</span>
<a name="l00062"></a>00062 
<a name="l00063"></a>00063   <span class="comment">//: In-place arithmetic operation</span>
<a name="l00064"></a><a class="code" href="classvnl__diag__matrix__fixed.html#afac072243a5cf4c5fd1f53ee58dd144a">00064</a>   <span class="keyword">inline</span> <a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed&lt;T,N&gt;</a>&amp; <a class="code" href="classvnl__diag__matrix__fixed.html#afac072243a5cf4c5fd1f53ee58dd144a" title="In-place arithmetic operation.">operator*=</a>(T <a class="code" href="vnl__vector_8h.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) { <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a> *= <a class="code" href="vnl__vector_8h.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00065"></a>00065   <span class="comment">//: In-place arithmetic operation</span>
<a name="l00066"></a><a class="code" href="classvnl__diag__matrix__fixed.html#afabac93adf1b8e8c48c4b77a17399e8b">00066</a>   <span class="keyword">inline</span> <a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed&lt;T,N&gt;</a>&amp; <a class="code" href="classvnl__diag__matrix__fixed.html#afabac93adf1b8e8c48c4b77a17399e8b" title="In-place arithmetic operation.">operator/=</a>(T <a class="code" href="vnl__vector_8h.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) { <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a> /= <a class="code" href="vnl__vector_8h.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00067"></a>00067 
<a name="l00068"></a>00068   <span class="comment">// Computations--------------------------------------------------------------</span>
<a name="l00069"></a>00069 
<a name="l00070"></a>00070   <span class="keyword">inline</span> <a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed</a>&amp; <a class="code" href="classvnl__diag__matrix__fixed.html#a3ab401076ab8652c49951e8a592159f7" title="Invert a vnl_diag_matrix_fixed in-situ, then returns *this.">invert_in_place</a>();
<a name="l00071"></a>00071   T <a class="code" href="classvnl__diag__matrix__fixed.html#ad7f769fde36fefa9a7c24f675dff5bc9" title="Return determinant as product of diagonal values.">determinant</a>() <span class="keyword">const</span>;
<a name="l00072"></a>00072   <a class="code" href="classvnl__vector__fixed.html">vnl_vector_fixed&lt;T,N&gt;</a> <a class="code" href="classvnl__diag__matrix__fixed.html#ad632a7479192be4a22e02a325a0f114c" title="Return inv(D) * b.">solve</a>(<a class="code" href="classvnl__vector__fixed.html">vnl_vector_fixed&lt;T,N&gt;</a> <span class="keyword">const</span>&amp; b) <span class="keyword">const</span>;
<a name="l00073"></a>00073   <span class="keywordtype">void</span> <a class="code" href="classvnl__diag__matrix__fixed.html#ad632a7479192be4a22e02a325a0f114c" title="Return inv(D) * b.">solve</a>(<a class="code" href="classvnl__vector__fixed.html">vnl_vector_fixed&lt;T,N&gt;</a> <span class="keyword">const</span>&amp; b, <a class="code" href="classvnl__vector__fixed.html">vnl_vector_fixed&lt;T,N&gt;</a>* out) <span class="keyword">const</span>;
<a name="l00074"></a>00074 
<a name="l00075"></a>00075   <span class="comment">// Data Access---------------------------------------------------------------</span>
<a name="l00076"></a>00076 
<a name="l00077"></a><a class="code" href="classvnl__diag__matrix__fixed.html#ad2c6cbc64b3a9b2607f6e501805af2f3">00077</a>   <span class="keyword">inline</span> T <a class="code" href="classvnl__diag__matrix__fixed.html#ad2c6cbc64b3a9b2607f6e501805af2f3">operator () </a>(<span class="keywordtype">unsigned</span> i, <span class="keywordtype">unsigned</span> j)<span class="keyword"> const </span>{
<a name="l00078"></a>00078     <span class="keywordflow">return</span> (i != j) ? T(0) : <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>[i];
<a name="l00079"></a>00079   }
<a name="l00080"></a>00080 
<a name="l00081"></a><a class="code" href="classvnl__diag__matrix__fixed.html#a16275c50158042d6acc312b5b9254d1a">00081</a>   <span class="keyword">inline</span> T&amp; <a class="code" href="classvnl__diag__matrix__fixed.html#ad2c6cbc64b3a9b2607f6e501805af2f3">operator () </a>(<span class="keywordtype">unsigned</span> i, <span class="keywordtype">unsigned</span> j) {
<a name="l00082"></a>00082     assert(i == j);
<a name="l00083"></a>00083     <span class="keywordflow">return</span> <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>[i];
<a name="l00084"></a>00084   }
<a name="l00085"></a><a class="code" href="classvnl__diag__matrix__fixed.html#abbe147fb9a497b9b202e05561d9b1ead">00085</a>   <span class="keyword">inline</span> T&amp; <a class="code" href="classvnl__diag__matrix__fixed.html#ad2c6cbc64b3a9b2607f6e501805af2f3">operator() </a>(<span class="keywordtype">unsigned</span> i) { <span class="keywordflow">return</span> <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>[i]; }
<a name="l00086"></a><a class="code" href="classvnl__diag__matrix__fixed.html#ae9cd72cd122b45c9ca59342b93cc34bf">00086</a>   <span class="keyword">inline</span> T <span class="keyword">const</span>&amp; <a class="code" href="classvnl__diag__matrix__fixed.html#ad2c6cbc64b3a9b2607f6e501805af2f3">operator() </a>(<span class="keywordtype">unsigned</span> i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>[i]; }
<a name="l00087"></a>00087 
<a name="l00088"></a><a class="code" href="classvnl__diag__matrix__fixed.html#a95ff4c967cf695ffcf763d323f5ec40b">00088</a>   <span class="keyword">inline</span> T&amp; <a class="code" href="classvnl__diag__matrix__fixed.html#a95ff4c967cf695ffcf763d323f5ec40b">operator[] </a>(<span class="keywordtype">unsigned</span> i) { <span class="keywordflow">return</span> <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>[i]; }
<a name="l00089"></a><a class="code" href="classvnl__diag__matrix__fixed.html#a78b0e971e761fa5d891ea1eeceff73a7">00089</a>   <span class="keyword">inline</span> T <span class="keyword">const</span>&amp; <a class="code" href="classvnl__diag__matrix__fixed.html#a95ff4c967cf695ffcf763d323f5ec40b">operator[] </a>(<span class="keywordtype">unsigned</span> i)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>[i]; }
<a name="l00090"></a>00090 
<a name="l00091"></a>00091   <span class="comment">//: set element with boundary checks.</span>
<a name="l00092"></a><a class="code" href="classvnl__diag__matrix__fixed.html#abf40430ab27d73612330719fac02e683">00092</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classvnl__diag__matrix__fixed.html#abf40430ab27d73612330719fac02e683" title="set element with boundary checks.">put</a> (<span class="keywordtype">unsigned</span> r, <span class="keywordtype">unsigned</span> c, T <span class="keyword">const</span>&amp; <a class="code" href="vnl__vector_8h.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) {
<a name="l00093"></a>00093     assert(r == c); assert (r&lt;<a class="code" href="classvnl__diag__matrix__fixed.html#afb9facc11dc3f60c827a4760b177d827">size</a>()); <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>[r] = <a class="code" href="vnl__vector_8h.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>;
<a name="l00094"></a>00094   }
<a name="l00095"></a>00095 
<a name="l00096"></a>00096   <span class="comment">//: get element with boundary checks.</span>
<a name="l00097"></a><a class="code" href="classvnl__diag__matrix__fixed.html#ab400e012e16372ae6548e2917c78bf18">00097</a>   <span class="keyword">inline</span> T <span class="keyword">get</span> (<span class="keywordtype">unsigned</span> r, <span class="keywordtype">unsigned</span> c) <span class="keyword">const</span> {
<a name="l00098"></a>00098     assert(r == c); assert (r&lt;<a class="code" href="classvnl__diag__matrix__fixed.html#afb9facc11dc3f60c827a4760b177d827">size</a>()); <span class="keywordflow">return</span> <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>[r];
<a name="l00099"></a>00099   }
<a name="l00100"></a>00100 
<a name="l00101"></a>00101   <span class="comment">//: Return a vector (copy) with the content of the (main) diagonal</span>
<a name="l00102"></a><a class="code" href="classvnl__diag__matrix__fixed.html#aa020ad1b4adbf1d96dab35cfd62fcae2">00102</a>   <span class="keyword">inline</span> <a class="code" href="classvnl__vector__fixed.html">vnl_vector_fixed&lt;T,N&gt;</a> <a class="code" href="classvnl__diag__matrix__fixed.html#aa020ad1b4adbf1d96dab35cfd62fcae2" title="Return a vector (copy) with the content of the (main) diagonal.">get_diagonal</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>; }
<a name="l00103"></a>00103 
<a name="l00104"></a>00104   <span class="comment">//: Return diagonal elements as a vector</span>
<a name="l00105"></a><a class="code" href="classvnl__diag__matrix__fixed.html#aa4ce6017bcd51a9e6a90bee3b1a2de73">00105</a>   <span class="keyword">inline</span> <a class="code" href="classvnl__vector__fixed.html">vnl_vector_fixed&lt;T,N&gt;</a> <span class="keyword">const</span>&amp; <a class="code" href="classvnl__diag__matrix__fixed.html#aa4ce6017bcd51a9e6a90bee3b1a2de73" title="Return diagonal elements as a vector.">diagonal</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>; }
<a name="l00106"></a>00106 
<a name="l00107"></a>00107   <span class="comment">//: Set all diagonal elements of matrix to specified value.</span>
<a name="l00108"></a><a class="code" href="classvnl__diag__matrix__fixed.html#a5c44bfcba3e635f92163ec1d0135085a">00108</a>   <span class="keyword">inline</span> <a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed</a>&amp; <a class="code" href="classvnl__diag__matrix__fixed.html#a5c44bfcba3e635f92163ec1d0135085a" title="Set all diagonal elements of matrix to specified value.">fill_diagonal</a> (T <span class="keyword">const</span>&amp; <a class="code" href="vnl__vector_8h.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) { <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>.<a class="code" href="classvnl__vector__fixed.html#a3307e960c6eb42258e379ee7e408d845" title="Set all values to v.">fill</a>(v); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00109"></a>00109 
<a name="l00110"></a>00110   <span class="comment">//: Sets the diagonal elements of this matrix to the specified list of values.</span>
<a name="l00111"></a><a class="code" href="classvnl__diag__matrix__fixed.html#a4007d7d0f89ccc9ca7eaf6469b0cc364">00111</a>   <span class="keyword">inline</span> <a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed</a>&amp; <a class="code" href="classvnl__diag__matrix__fixed.html#a4007d7d0f89ccc9ca7eaf6469b0cc364" title="Sets the diagonal elements of this matrix to the specified list of values.">set_diagonal</a>(<a class="code" href="classvnl__vector__fixed.html">vnl_vector_fixed&lt;T,N&gt;</a> <span class="keyword">const</span>&amp; <a class="code" href="vnl__vector_8h.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) { <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a> = <a class="code" href="vnl__vector_8h.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00112"></a>00112 
<a name="l00113"></a>00113   <span class="comment">// iterators</span>
<a name="l00114"></a>00114 
<a name="l00115"></a><a class="code" href="classvnl__diag__matrix__fixed.html#ae97cdc7bfb1dae69a51ee37532536767">00115</a>   <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="classvnl__vector__fixed.html" title="Fixed length stack-stored, space-efficient vector.">vnl_vector_fixed&lt;T,N&gt;::iterator</a> <a class="code" href="classvnl__diag__matrix__fixed.html#ae97cdc7bfb1dae69a51ee37532536767">iterator</a>;
<a name="l00116"></a><a class="code" href="classvnl__diag__matrix__fixed.html#ac34407f35049c80b2fe765c9d64f4a04">00116</a>   <span class="keyword">inline</span> <a class="code" href="classvnl__diag__matrix__fixed.html#ae97cdc7bfb1dae69a51ee37532536767">iterator</a> <a class="code" href="classvnl__diag__matrix__fixed.html#ac34407f35049c80b2fe765c9d64f4a04">begin</a>() { <span class="keywordflow">return</span> <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>.<a class="code" href="classvnl__vector__fixed.html#a23c95bbfdfea0207db10a1593743ae0c" title="Iterator pointing to start of data.">begin</a>(); }
<a name="l00117"></a><a class="code" href="classvnl__diag__matrix__fixed.html#ad86c3f19e0588b8f5ce4e9740328c4b1">00117</a>   <span class="keyword">inline</span> <a class="code" href="classvnl__diag__matrix__fixed.html#ae97cdc7bfb1dae69a51ee37532536767">iterator</a> <a class="code" href="classvnl__diag__matrix__fixed.html#ad86c3f19e0588b8f5ce4e9740328c4b1">end</a>() { <span class="keywordflow">return</span> <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>.<a class="code" href="classvnl__vector__fixed.html#aba996f0bc7f1fd77b16d04684e91f977" title="Iterator pointing to element beyond end of data.">end</a>(); }
<a name="l00118"></a><a class="code" href="classvnl__diag__matrix__fixed.html#a37c3aadb9e6b349352788c27181fe837">00118</a>   <span class="keyword">typedef</span> <span class="keyword">typename</span> <a class="code" href="classvnl__vector__fixed.html" title="Fixed length stack-stored, space-efficient vector.">vnl_vector_fixed&lt;T,N&gt;::const_iterator</a> <a class="code" href="classvnl__diag__matrix__fixed.html#a37c3aadb9e6b349352788c27181fe837">const_iterator</a>;
<a name="l00119"></a><a class="code" href="classvnl__diag__matrix__fixed.html#a4a7962e552af807a60bfde5ecd8ea11f">00119</a>   <span class="keyword">inline</span> <a class="code" href="classvnl__diag__matrix__fixed.html#a37c3aadb9e6b349352788c27181fe837">const_iterator</a> <a class="code" href="classvnl__diag__matrix__fixed.html#a4a7962e552af807a60bfde5ecd8ea11f">begin</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>.<a class="code" href="classvnl__vector__fixed.html#a23c95bbfdfea0207db10a1593743ae0c" title="Iterator pointing to start of data.">begin</a>(); }
<a name="l00120"></a><a class="code" href="classvnl__diag__matrix__fixed.html#a3eafac09326f18fdf62a1d045630478c">00120</a>   <span class="keyword">inline</span> <a class="code" href="classvnl__diag__matrix__fixed.html#a37c3aadb9e6b349352788c27181fe837">const_iterator</a> <a class="code" href="classvnl__diag__matrix__fixed.html#a3eafac09326f18fdf62a1d045630478c">end</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>.<a class="code" href="classvnl__vector__fixed.html#aba996f0bc7f1fd77b16d04684e91f977" title="Iterator pointing to element beyond end of data.">end</a>(); }
<a name="l00121"></a>00121 
<a name="l00122"></a><a class="code" href="classvnl__diag__matrix__fixed.html#afb9facc11dc3f60c827a4760b177d827">00122</a>   <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <a class="code" href="classvnl__diag__matrix__fixed.html#afb9facc11dc3f60c827a4760b177d827">size</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>.<a class="code" href="classvnl__vector__fixed.html#a9450d7db57d969f5c35977f22dc51eb4" title="Length of the vector.">size</a>(); }
<a name="l00123"></a><a class="code" href="classvnl__diag__matrix__fixed.html#a0494633a8fad922e80775c1b9f8e1043">00123</a>   <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <a class="code" href="classvnl__diag__matrix__fixed.html#a0494633a8fad922e80775c1b9f8e1043">rows</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>.<a class="code" href="classvnl__vector__fixed.html#a9450d7db57d969f5c35977f22dc51eb4" title="Length of the vector.">size</a>(); }
<a name="l00124"></a><a class="code" href="classvnl__diag__matrix__fixed.html#ac1a9e846afa1c7704560e629c0ebfb60">00124</a>   <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <a class="code" href="classvnl__diag__matrix__fixed.html#ac1a9e846afa1c7704560e629c0ebfb60">cols</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>.<a class="code" href="classvnl__vector__fixed.html#a9450d7db57d969f5c35977f22dc51eb4" title="Length of the vector.">size</a>(); }
<a name="l00125"></a><a class="code" href="classvnl__diag__matrix__fixed.html#a75307c7c40423ef3eeb6b1cb97411ace">00125</a>   <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <a class="code" href="classvnl__diag__matrix__fixed.html#a75307c7c40423ef3eeb6b1cb97411ace">columns</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>.<a class="code" href="classvnl__vector__fixed.html#a9450d7db57d969f5c35977f22dc51eb4" title="Length of the vector.">size</a>(); }
<a name="l00126"></a>00126 
<a name="l00127"></a>00127   <span class="comment">// Need this until we add a vnl_diag_matrix_fixed ctor to vnl_matrix;</span>
<a name="l00128"></a>00128   <span class="keyword">inline</span> vnl_matrix_fixed&lt;T,N,N&gt; <a class="code" href="classvnl__diag__matrix__fixed.html#a25343b409358d5eadcfe198f937b7bf6" title="Convert a vnl_diag_matrix_fixed to a Matrix.">as_matrix_fixed</a>() <span class="keyword">const</span>;
<a name="l00129"></a>00129 
<a name="l00130"></a><a class="code" href="classvnl__diag__matrix__fixed.html#a8219d012309ebc6cb159fcd5bc2c5445">00130</a>   <span class="keyword">inline</span> vnl_matrix_fixed&lt;T,N,N&gt; <a class="code" href="classvnl__diag__matrix__fixed.html#a8219d012309ebc6cb159fcd5bc2c5445">as_ref</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classvnl__diag__matrix__fixed.html#a25343b409358d5eadcfe198f937b7bf6" title="Convert a vnl_diag_matrix_fixed to a Matrix.">as_matrix_fixed</a>(); }
<a name="l00131"></a>00131 
<a name="l00132"></a>00132   <span class="comment">// This is as good as a vnl_diag_matrix_fixed ctor for vnl_matrix_fixed:</span>
<a name="l00133"></a><a class="code" href="classvnl__diag__matrix__fixed.html#a703ad38ca738399cb06f07c0a5120ee7">00133</a>   <span class="keyword">inline</span> <a class="code" href="classvnl__diag__matrix__fixed.html#a703ad38ca738399cb06f07c0a5120ee7">operator vnl_matrix_fixed&lt;T,N,N&gt; </a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classvnl__diag__matrix__fixed.html#a25343b409358d5eadcfe198f937b7bf6" title="Convert a vnl_diag_matrix_fixed to a Matrix.">as_matrix_fixed</a>(); }
<a name="l00134"></a>00134 
<a name="l00135"></a><a class="code" href="classvnl__diag__matrix__fixed.html#a548b81833ed7f8c90152115bfb76e9e0">00135</a>   <span class="keyword">inline</span> <a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed</a>&amp; <a class="code" href="classvnl__diag__matrix__fixed.html#a548b81833ed7f8c90152115bfb76e9e0">fill</a>(T <span class="keyword">const</span> &amp;x) { <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>.<a class="code" href="classvnl__vector__fixed.html#a3307e960c6eb42258e379ee7e408d845" title="Set all values to v.">fill</a>(x); <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00136"></a>00136 
<a name="l00137"></a>00137   <span class="comment">//: Return pointer to the diagonal elements as a contiguous 1D C array;</span>
<a name="l00138"></a><a class="code" href="classvnl__diag__matrix__fixed.html#afba68ad4c9aff6395d46b7802fbea015">00138</a>   <span class="keyword">inline</span> T*       <a class="code" href="classvnl__diag__matrix__fixed.html#afba68ad4c9aff6395d46b7802fbea015" title="Return pointer to the diagonal elements as a contiguous 1D C array;.">data_block</a>()       { <span class="keywordflow">return</span> <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>.<a class="code" href="classvnl__vector__fixed.html#a67080967452fd3f3e953620c55cba71f" title="Access the contiguous block storing the elements in the vector.">data_block</a>(); }
<a name="l00139"></a><a class="code" href="classvnl__diag__matrix__fixed.html#a1b0bd6909d9482954289d8c922a74783">00139</a>   <span class="keyword">inline</span> T <span class="keyword">const</span>* <a class="code" href="classvnl__diag__matrix__fixed.html#a1b0bd6909d9482954289d8c922a74783">data_block</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>.<a class="code" href="classvnl__vector__fixed.html#a67080967452fd3f3e953620c55cba71f" title="Access the contiguous block storing the elements in the vector.">data_block</a>(); }
<a name="l00140"></a>00140 
<a name="l00141"></a>00141   <span class="comment">//: Set diagonal elements using vector, then return *this</span>
<a name="l00142"></a><a class="code" href="classvnl__diag__matrix__fixed.html#ac3d3494c373246ba72eaae85522fee55">00142</a>   <span class="keyword">inline</span> <a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed</a>&amp; <span class="keyword">set</span>(<a class="code" href="classvnl__vector__fixed.html">vnl_vector_fixed&lt;T,N&gt;</a> <span class="keyword">const</span>&amp; <a class="code" href="vnl__vector_8h.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>)  { <a class="code" href="classvnl__diag__matrix__fixed.html#add2711064970f92eb5fe37e63cd652f0">diagonal_</a>=<a class="code" href="vnl__vector_8h.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00143"></a>00143 
<a name="l00144"></a>00144  <span class="keyword">private</span>:
<a name="l00145"></a>00145 <span class="preprocessor">  #if VCL_NEED_FRIEND_FOR_TEMPLATE_OVERLOAD</span>
<a name="l00146"></a>00146 <span class="preprocessor"></span>  <span class="keyword">friend</span> <a class="code" href="classvnl__vector__fixed.html">vnl_vector_fixed&lt;T,N&gt;</a> <a class="code" href="classvnl__diag__matrix__fixed.html#a0eaeccb3a1687176a15a6a3a48ced2f5" title="Multiply two vnl_diag_matrices. Just multiply the diag elements - n flops.">operator*</a>(<a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed&lt;T,N&gt;</a> <span class="keyword">const</span>&amp;,<a class="code" href="classvnl__vector__fixed.html">vnl_vector_fixed&lt;T,N&gt;</a> <span class="keyword">const</span>&amp;);
<a name="l00147"></a>00147 <span class="preprocessor">  #endif</span>
<a name="l00148"></a>00148 <span class="preprocessor"></span>};
<a name="l00149"></a>00149 
<a name="l00150"></a>00150 <span class="comment">//:</span>
<a name="l00151"></a>00151 <span class="comment">// \relatesalso vnl_diag_matrix_fixed</span>
<a name="l00152"></a>00152 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N&gt;
<a name="l00153"></a>00153 vcl_ostream&amp; operator&lt;&lt; (vcl_ostream&amp;, vnl_diag_matrix_fixed&lt;T,N&gt; <span class="keyword">const</span>&amp;);
<a name="l00154"></a>00154 
<a name="l00155"></a>00155 <span class="comment">//: Convert a vnl_diag_matrix_fixed to a Matrix.</span>
<a name="l00156"></a>00156 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N&gt;
<a name="l00157"></a><a class="code" href="classvnl__diag__matrix__fixed.html#a25343b409358d5eadcfe198f937b7bf6">00157</a> <span class="keyword">inline</span> vnl_matrix_fixed&lt;T,N,N&gt; <a class="code" href="classvnl__diag__matrix__fixed.html#a25343b409358d5eadcfe198f937b7bf6" title="Convert a vnl_diag_matrix_fixed to a Matrix.">vnl_diag_matrix_fixed&lt;T,N&gt;::as_matrix_fixed</a>()<span class="keyword"> const</span>
<a name="l00158"></a>00158 <span class="keyword"></span>{
<a name="l00159"></a>00159   vnl_matrix_fixed&lt;T,N,N&gt; ret;
<a name="l00160"></a>00160   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; N; ++i)
<a name="l00161"></a>00161   {
<a name="l00162"></a>00162     <span class="keywordtype">unsigned</span> j;
<a name="l00163"></a>00163     <span class="keywordflow">for</span> (j = 0; j &lt; i; ++j)
<a name="l00164"></a>00164       ret(i,j) = T(0);
<a name="l00165"></a>00165     <span class="keywordflow">for</span> (j = i+1; j &lt; N; ++j)
<a name="l00166"></a>00166       ret(i,j) = T(0);
<a name="l00167"></a>00167     ret(i,i) = diagonal_[i];
<a name="l00168"></a>00168   }
<a name="l00169"></a>00169   <span class="keywordflow">return</span> ret;
<a name="l00170"></a>00170 }
<a name="l00171"></a>00171 
<a name="l00172"></a>00172 <span class="comment">//: Invert a vnl_diag_matrix_fixed in-situ, then returns *this.</span>
<a name="l00173"></a>00173 <span class="comment">// Just replaces each element with its reciprocal.</span>
<a name="l00174"></a>00174 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N&gt;
<a name="l00175"></a><a class="code" href="classvnl__diag__matrix__fixed.html#a3ab401076ab8652c49951e8a592159f7">00175</a> <span class="keyword">inline</span> <a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed&lt;T,N&gt;</a>&amp; <a class="code" href="classvnl__diag__matrix__fixed.html#a3ab401076ab8652c49951e8a592159f7" title="Invert a vnl_diag_matrix_fixed in-situ, then returns *this.">vnl_diag_matrix_fixed&lt;T,N&gt;::invert_in_place</a>()
<a name="l00176"></a>00176 {
<a name="l00177"></a>00177   T* d = data_block();
<a name="l00178"></a>00178   T one = T(1);
<a name="l00179"></a>00179   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; N; ++i)
<a name="l00180"></a>00180     d[i] = one / d[i];
<a name="l00181"></a>00181   <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00182"></a>00182 }
<a name="l00183"></a>00183 
<a name="l00184"></a>00184 <span class="comment">//: Return determinant as product of diagonal values.</span>
<a name="l00185"></a>00185 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N&gt;
<a name="l00186"></a><a class="code" href="classvnl__diag__matrix__fixed.html#ad7f769fde36fefa9a7c24f675dff5bc9">00186</a> <span class="keyword">inline</span> T <a class="code" href="classvnl__diag__matrix__fixed.html#ad7f769fde36fefa9a7c24f675dff5bc9" title="Return determinant as product of diagonal values.">vnl_diag_matrix_fixed&lt;T,N&gt;::determinant</a>()<span class="keyword"> const</span>
<a name="l00187"></a>00187 <span class="keyword"></span>{
<a name="l00188"></a>00188   T det = T(1);
<a name="l00189"></a>00189   T <span class="keyword">const</span>* d = data_block();
<a name="l00190"></a>00190   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; N; ++i)
<a name="l00191"></a>00191     det *= d[i];
<a name="l00192"></a>00192   <span class="keywordflow">return</span> det;
<a name="l00193"></a>00193 }
<a name="l00194"></a>00194 
<a name="l00195"></a>00195 <span class="comment">//: Multiply two vnl_diag_matrices.  Just multiply the diag elements - n flops</span>
<a name="l00196"></a>00196 <span class="comment">// \relatesalso vnl_diag_matrix_fixed</span>
<a name="l00197"></a>00197 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N&gt;
<a name="l00198"></a><a class="code" href="vnl__diag__matrix__fixed_8h.html#a0eaeccb3a1687176a15a6a3a48ced2f5">00198</a> <span class="keyword">inline</span> <a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed&lt;T,N&gt;</a> <a class="code" href="classvnl__bignum.html#a02e48dba7a541b67bec3b91669a788be" title="Returns the product of two bignum numbers.">operator* </a>(<a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed&lt;T,N&gt;</a> <span class="keyword">const</span>&amp; A, <a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed&lt;T,N&gt;</a> <span class="keyword">const</span>&amp; B)
<a name="l00199"></a>00199 {
<a name="l00200"></a>00200   <a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed&lt;T,N&gt;</a> ret = A;
<a name="l00201"></a>00201   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; N; ++i)
<a name="l00202"></a>00202     ret(i,i) *= B(i,i);
<a name="l00203"></a>00203   <span class="keywordflow">return</span> ret;
<a name="l00204"></a>00204 }
<a name="l00205"></a>00205 
<a name="l00206"></a>00206 <span class="comment">//: Multiply a vnl_matrix by a vnl_diag_matrix_fixed.  Just scales the columns - mn flops</span>
<a name="l00207"></a>00207 <span class="comment">// \relatesalso vnl_diag_matrix_fixed</span>
<a name="l00208"></a>00208 <span class="comment">// \relatesalso vnl_matrix</span>
<a name="l00209"></a>00209 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> R, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> C&gt;
<a name="l00210"></a><a class="code" href="vnl__diag__matrix__fixed_8h.html#a664c4a02ec698c72c4b9d4cc956830e6">00210</a> <span class="keyword">inline</span> vnl_matrix_fixed&lt;T,R,C&gt; <a class="code" href="classvnl__bignum.html#a02e48dba7a541b67bec3b91669a788be" title="Returns the product of two bignum numbers.">operator* </a>(vnl_matrix_fixed&lt;T,R,C&gt; <span class="keyword">const</span>&amp; A, <a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed&lt;T,C&gt;</a> <span class="keyword">const</span>&amp; D)
<a name="l00211"></a>00211 {
<a name="l00212"></a>00212   vnl_matrix_fixed&lt;T,R,C&gt; ret;
<a name="l00213"></a>00213   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; R; ++i)
<a name="l00214"></a>00214     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> j = 0; j &lt; C; ++j)
<a name="l00215"></a>00215       ret(i,j) = A(i,j) * D(j,j);
<a name="l00216"></a>00216   <span class="keywordflow">return</span> ret;
<a name="l00217"></a>00217 }
<a name="l00218"></a>00218 
<a name="l00219"></a>00219 <span class="comment">//: Multiply a vnl_diag_matrix_fixed by a vnl_matrix.  Just scales the rows - mn flops</span>
<a name="l00220"></a>00220 <span class="comment">// \relatesalso vnl_diag_matrix_fixed</span>
<a name="l00221"></a>00221 <span class="comment">// \relatesalso vnl_matrix</span>
<a name="l00222"></a>00222 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> R, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> C&gt;
<a name="l00223"></a><a class="code" href="vnl__diag__matrix__fixed_8h.html#a550ef2beadbd21aa6f8b4f53e21d2f7d">00223</a> <span class="keyword">inline</span> vnl_matrix_fixed&lt;T,R,C&gt; <a class="code" href="classvnl__bignum.html#a02e48dba7a541b67bec3b91669a788be" title="Returns the product of two bignum numbers.">operator* </a>(<a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed&lt;T,R&gt;</a> <span class="keyword">const</span>&amp; D, vnl_matrix_fixed&lt;T,R,C&gt; <span class="keyword">const</span>&amp; A)
<a name="l00224"></a>00224 {
<a name="l00225"></a>00225   vnl_matrix_fixed&lt;T,R,C&gt; ret;
<a name="l00226"></a>00226   T <span class="keyword">const</span>* d = D.<a class="code" href="classvnl__diag__matrix__fixed.html#afba68ad4c9aff6395d46b7802fbea015" title="Return pointer to the diagonal elements as a contiguous 1D C array;.">data_block</a>();
<a name="l00227"></a>00227   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; R; ++i)
<a name="l00228"></a>00228     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> j = 0; j &lt; C; ++j)
<a name="l00229"></a>00229       ret(i,j) = A(i,j) * d[i];
<a name="l00230"></a>00230   <span class="keywordflow">return</span> ret;
<a name="l00231"></a>00231 }
<a name="l00232"></a>00232 
<a name="l00233"></a>00233 <span class="comment">//: Add two vnl_diag_matrices.  Just add the diag elements - n flops</span>
<a name="l00234"></a>00234 <span class="comment">// \relatesalso vnl_diag_matrix_fixed</span>
<a name="l00235"></a>00235 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N&gt;
<a name="l00236"></a><a class="code" href="vnl__diag__matrix__fixed_8h.html#a614a5e50ffa8e7b1e86d6fcca1ecdd8b">00236</a> <span class="keyword">inline</span> <a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed&lt;T,N&gt;</a> <a class="code" href="classvnl__bignum.html#a156e7963508bf8aa5407858bdd8de1a0" title="Returns the sum of two bignum numbers.">operator+ </a>(<a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed&lt;T,N&gt;</a> <span class="keyword">const</span>&amp; A, <a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed&lt;T,N&gt;</a> <span class="keyword">const</span>&amp; B)
<a name="l00237"></a>00237 {
<a name="l00238"></a>00238   <a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed&lt;T,N&gt;</a> ret = A;
<a name="l00239"></a>00239   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; N; ++i)
<a name="l00240"></a>00240     ret(i,i) += B(i,i);
<a name="l00241"></a>00241   <span class="keywordflow">return</span> ret;
<a name="l00242"></a>00242 }
<a name="l00243"></a>00243 
<a name="l00244"></a>00244 <span class="comment">//: Add a vnl_diag_matrix_fixed to a vnl_matrix.  n adds, mn copies.</span>
<a name="l00245"></a>00245 <span class="comment">// \relatesalso vnl_diag_matrix_fixed</span>
<a name="l00246"></a>00246 <span class="comment">// \relatesalso vnl_matrix</span>
<a name="l00247"></a>00247 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N&gt;
<a name="l00248"></a><a class="code" href="vnl__diag__matrix__fixed_8h.html#a454ed3ea985c45c26536f6efa0b6847d">00248</a> <span class="keyword">inline</span> vnl_matrix_fixed&lt;T,N,N&gt; <a class="code" href="classvnl__bignum.html#a156e7963508bf8aa5407858bdd8de1a0" title="Returns the sum of two bignum numbers.">operator+ </a>(vnl_matrix_fixed&lt;T,N,N&gt; <span class="keyword">const</span>&amp; A, <a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed&lt;T,N&gt;</a> <span class="keyword">const</span>&amp; D)
<a name="l00249"></a>00249 {
<a name="l00250"></a>00250   vnl_matrix_fixed&lt;T,N,N&gt; ret(A);
<a name="l00251"></a>00251   T <span class="keyword">const</span>* d = D.<a class="code" href="classvnl__diag__matrix__fixed.html#afba68ad4c9aff6395d46b7802fbea015" title="Return pointer to the diagonal elements as a contiguous 1D C array;.">data_block</a>();
<a name="l00252"></a>00252   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> j = 0; j &lt; N; ++j)
<a name="l00253"></a>00253     ret(j,j) += d[j];
<a name="l00254"></a>00254   <span class="keywordflow">return</span> ret;
<a name="l00255"></a>00255 }
<a name="l00256"></a>00256 
<a name="l00257"></a>00257 <span class="comment">//: Add a vnl_matrix to a vnl_diag_matrix_fixed.  n adds, mn copies.</span>
<a name="l00258"></a>00258 <span class="comment">// \relatesalso vnl_diag_matrix_fixed</span>
<a name="l00259"></a>00259 <span class="comment">// \relatesalso vnl_matrix</span>
<a name="l00260"></a>00260 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N&gt;
<a name="l00261"></a><a class="code" href="vnl__diag__matrix__fixed_8h.html#a90d1ccaa7427746d762c0feeaec95155">00261</a> <span class="keyword">inline</span> vnl_matrix_fixed&lt;T,N,N&gt; <a class="code" href="classvnl__bignum.html#a156e7963508bf8aa5407858bdd8de1a0" title="Returns the sum of two bignum numbers.">operator+ </a>(<a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed&lt;T,N&gt;</a> <span class="keyword">const</span>&amp; D, vnl_matrix_fixed&lt;T,N,N&gt; <span class="keyword">const</span>&amp; A)
<a name="l00262"></a>00262 {
<a name="l00263"></a>00263   <span class="keywordflow">return</span> A + D;
<a name="l00264"></a>00264 }
<a name="l00265"></a>00265 
<a name="l00266"></a>00266 <span class="comment">//: Subtract two vnl_diag_matrices.  Just subtract the diag elements - n flops</span>
<a name="l00267"></a>00267 <span class="comment">// \relatesalso vnl_diag_matrix_fixed</span>
<a name="l00268"></a>00268 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N&gt;
<a name="l00269"></a><a class="code" href="vnl__diag__matrix__fixed_8h.html#aebc5fb985c6dbee76b03f46dd6d021c0">00269</a> <span class="keyword">inline</span> <a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed&lt;T,N&gt;</a> <a class="code" href="classvnl__bignum.html#a85b79ded6b4c572653e806446976b611" title="Returns the difference of two bignum numbers.">operator- </a>(<a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed&lt;T,N&gt;</a> <span class="keyword">const</span>&amp; A, <a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed&lt;T,N&gt;</a> <span class="keyword">const</span>&amp; B)
<a name="l00270"></a>00270 {
<a name="l00271"></a>00271   <a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed&lt;T,N&gt;</a> ret(A);
<a name="l00272"></a>00272   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; N; ++i)
<a name="l00273"></a>00273     ret(i,i) -= B(i,i);
<a name="l00274"></a>00274   <span class="keywordflow">return</span> ret;
<a name="l00275"></a>00275 }
<a name="l00276"></a>00276 
<a name="l00277"></a>00277 <span class="comment">//: Subtract a vnl_diag_matrix_fixed from a vnl_matrix.  n adds, mn copies.</span>
<a name="l00278"></a>00278 <span class="comment">// \relatesalso vnl_diag_matrix_fixed</span>
<a name="l00279"></a>00279 <span class="comment">// \relatesalso vnl_matrix</span>
<a name="l00280"></a>00280 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N&gt;
<a name="l00281"></a><a class="code" href="vnl__diag__matrix__fixed_8h.html#a32d38bde5ea0db2779694e4ed27eafae">00281</a> <span class="keyword">inline</span> vnl_matrix_fixed&lt;T,N,N&gt; <a class="code" href="classvnl__bignum.html#a85b79ded6b4c572653e806446976b611" title="Returns the difference of two bignum numbers.">operator- </a>(vnl_matrix_fixed&lt;T,N,N&gt; <span class="keyword">const</span>&amp; A, <a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed&lt;T,N&gt;</a> <span class="keyword">const</span>&amp; D)
<a name="l00282"></a>00282 {
<a name="l00283"></a>00283   vnl_matrix_fixed&lt;T,N,N&gt; ret(A);
<a name="l00284"></a>00284   T <span class="keyword">const</span>* d = D.<a class="code" href="classvnl__diag__matrix__fixed.html#afba68ad4c9aff6395d46b7802fbea015" title="Return pointer to the diagonal elements as a contiguous 1D C array;.">data_block</a>();
<a name="l00285"></a>00285   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> j = 0; j &lt; N; ++j)
<a name="l00286"></a>00286     ret(j,j) -= d[j];
<a name="l00287"></a>00287   <span class="keywordflow">return</span> ret;
<a name="l00288"></a>00288 }
<a name="l00289"></a>00289 
<a name="l00290"></a>00290 <span class="comment">//: Subtract a vnl_matrix from a vnl_diag_matrix_fixed.  n adds, mn copies.</span>
<a name="l00291"></a>00291 <span class="comment">// \relatesalso vnl_diag_matrix_fixed</span>
<a name="l00292"></a>00292 <span class="comment">// \relatesalso vnl_matrix</span>
<a name="l00293"></a>00293 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N&gt;
<a name="l00294"></a><a class="code" href="vnl__diag__matrix__fixed_8h.html#ae245c070420f5e5e568321494ec60431">00294</a> <span class="keyword">inline</span> vnl_matrix_fixed&lt;T,N,N&gt; <a class="code" href="classvnl__bignum.html#a85b79ded6b4c572653e806446976b611" title="Returns the difference of two bignum numbers.">operator- </a>(<a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed&lt;T,N&gt;</a> <span class="keyword">const</span>&amp; D, vnl_matrix_fixed&lt;T,N,N&gt; <span class="keyword">const</span>&amp; A)
<a name="l00295"></a>00295 {
<a name="l00296"></a>00296   vnl_matrix_fixed&lt;T,N,N&gt; ret;
<a name="l00297"></a>00297   T <span class="keyword">const</span>* d = D.<a class="code" href="classvnl__diag__matrix__fixed.html#afba68ad4c9aff6395d46b7802fbea015" title="Return pointer to the diagonal elements as a contiguous 1D C array;.">data_block</a>();
<a name="l00298"></a>00298   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i = 0; i &lt; N; ++i)
<a name="l00299"></a>00299   {
<a name="l00300"></a>00300     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> j = 0; j &lt; i; ++j)
<a name="l00301"></a>00301       ret(i,j) = -A(i,j);
<a name="l00302"></a>00302     <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> j = i+1; j &lt; N; ++j)
<a name="l00303"></a>00303       ret(i,j) = -A(i,j);
<a name="l00304"></a>00304     ret(i,i) = d[i] - A(i,i);
<a name="l00305"></a>00305   }
<a name="l00306"></a>00306   <span class="keywordflow">return</span> ret;
<a name="l00307"></a>00307 }
<a name="l00308"></a>00308 
<a name="l00309"></a>00309 <span class="comment">//: Multiply a vnl_diag_matrix_fixed by a vnl_vector_fixed.  n flops.</span>
<a name="l00310"></a>00310 <span class="comment">// \relatesalso vnl_diag_matrix_fixed</span>
<a name="l00311"></a>00311 <span class="comment">// \relatesalso vnl_vector_fixed</span>
<a name="l00312"></a>00312 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N&gt;
<a name="l00313"></a><a class="code" href="vnl__diag__matrix__fixed_8h.html#a0ba1ef45b3b734335f4fc05fd4bd20ae">00313</a> <span class="keyword">inline</span> <a class="code" href="classvnl__vector__fixed.html">vnl_vector_fixed&lt;T,N&gt;</a> <a class="code" href="classvnl__bignum.html#a02e48dba7a541b67bec3b91669a788be" title="Returns the product of two bignum numbers.">operator* </a>(<a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed&lt;T,N&gt;</a> <span class="keyword">const</span>&amp; D, <a class="code" href="classvnl__vector__fixed.html">vnl_vector_fixed&lt;T,N&gt;</a> <span class="keyword">const</span>&amp; A)
<a name="l00314"></a>00314 {
<a name="l00315"></a>00315   <span class="keywordflow">return</span> <a class="code" href="classvnl__vector__fixed.html#ac3e1898fadf8ffb5ae1c9f983ab24b00">element_product</a>(D.<a class="code" href="classvnl__diag__matrix__fixed.html#aa4ce6017bcd51a9e6a90bee3b1a2de73" title="Return diagonal elements as a vector.">diagonal</a>(), A);
<a name="l00316"></a>00316 }
<a name="l00317"></a>00317 
<a name="l00318"></a>00318 <span class="comment">//: Multiply a vnl_vector_fixed by a vnl_diag_matrix_fixed.  n flops.</span>
<a name="l00319"></a>00319 <span class="comment">// \relatesalso vnl_diag_matrix_fixed</span>
<a name="l00320"></a>00320 <span class="comment">// \relatesalso vnl_vector_fixed</span>
<a name="l00321"></a>00321 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> N&gt;
<a name="l00322"></a><a class="code" href="vnl__diag__matrix__fixed_8h.html#a8597b727258a1a0a367bf1809ec3e28c">00322</a> <span class="keyword">inline</span> <a class="code" href="classvnl__vector__fixed.html">vnl_vector_fixed&lt;T,N&gt;</a> <a class="code" href="classvnl__bignum.html#a02e48dba7a541b67bec3b91669a788be" title="Returns the product of two bignum numbers.">operator* </a>(<a class="code" href="classvnl__vector__fixed.html">vnl_vector_fixed&lt;T,N&gt;</a> <span class="keyword">const</span>&amp; A, <a class="code" href="classvnl__diag__matrix__fixed.html" title="stores a diagonal matrix as a single vector.">vnl_diag_matrix_fixed&lt;T,N&gt;</a> <span class="keyword">const</span>&amp; D)
<a name="l00323"></a>00323 {
<a name="l00324"></a>00324   <span class="keywordflow">return</span> <a class="code" href="classvnl__vector__fixed.html#ac3e1898fadf8ffb5ae1c9f983ab24b00">element_product</a>(D.<a class="code" href="classvnl__diag__matrix__fixed.html#aa4ce6017bcd51a9e6a90bee3b1a2de73" title="Return diagonal elements as a vector.">diagonal</a>(), A);
<a name="l00325"></a>00325 }
<a name="l00326"></a>00326 
<a name="l00327"></a>00327 <span class="preprocessor">#endif // vnl_diag_matrix_fixed_h_</span>
</pre></div></div>
</div>


<hr class="footer"/><address class="footer"><small>
Generated on Wed May 1 2013 17:31:01 for core/vnl by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
