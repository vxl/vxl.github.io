<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <title>vgui_message Class Reference</title>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="tabs.css" rel="stylesheet" type="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a>  </div>
  <div class="headertitle">
<div class="title">vgui_message Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="vgui_message" -->
<p>Used to send messages from observables to observers.  
 <a href="classvgui__message.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="vgui__message_8h_source.html">vgui_message.h</a>&gt;</code></p>

<p><a href="classvgui__message-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvgui__message.html#a0ae9566f314fda475204a695a59afdc5">vgui_message</a> ()</td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvgui__message.html#a59ba7324ce464c6339c15767b69bb67d">from</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to sender.  <a href="#a59ba7324ce464c6339c15767b69bb67d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvgui__message.html#a825912f951fb5955cb72f1d81f55f2a6">user</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">This field must uniquely identify the type of message sent.  <a href="#a825912f951fb5955cb72f1d81f55f2a6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvgui__message.html#a77ace7421705fd464a198371c396e167">data</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Extra data can be packaged into this.  <a href="#a77ace7421705fd464a198371c396e167"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Used to send messages from observables to observers. </p>
<p>example :</p>
<div class="fragment"><pre class="fragment"> <span class="keyword">class </span>sender : <span class="keyword">public</span> <a class="code" href="classvgui__observable.html" title="Base class for classes that want to broadcast messages to observers.">vgui_observable</a>
 {
   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> begin[];
   <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> end[];
   <span class="keywordtype">void</span> f()
   {
     vcl_string moo=<span class="stringliteral">&quot;moo moo moo&quot;</span>;
     <a class="code" href="classvgui__message.html" title="Used to send messages from observables to observers.">vgui_message</a> <a class="codeRef" doxygen="core_vnl.tag:../../../core/vnl/html/" href="../../../core/vnl/html/vnl__vector_8h.html#a00626facb4f86efb8618a4c5f5c3c5f8">m</a>;
     m.<a class="code" href="classvgui__message.html#a59ba7324ce464c6339c15767b69bb67d" title="Pointer to sender.">from</a> = <span class="keyword">this</span>;
     m.<a class="code" href="classvgui__message.html#a825912f951fb5955cb72f1d81f55f2a6" title="This field must uniquely identify the type of message sent.">user</a> = sender::begin;
     m.<a class="code" href="classvgui__message.html#a77ace7421705fd464a198371c396e167" title="Extra data can be packaged into this.">data</a> = &amp;moo;
     notify(m);
   }
   <span class="keywordtype">void</span> g()
   {
     <a class="code" href="classvgui__message.html" title="Used to send messages from observables to observers.">vgui_message</a> <a class="codeRef" doxygen="core_vnl.tag:../../../core/vnl/html/" href="../../../core/vnl/html/vnl__vector_8h.html#a00626facb4f86efb8618a4c5f5c3c5f8">m</a>;
     m.<a class="code" href="classvgui__message.html#a59ba7324ce464c6339c15767b69bb67d" title="Pointer to sender.">from</a> = <span class="keyword">this</span>;
     m.<a class="code" href="classvgui__message.html#a825912f951fb5955cb72f1d81f55f2a6" title="This field must uniquely identify the type of message sent.">user</a> = sender::end;
     m.<a class="code" href="classvgui__message.html#a77ace7421705fd464a198371c396e167" title="Extra data can be packaged into this.">data</a> = 0;
     notify(m);
   }
 };

 <span class="keyword">class </span>receiver : <span class="keyword">public</span> <a class="code" href="classvgui__observer.html" title="Base class for classes that receive messages from observables.">vgui_observer</a>
 {
   <span class="keywordtype">void</span> update(<span class="keyword">const</span> <a class="code" href="classvgui__message.html" title="Used to send messages from observables to observers.">vgui_message</a> &amp;m)
   {
     <span class="keywordflow">if</span> (m.<a class="code" href="classvgui__message.html#a825912f951fb5955cb72f1d81f55f2a6" title="This field must uniquely identify the type of message sent.">user</a> == sender::begin)
     {
       vcl_string *s = <span class="keyword">static_cast&lt;</span>vcl_string*<span class="keyword">&gt;</span>(m.<a class="code" href="classvgui__message.html#a77ace7421705fd464a198371c396e167" title="Extra data can be packaged into this.">data</a>);
       vcl_cerr &lt;&lt; <span class="stringliteral">&quot;begin : &quot;</span> &lt;&lt; *s &lt;&lt; vcl_endl;
     }
     <span class="keywordflow">else</span> <span class="keywordflow">if</span> (m.<a class="code" href="classvgui__message.html#a825912f951fb5955cb72f1d81f55f2a6" title="This field must uniquely identify the type of message sent.">user</a> == sender::end)
     {
       sender *s = <span class="keyword">static_cast&lt;</span>sender*<span class="keyword">&gt;</span>(m.<a class="code" href="classvgui__message.html#a59ba7324ce464c6339c15767b69bb67d" title="Pointer to sender.">from</a>);
       vcl_cerr &lt;&lt; <span class="stringliteral">&quot;end\n&quot;</span>;
     }
     <span class="keywordflow">else</span>
     {
       <span class="comment">// dunno</span>
     }
   }
 };
</pre></div> 
<p>Definition at line <a class="el" href="vgui__message_8h_source.html#l00082">82</a> of file <a class="el" href="vgui__message_8h_source.html">vgui_message.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a0ae9566f314fda475204a695a59afdc5"></a><!-- doxytag: member="vgui_message::vgui_message" ref="a0ae9566f314fda475204a695a59afdc5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vgui_message::vgui_message </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vgui__message_8h_source.html#l00085">85</a> of file <a class="el" href="vgui__message_8h_source.html">vgui_message.h</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a77ace7421705fd464a198371c396e167"></a><!-- doxytag: member="vgui_message::data" ref="a77ace7421705fd464a198371c396e167" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const void* <a class="el" href="classvgui__message.html#a77ace7421705fd464a198371c396e167">vgui_message::data</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Extra data can be packaged into this. </p>
<p>It is up to the sender of the message to ensure that 'data' can be safely cast to whatever the receiver expects when receiving a message with a particular value of 'user' set. </p>

<p>Definition at line <a class="el" href="vgui__message_8h_source.html#l00100">100</a> of file <a class="el" href="vgui__message_8h_source.html">vgui_message.h</a>.</p>

</div>
</div>
<a class="anchor" id="a59ba7324ce464c6339c15767b69bb67d"></a><!-- doxytag: member="vgui_message::from" ref="a59ba7324ce464c6339c15767b69bb67d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const void* <a class="el" href="classvgui__message.html#a59ba7324ce464c6339c15767b69bb67d">vgui_message::from</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Pointer to sender. </p>
<p>When the message was broadcast from a <a class="el" href="classvgui__observer.html" title="Base class for classes that receive messages from observables.">vgui_observer</a> via the notify() method, this will point to the observer. </p>

<p>Definition at line <a class="el" href="vgui__message_8h_source.html#l00090">90</a> of file <a class="el" href="vgui__message_8h_source.html">vgui_message.h</a>.</p>

</div>
</div>
<a class="anchor" id="a825912f951fb5955cb72f1d81f55f2a6"></a><!-- doxytag: member="vgui_message::user" ref="a825912f951fb5955cb72f1d81f55f2a6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const void* <a class="el" href="classvgui__message.html#a825912f951fb5955cb72f1d81f55f2a6">vgui_message::user</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>This field must uniquely identify the type of message sent. </p>
<p>Usually it will point to some static POD somewhere. </p>

<p>Definition at line <a class="el" href="vgui__message_8h_source.html#l00094">94</a> of file <a class="el" href="vgui__message_8h_source.html">vgui_message.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>core/vgui/<a class="el" href="vgui__message_8h_source.html">vgui_message.h</a></li>
</ul>
</div>


<hr class="footer"/><address class="footer"><small>
Generated on Wed May 1 2013 17:32:46 for core/vgui by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
