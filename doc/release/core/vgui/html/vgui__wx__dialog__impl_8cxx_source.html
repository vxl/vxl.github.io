<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <title>core/vgui/impl/wx/vgui_wx_dialog_impl.cxx Source File</title>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="tabs.css" rel="stylesheet" type="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">core/vgui/impl/wx/vgui_wx_dialog_impl.cxx</div>  </div>
</div>
<div class="contents">
<a href="vgui__wx__dialog__impl_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// This is core/vgui/impl/wx/vgui_wx_dialog_impl.cxx</span>
<a name="l00002"></a>00002 <span class="preprocessor">#include &quot;<a class="code" href="vgui__wx__dialog__impl_8h.html" title="wxWidgets implementation of vgui_dialog_impl.">vgui_wx_dialog_impl.h</a>&quot;</span>
<a name="l00003"></a>00003 <span class="comment">//=========================================================================</span>
<a name="l00004"></a>00004 <span class="comment">//:</span>
<a name="l00005"></a>00005 <span class="comment">// \file</span>
<a name="l00006"></a>00006 <span class="comment">// \brief  wxWidgets implementation of vgui_dialog_impl.</span>
<a name="l00007"></a>00007 <span class="comment">//</span>
<a name="l00008"></a>00008 <span class="comment">// See vgui_wx_dialog_impl.h for details.</span>
<a name="l00009"></a>00009 <span class="comment">//=========================================================================</span>
<a name="l00010"></a>00010 
<a name="l00011"></a>00011 <span class="preprocessor">#include &quot;<a class="code" href="vgui__wx__adaptor_8h.html" title="wxWidgets implementation of vgui_adaptor.">vgui_wx_adaptor.h</a>&quot;</span>
<a name="l00012"></a>00012 
<a name="l00013"></a>00013 <span class="preprocessor">#include &lt;<a class="code" href="vgui__color__text_8h.html" title="Converts a string naming a colour to the RGB values.">vgui/vgui_color_text.h</a>&gt;</span>
<a name="l00014"></a>00014 <span class="preprocessor">#include &lt;<a class="code" href="vgui__dialog__field_8h.html" title="Represents a field in a dialog.">vgui/internals/vgui_dialog_field.h</a>&gt;</span>
<a name="l00015"></a>00015 <span class="preprocessor">#include &lt;<a class="code" href="vgui__simple__field_8h.html" title="Templated fields for dialog boxes.">vgui/internals/vgui_simple_field.h</a>&gt;</span>
<a name="l00016"></a>00016 
<a name="l00017"></a>00017 <span class="preprocessor">#include &lt;wx/log.h&gt;</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &lt;wx/filename.h&gt;</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="preprocessor">#include &lt;wx/dialog.h&gt;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &lt;wx/filedlg.h&gt;</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &lt;wx/colordlg.h&gt;</span>
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;wx/sizer.h&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;wx/valgen.h&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;wx/checkbox.h&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;wx/textctrl.h&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;wx/arrstr.h&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;wx/choice.h&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;wx/statline.h&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;wx/stattext.h&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;wx/statbox.h&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;wx/button.h&gt;</span>
<a name="l00034"></a>00034 
<a name="l00035"></a><a class="code" href="vgui__wx__dialog__impl_8cxx.html#a0d6dae6df6781f628e1f6803f67078c8">00035</a> <span class="preprocessor">#ifndef wxCommandEventHandler        // wxWidgets-2.5.3 doesn&#39;t define this</span>
<a name="l00036"></a>00036 <span class="preprocessor"></span><span class="preprocessor">#define wxCommandEventHandler(func) \</span>
<a name="l00037"></a>00037 <span class="preprocessor">    (wxObjectEventFunction)(wxEventFunction)wxStaticCastEvent(wxCommandEventFunction, &amp;func)</span>
<a name="l00038"></a>00038 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00039"></a>00039 <span class="preprocessor"></span>
<a name="l00040"></a>00040 <span class="preprocessor">#include &lt;vcl_iostream.h&gt;</span>
<a name="l00041"></a>00041 <span class="preprocessor">#include &lt;vcl_sstream.h&gt;</span>
<a name="l00042"></a>00042 <span class="preprocessor">#include &lt;vcl_algorithm.h&gt;</span>
<a name="l00043"></a>00043 <span class="preprocessor">#include &lt;vcl_map.h&gt;</span>
<a name="l00044"></a>00044 <span class="preprocessor">#include &lt;vcl_utility.h&gt;</span>
<a name="l00045"></a>00045 <span class="preprocessor">#include &lt;vcl_cassert.h&gt;</span>
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 <span class="comment">//-------------------------------------------------------------------------</span>
<a name="l00048"></a>00048 <span class="comment">// Private helpers - declarations.</span>
<a name="l00049"></a>00049 <span class="comment">//-------------------------------------------------------------------------</span>
<a name="l00050"></a>00050 <span class="keyword">namespace</span>
<a name="l00051"></a>00051 {
<a name="l00052"></a>00052   <span class="keyword">class </span>vgui_wx_event_handler : <span class="keyword">public</span> wxEvtHandler
<a name="l00053"></a>00053   {
<a name="l00054"></a>00054    <span class="keyword">public</span>:
<a name="l00055"></a>00055     <span class="keywordtype">void</span> insert_handle(<span class="keywordtype">int</span> <span class="keywordtype">id</span>, wxTextCtrl* control)
<a name="l00056"></a>00056     {
<a name="l00057"></a>00057       handles_.insert(vcl_pair&lt;int,wxTextCtrl*&gt;(<span class="keywordtype">id</span>, control));
<a name="l00058"></a>00058     }
<a name="l00059"></a>00059 
<a name="l00060"></a>00060     <span class="keywordtype">void</span> file_browser(wxCommandEvent&amp; e)
<a name="l00061"></a>00061     {
<a name="l00062"></a>00062       <span class="comment">// ***** should add wildcard value,</span>
<a name="l00063"></a>00063       <span class="comment">//       but need to pass it through from element-&gt;widget</span>
<a name="l00064"></a>00064       wxFileName filename(handles_[e.GetId()]-&gt;GetValue());
<a name="l00065"></a>00065       wxFileDialog file_dialog(handles_[e.GetId()],
<a name="l00066"></a>00066                                wxT(<span class="stringliteral">&quot;Choose a file&quot;</span>),
<a name="l00067"></a>00067                                filename.GetPath(),
<a name="l00068"></a>00068                                filename.GetFullName());
<a name="l00069"></a>00069 
<a name="l00070"></a>00070       <span class="keywordflow">if</span> (file_dialog.ShowModal() == wxID_OK)
<a name="l00071"></a>00071       {
<a name="l00072"></a>00072         <span class="comment">// update wxTextCtrl value</span>
<a name="l00073"></a>00073         handles_[e.GetId()]-&gt;SetValue(file_dialog.GetPath());
<a name="l00074"></a>00074       }
<a name="l00075"></a>00075     }
<a name="l00076"></a>00076 
<a name="l00077"></a>00077     <span class="keywordtype">void</span> color_chooser(wxCommandEvent&amp; e)
<a name="l00078"></a>00078     {
<a name="l00079"></a>00079       wxString text = handles_[e.GetId()]-&gt;GetValue();
<a name="l00080"></a>00080 
<a name="l00081"></a>00081       wxColour color;
<a name="l00082"></a>00082       color.Set(<span class="keywordtype">int</span>(<a class="code" href="vgui__color__text_8cxx.html#a818e4a41e22086ace02a96ff9bf547ae" title="Given a string naming a colour, return its red value.">red_value</a>(vcl_string(text.mb_str()))   * 255.0),
<a name="l00083"></a>00083                 int(<a class="code" href="vgui__color__text_8cxx.html#a4787af5a9d9ab6e11833d5fcb0bd33cb" title="Given a string naming a colour, return its green value.">green_value</a>(vcl_string(text.mb_str())) * 255.0),
<a name="l00084"></a>00084                 int(<a class="code" href="vgui__color__text_8cxx.html#a349e9b9716709e4d42391d52a2ede398" title="Given a string naming a colour, return its blue value.">blue_value</a>(vcl_string(text.mb_str()))  * 255.0));
<a name="l00085"></a>00085       vcl_cout &lt;&lt; <span class="stringliteral">&quot;current color: &quot;</span>&lt;&lt;int(color.Red())&lt;&lt;<span class="charliteral">&#39; &#39;</span>&lt;&lt;<span class="keywordtype">int</span>(color.Green())&lt;&lt;<span class="charliteral">&#39; &#39;</span>&lt;&lt;<span class="keywordtype">int</span>(color.Blue())&lt;&lt;vcl_endl;
<a name="l00086"></a>00086       wxColourData cdata;
<a name="l00087"></a>00087       cdata.SetColour(color);
<a name="l00088"></a>00088 
<a name="l00089"></a>00089       wxColourDialog color_dialog(handles_[e.GetId()], &amp;cdata);
<a name="l00090"></a>00090 
<a name="l00091"></a>00091       <span class="keywordflow">if</span> (color_dialog.ShowModal() == wxID_OK)
<a name="l00092"></a>00092       {
<a name="l00093"></a>00093         color = color_dialog.GetColourData().GetColour();
<a name="l00094"></a>00094 
<a name="l00095"></a>00095         vcl_cout &lt;&lt; <span class="stringliteral">&quot;new color: &quot;</span>&lt;&lt;int(color.Red())&lt;&lt;<span class="charliteral">&#39; &#39;</span>&lt;&lt;<span class="keywordtype">int</span>(color.Green())&lt;&lt;<span class="charliteral">&#39; &#39;</span>&lt;&lt;<span class="keywordtype">int</span>(color.Blue())&lt;&lt;vcl_endl;
<a name="l00096"></a>00096         vcl_stringstream sstr;
<a name="l00097"></a>00097         <span class="comment">//text.Clear();</span>
<a name="l00098"></a>00098         sstr &lt;&lt; color.Red() / 255.0 &lt;&lt; <span class="charliteral">&#39; &#39;</span>
<a name="l00099"></a>00099              &lt;&lt; color.Green() / 255.0 &lt;&lt; <span class="charliteral">&#39; &#39;</span>
<a name="l00100"></a>00100              &lt;&lt; color.Blue() / 255.0;
<a name="l00101"></a>00101         vcl_cout &lt;&lt; <span class="stringliteral">&quot;new color text: &quot;</span>&lt;&lt; sstr.str() &lt;&lt; vcl_endl;
<a name="l00102"></a>00102 
<a name="l00103"></a>00103         <span class="comment">// update wxTextCtrl value</span>
<a name="l00104"></a>00104         handles_[e.GetId()]-&gt;SetValue(wxString(sstr.str().c_str(),wxConvUTF8));
<a name="l00105"></a>00105       }
<a name="l00106"></a>00106     }
<a name="l00107"></a>00107 
<a name="l00108"></a>00108    <span class="keyword">private</span>:
<a name="l00109"></a>00109     vcl_map&lt;int,wxTextCtrl*&gt; handles_;
<a name="l00110"></a>00110   };
<a name="l00111"></a>00111 
<a name="l00112"></a>00112   <span class="comment">//: Used to transfer data between a vgui_dialog_field and wxTextControl.</span>
<a name="l00113"></a>00113   <span class="keyword">class </span>vgui_wx_text_validator : <span class="keyword">public</span> wxValidator
<a name="l00114"></a>00114   {
<a name="l00115"></a>00115    <span class="keyword">public</span>:
<a name="l00116"></a>00116     <span class="comment">//: Constructor - default.</span>
<a name="l00117"></a>00117     vgui_wx_text_validator(<a class="code" href="classvgui__dialog__field.html" title="Represents a field in a dialog.">vgui_dialog_field</a>* field = 0)
<a name="l00118"></a>00118       : field_(field)
<a name="l00119"></a>00119     {
<a name="l00120"></a>00120     }
<a name="l00121"></a>00121 
<a name="l00122"></a>00122     <span class="comment">//: Constructor.</span>
<a name="l00123"></a>00123     vgui_wx_text_validator(<span class="keyword">const</span> vgui_wx_text_validator&amp; validator)
<a name="l00124"></a>00124       : wxValidator(), field_(validator.field_)
<a name="l00125"></a>00125     {
<a name="l00126"></a>00126       wxValidator::Copy(validator);
<a name="l00127"></a>00127     }
<a name="l00128"></a>00128 
<a name="l00129"></a>00129     <span class="comment">//: Destructor.</span>
<a name="l00130"></a>00130     <span class="keyword">virtual</span> ~vgui_wx_text_validator() {}
<a name="l00131"></a>00131 
<a name="l00132"></a>00132     <span class="comment">//: Make a clone of this validator.</span>
<a name="l00133"></a>00133     <span class="keyword">virtual</span> wxObject* Clone()<span class="keyword"> const</span>
<a name="l00134"></a>00134 <span class="keyword">    </span>{
<a name="l00135"></a>00135       <span class="keywordflow">return</span> <span class="keyword">new</span> vgui_wx_text_validator(*<span class="keyword">this</span>);
<a name="l00136"></a>00136     }
<a name="l00137"></a>00137 
<a name="l00138"></a>00138     <span class="comment">//: Called to transfer data to the window.</span>
<a name="l00139"></a>00139     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> TransferToWindow()
<a name="l00140"></a>00140     {
<a name="l00141"></a>00141       <span class="keywordflow">if</span> (!check_validator()) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00142"></a>00142       <span class="keywordflow">if</span> (field_)
<a name="l00143"></a>00143       {
<a name="l00144"></a>00144         <span class="keyword">dynamic_cast&lt;</span>wxTextCtrl*<span class="keyword">&gt;</span>(
<a name="l00145"></a>00145           m_validatorWindow)-&gt;SetValue(wxString(field_-&gt;current_value().c_str(),wxConvUTF8));
<a name="l00146"></a>00146       }
<a name="l00147"></a>00147       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00148"></a>00148     }
<a name="l00149"></a>00149 
<a name="l00150"></a>00150     <span class="comment">//: Called to transfer data from the window.</span>
<a name="l00151"></a>00151     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> TransferFromWindow()
<a name="l00152"></a>00152     {
<a name="l00153"></a>00153       <span class="keywordflow">if</span> (!check_validator()) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00154"></a>00154       <span class="keywordflow">if</span> (field_)
<a name="l00155"></a>00155       {
<a name="l00156"></a>00156         field_-&gt;update_value(
<a name="l00157"></a>00157           vcl_string(dynamic_cast&lt;wxTextCtrl*&gt;(m_validatorWindow)-&gt;GetValue().mb_str()));
<a name="l00158"></a>00158       }
<a name="l00159"></a>00159       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00160"></a>00160     }
<a name="l00161"></a>00161 
<a name="l00162"></a>00162     <span class="comment">//: Called when validation of the control data must be validated.</span>
<a name="l00163"></a>00163     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> Validate(wxWindow* parent)
<a name="l00164"></a>00164     {
<a name="l00165"></a>00165       <span class="keywordflow">if</span> (!check_validator()) { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00166"></a>00166       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00167"></a>00167     }
<a name="l00168"></a>00168 
<a name="l00169"></a>00169    <span class="keyword">private</span>:
<a name="l00170"></a>00170     <span class="comment">//: Check if validator parent window is valid.</span>
<a name="l00171"></a>00171     <span class="keywordtype">bool</span> check_validator()<span class="keyword"> const</span>
<a name="l00172"></a>00172 <span class="keyword">    </span>{
<a name="l00173"></a>00173       wxCHECK_MSG(m_validatorWindow,
<a name="l00174"></a>00174                   <span class="keyword">false</span>,
<a name="l00175"></a>00175                   wxT(<span class="stringliteral">&quot;No window associated with validator&quot;</span>));
<a name="l00176"></a>00176 
<a name="l00177"></a>00177       wxCHECK_MSG(m_validatorWindow-&gt;IsKindOf(CLASSINFO(wxTextCtrl)),
<a name="l00178"></a>00178                   <span class="keyword">false</span>,
<a name="l00179"></a>00179                   wxT(<span class="stringliteral">&quot;wxTextValidator is only for wxTextCtrl&#39;s&quot;</span>) );
<a name="l00180"></a>00180 
<a name="l00181"></a>00181       <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00182"></a>00182     }
<a name="l00183"></a>00183 
<a name="l00184"></a>00184     <span class="comment">//: vgui dialog field used to store the data.</span>
<a name="l00185"></a>00185     <a class="code" href="classvgui__dialog__field.html" title="Represents a field in a dialog.">vgui_dialog_field</a>* field_;
<a name="l00186"></a>00186   };
<a name="l00187"></a>00187 } <span class="comment">// unnamed namespace</span>
<a name="l00188"></a>00188 
<a name="l00189"></a>00189 <span class="comment">//-------------------------------------------------------------------------</span>
<a name="l00190"></a>00190 <span class="comment">// vgui_wx_dialog_impl implementation - construction &amp; destruction.</span>
<a name="l00191"></a>00191 <span class="comment">//-------------------------------------------------------------------------</span>
<a name="l00192"></a><a class="code" href="classvgui__wx__dialog__impl.html#a79df606a5012a331f2bf73dc7d27c3b2">00192</a> <span class="comment">//: Constructor - create an empty dialog with the given title.</span>
<a name="l00193"></a>00193 <a class="code" href="classvgui__wx__dialog__impl.html#a79df606a5012a331f2bf73dc7d27c3b2" title="Constructor - create an empty dialog with the given title.">vgui_wx_dialog_impl::vgui_wx_dialog_impl</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="vgui__event_8cxx.html#a5f1de76dd5d451949e12c0fbc966ca70">name</a>)
<a name="l00194"></a>00194   : <a class="code" href="classvgui__dialog__impl.html" title="vgui_dialog_impl is the abstract base class for dialog implementation.">vgui_dialog_impl</a>(name)
<a name="l00195"></a>00195   , title_(name)
<a name="l00196"></a>00196   , dialog_(0)
<a name="l00197"></a>00197   , last_element_count_(0)
<a name="l00198"></a>00198   , max_label_width_(0)
<a name="l00199"></a>00199   , is_modal_(true)
<a name="l00200"></a>00200   , adaptor_(0)
<a name="l00201"></a>00201 {
<a name="l00202"></a>00202   wxLogTrace(wxTRACE_RefCount, wxT(<span class="stringliteral">&quot;vgui_wx_dialog_impl::vgui_wx_dialog_impl&quot;</span>));
<a name="l00203"></a>00203 }
<a name="l00204"></a>00204 
<a name="l00205"></a><a class="code" href="classvgui__wx__dialog__impl.html#a5106c2bc1a073cb3939e5bb25d96dfdf">00205</a> <span class="comment">//: Destructor.</span>
<a name="l00206"></a>00206 <a class="code" href="classvgui__wx__dialog__impl.html#a5106c2bc1a073cb3939e5bb25d96dfdf" title="Destructor.">vgui_wx_dialog_impl::~vgui_wx_dialog_impl</a>(<span class="keywordtype">void</span>)
<a name="l00207"></a>00207 {
<a name="l00208"></a>00208   wxLogTrace(wxTRACE_RefCount, wxT(<span class="stringliteral">&quot;vgui_wx_dialog_impl::~vgui_wx_dialog_impl&quot;</span>));
<a name="l00209"></a>00209   <a class="code" href="classvgui__wx__dialog__impl.html#ae1b44ee7b0a234dd59d374599d254d50">destroy_wx_dialog</a>();
<a name="l00210"></a>00210 }
<a name="l00211"></a>00211 
<a name="l00212"></a>00212 <span class="comment">//-------------------------------------------------------------------------</span>
<a name="l00213"></a>00213 <span class="comment">// vgui_wx_dialog_impl implementation.</span>
<a name="l00214"></a>00214 <span class="comment">//-------------------------------------------------------------------------</span>
<a name="l00215"></a>00215 <span class="comment">//: Display the dialog box form and collect data from the user.</span>
<a name="l00216"></a>00216 <span class="comment">//</span>
<a name="l00217"></a>00217 <span class="comment">// In modal mode, it returns true if ok was pressed and false otherwise.</span>
<a name="l00218"></a>00218 <span class="comment">// In modeless mode, it returns false if the dialog was already displayed</span>
<a name="l00219"></a>00219 <span class="comment">// and true if it wasn&#39;t.</span>
<a name="l00220"></a>00220 <span class="comment">//</span>
<a name="l00221"></a>00221 <span class="comment">// The vgui_dialog API doesn&#39;t really support modeless dialogs for data</span>
<a name="l00222"></a>00222 <span class="comment">// collection nor data monitoring. For example, for data monitoring we</span>
<a name="l00223"></a>00223 <span class="comment">// would need some sort of update() function to allow the user to</span>
<a name="l00224"></a><a class="code" href="classvgui__wx__dialog__impl.html#aed43a86ac68e00cdd6b20d4c056d79e9">00224</a> <span class="comment">// periodically refresh the dialog values.</span>
<a name="l00225"></a>00225 <span class="keywordtype">bool</span> <a class="code" href="classvgui__wx__dialog__impl.html#aed43a86ac68e00cdd6b20d4c056d79e9" title="Display the dialog box form and collect data from the user.">vgui_wx_dialog_impl::ask</a>(<span class="keywordtype">void</span>)
<a name="l00226"></a>00226 {
<a name="l00227"></a>00227   <span class="comment">// rebuild the dialog, if the elements have changed</span>
<a name="l00228"></a>00228   <span class="keywordflow">if</span> (<a class="code" href="classvgui__wx__dialog__impl.html#a8a6b612a4c477290607c0e080b0560df" title="Determine if dialog has changed since last construction (i.e., ask()).">has_changed</a>()) { <a class="code" href="classvgui__wx__dialog__impl.html#ac13093443e78b30a9e5fb53cf95d205a">build_wx_dialog</a>(); }
<a name="l00229"></a>00229 
<a name="l00230"></a>00230   <span class="comment">// show the dialog</span>
<a name="l00231"></a>00231   <span class="keywordflow">if</span> (<a class="code" href="classvgui__wx__dialog__impl.html#a828d659ff4b2d72eda654b947e98d36d" title="True if the dialog box is modal (true by default).">is_modal_</a>)
<a name="l00232"></a>00232   {
<a name="l00233"></a>00233     <span class="keywordflow">return</span> <a class="code" href="classvgui__wx__dialog__impl.html#a491e162bcbdcbb16486b1b34b6ddd26d" title="Pointer to wxWidgets dialog widget.">dialog_</a>-&gt;ShowModal() == wxID_OK ? <span class="keyword">true</span> : <span class="keyword">false</span>;
<a name="l00234"></a>00234   }
<a name="l00235"></a>00235   <span class="keywordflow">else</span>
<a name="l00236"></a>00236   {
<a name="l00237"></a>00237     <span class="keywordflow">return</span> <a class="code" href="classvgui__wx__dialog__impl.html#a491e162bcbdcbb16486b1b34b6ddd26d" title="Pointer to wxWidgets dialog widget.">dialog_</a>-&gt;Show();
<a name="l00238"></a>00238   }
<a name="l00239"></a>00239 }
<a name="l00240"></a><a class="code" href="structvgui__wx__dialog__choice.html">00240</a> 
<a name="l00241"></a>00241 <span class="keyword">struct </span><a class="code" href="structvgui__wx__dialog__choice.html">vgui_wx_dialog_choice</a>
<a name="l00242"></a><a class="code" href="structvgui__wx__dialog__choice.html#a619bbe0bf1e35a1377d7b6be2078a5fd">00242</a> {
<a name="l00243"></a><a class="code" href="structvgui__wx__dialog__choice.html#a45f8a8b9e5c37c513414fc8021e1b2f3">00243</a>   vcl_vector&lt;vcl_string&gt; <a class="code" href="structvgui__wx__dialog__choice.html#a619bbe0bf1e35a1377d7b6be2078a5fd">names</a>;
<a name="l00244"></a>00244   <span class="keywordtype">int</span> <a class="code" href="structvgui__wx__dialog__choice.html#a45f8a8b9e5c37c513414fc8021e1b2f3">index</a>;
<a name="l00245"></a>00245 };
<a name="l00246"></a>00246 
<a name="l00247"></a>00247 <span class="comment">//: Create a choice widget.</span>
<a name="l00248"></a><a class="code" href="classvgui__dialog__impl.html#a58f29216ab2e804d645383e80422eb63">00248</a> <span class="keywordtype">void</span>* <a class="code" href="classvgui__wx__dialog__impl.html#a26212f0a08884fd4a505a68ed48d7cfd" title="Create a choice widget.">vgui_wx_dialog_impl::</a>
<a name="l00249"></a>00249 <a class="code" href="classvgui__wx__dialog__impl.html#a26212f0a08884fd4a505a68ed48d7cfd" title="Create a choice widget.">choice_field_widget</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* WXUNUSED(txt),
<a name="l00250"></a>00250                     <span class="keyword">const</span> vcl_vector&lt;vcl_string&gt;&amp; labels,
<a name="l00251"></a>00251                     <span class="keywordtype">int</span>&amp; val)
<a name="l00252"></a>00252 {
<a name="l00253"></a>00253   <a class="code" href="structvgui__wx__dialog__choice.html">vgui_wx_dialog_choice</a>* choice_data = <span class="keyword">new</span> <a class="code" href="structvgui__wx__dialog__choice.html">vgui_wx_dialog_choice</a>;
<a name="l00254"></a>00254   choice_data-&gt;<a class="code" href="structvgui__wx__dialog__choice.html#a619bbe0bf1e35a1377d7b6be2078a5fd">names</a> = labels;
<a name="l00255"></a>00255   choice_data-&gt;<a class="code" href="structvgui__wx__dialog__choice.html#a45f8a8b9e5c37c513414fc8021e1b2f3">index</a> = val;
<a name="l00256"></a>00256   <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(choice_data);
<a name="l00257"></a>00257 }
<a name="l00258"></a><a class="code" href="structvgui__wx__dialog__inline__tab.html">00258</a> 
<a name="l00259"></a>00259 <span class="keyword">struct </span><a class="code" href="structvgui__wx__dialog__inline__tab.html">vgui_wx_dialog_inline_tab</a>
<a name="l00260"></a><a class="code" href="structvgui__wx__dialog__inline__tab.html#ab4c7216fdb8aa691faa6fe8f150fc4ba">00260</a> {
<a name="l00261"></a><a class="code" href="structvgui__wx__dialog__inline__tab.html#a2b7eae190842205bdf64ccfbfec6d0ff">00261</a>   <a class="code" href="structvgui__tableau__sptr.html">vgui_tableau_sptr</a>  <a class="code" href="structvgui__wx__dialog__inline__tab.html#ab4c7216fdb8aa691faa6fe8f150fc4ba">tab</a>;
<a name="l00262"></a><a class="code" href="structvgui__wx__dialog__inline__tab.html#a163bfb54d443ba50e5c787f01c9d02ff">00262</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>       <a class="code" href="structvgui__wx__dialog__inline__tab.html#a2b7eae190842205bdf64ccfbfec6d0ff">height</a>;
<a name="l00263"></a>00263   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>       <a class="code" href="structvgui__wx__dialog__inline__tab.html#a163bfb54d443ba50e5c787f01c9d02ff">width</a>;
<a name="l00264"></a>00264 };
<a name="l00265"></a>00265 
<a name="l00266"></a>00266 <span class="comment">//: Create the inline_tableau_widget (OpenGL area).</span>
<a name="l00267"></a><a class="code" href="classvgui__dialog__impl.html#a4de97933ae2cf9db791f11215aebb482">00267</a> <span class="keywordtype">void</span>*
<a name="l00268"></a>00268 <a class="code" href="classvgui__wx__dialog__impl.html#a678708b739ee8f07fa30b59ad7061e31" title="Create the inline_tableau_widget (OpenGL area).">vgui_wx_dialog_impl::inline_tableau_widget</a>(<span class="keyword">const</span> <a class="code" href="structvgui__tableau__sptr.html">vgui_tableau_sptr</a> tab,
<a name="l00269"></a>00269                                            <span class="keywordtype">unsigned</span> width,
<a name="l00270"></a>00270                                            <span class="keywordtype">unsigned</span> height)
<a name="l00271"></a>00271 {
<a name="l00272"></a>00272   <a class="code" href="structvgui__wx__dialog__inline__tab.html">vgui_wx_dialog_inline_tab</a>* tab_data = <span class="keyword">new</span> <a class="code" href="structvgui__wx__dialog__inline__tab.html">vgui_wx_dialog_inline_tab</a>;
<a name="l00273"></a>00273   tab_data-&gt;<a class="code" href="structvgui__wx__dialog__inline__tab.html#ab4c7216fdb8aa691faa6fe8f150fc4ba">tab</a>    = tab;
<a name="l00274"></a>00274   tab_data-&gt;<a class="code" href="structvgui__wx__dialog__inline__tab.html#a2b7eae190842205bdf64ccfbfec6d0ff">height</a> = height;
<a name="l00275"></a>00275   tab_data-&gt;<a class="code" href="structvgui__wx__dialog__inline__tab.html#a163bfb54d443ba50e5c787f01c9d02ff">width</a>  = width;
<a name="l00276"></a>00276   <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">void</span>*<span class="keyword">&gt;</span>(tab_data);
<a name="l00277"></a>00277 }
<a name="l00278"></a>00278 
<a name="l00279"></a>00279 <span class="comment">//-------------------------------------------------------------------------</span>
<a name="l00280"></a>00280 <span class="comment">// vgui_wx_dialog_impl implementation - private helpers.</span>
<a name="l00281"></a><a class="code" href="classvgui__wx__dialog__impl.html#ac13093443e78b30a9e5fb53cf95d205a">00281</a> <span class="comment">//-------------------------------------------------------------------------</span>
<a name="l00282"></a>00282 <span class="keywordtype">void</span> <a class="code" href="classvgui__wx__dialog__impl.html#ac13093443e78b30a9e5fb53cf95d205a">vgui_wx_dialog_impl::build_wx_dialog</a>(<span class="keywordtype">void</span>)
<a name="l00283"></a>00283 {
<a name="l00284"></a>00284   <span class="comment">// clean any previous construction</span>
<a name="l00285"></a>00285   <a class="code" href="classvgui__wx__dialog__impl.html#ae1b44ee7b0a234dd59d374599d254d50">destroy_wx_dialog</a>();
<a name="l00286"></a>00286 
<a name="l00287"></a>00287   <a class="code" href="classvgui__wx__dialog__impl.html#a491e162bcbdcbb16486b1b34b6ddd26d" title="Pointer to wxWidgets dialog widget.">dialog_</a> = <span class="keyword">new</span> wxDialog(0,
<a name="l00288"></a>00288                          wxID_ANY,
<a name="l00289"></a>00289                          wxString(<a class="code" href="classvgui__wx__dialog__impl.html#a69785d32ed8576ed4fc2117caac177bf" title="Title of the dialog widget.">title_</a>.c_str(),wxConvUTF8),
<a name="l00290"></a>00290                          wxDefaultPosition,
<a name="l00291"></a>00291                          wxDefaultSize,
<a name="l00292"></a>00292                          wxDEFAULT_DIALOG_STYLE);
<a name="l00293"></a>00293 
<a name="l00294"></a>00294   <span class="comment">// handler for dynamic connection</span>
<a name="l00295"></a>00295   vgui_wx_event_handler* handler = <span class="keyword">new</span> vgui_wx_event_handler;
<a name="l00296"></a>00296   <span class="keywordtype">int</span> <span class="keywordtype">id</span> = wxID_HIGHEST;
<a name="l00297"></a>00297 
<a name="l00298"></a>00298   <span class="comment">// probe for column sizes</span>
<a name="l00299"></a>00299   <a class="code" href="classvgui__wx__dialog__impl.html#a2238e7da46bfa0f57dc67f152c3181fd" title="The width of the largest label; used for graphical alignment.">max_label_width_</a> = <a class="code" href="classvgui__wx__dialog__impl.html#a3d3ef14b6c645fcc0f5383a0ecf6c986">probe_for_max_label_width</a>();
<a name="l00300"></a>00300   <span class="keyword">const</span> <span class="keywordtype">int</span> min_dialog_width = <a class="code" href="classvgui__wx__dialog__impl.html#a2238e7da46bfa0f57dc67f152c3181fd" title="The width of the largest label; used for graphical alignment.">max_label_width_</a> + 200;
<a name="l00301"></a>00301 
<a name="l00302"></a>00302   <span class="comment">// for outer separation border</span>
<a name="l00303"></a>00303   wxSizer* top_sizer = <span class="keyword">new</span> wxBoxSizer(wxHORIZONTAL);
<a name="l00304"></a>00304 
<a name="l00305"></a>00305   <span class="comment">// sizer that will hold all elements</span>
<a name="l00306"></a>00306   wxSizer* holder = <span class="keyword">new</span> wxFlexGridSizer(1);
<a name="l00307"></a>00307   holder-&gt;SetMinSize(<a class="code" href="classvgui__wx__dialog__impl.html#a2238e7da46bfa0f57dc67f152c3181fd" title="The width of the largest label; used for graphical alignment.">max_label_width_</a>+200, 0);
<a name="l00308"></a>00308   top_sizer-&gt;Add(holder, 0, wxGROW | wxALL, 3);
<a name="l00309"></a>00309 
<a name="l00310"></a>00310   <span class="comment">// flags to use on each element</span>
<a name="l00311"></a>00311   wxSizerFlags flags(wxSizerFlags(0).Expand().Border(wxALL, 2));
<a name="l00312"></a>00312 
<a name="l00313"></a>00313   <span class="comment">// process each element</span>
<a name="l00314"></a>00314   <span class="keywordflow">for</span> (vcl_vector&lt;element&gt;::const_iterator e = <a class="code" href="classvgui__dialog__impl.html#ae27f4223e2a615d39b537742978cb8eb">elements</a>.begin();
<a name="l00315"></a>00315        e != <a class="code" href="classvgui__dialog__impl.html#ae27f4223e2a615d39b537742978cb8eb">elements</a>.end(); ++e)
<a name="l00316"></a>00316   {
<a name="l00317"></a>00317     <span class="keywordflow">switch</span> (e-&gt;type)
<a name="l00318"></a>00318     {
<a name="l00319"></a>00319     <span class="keywordflow">case</span> <a class="code" href="classvgui__dialog__impl.html#ad9ebd65b064965bc859cc8ef78947e9ca9672d5de56e510c0ed973643142560d4">bool_elem</a>:
<a name="l00320"></a>00320       holder-&gt;Add(<a class="code" href="classvgui__wx__dialog__impl.html#a3ce0c7ceb46adaee9a6be35646d8cc43">bool_element</a>(e-&gt;field), flags);
<a name="l00321"></a>00321       <span class="keywordflow">break</span>;
<a name="l00322"></a>00322 
<a name="l00323"></a>00323     <span class="keywordflow">case</span> <a class="code" href="classvgui__dialog__impl.html#ad9ebd65b064965bc859cc8ef78947e9ca5131e1ef20e9361cb0699ddc61e2d16c">int_elem</a>   :
<a name="l00324"></a>00324     <span class="keywordflow">case</span> <a class="code" href="classvgui__dialog__impl.html#ad9ebd65b064965bc859cc8ef78947e9caf2769758bed84bdbddbada236407b915">long_elem</a>  :
<a name="l00325"></a>00325     <span class="keywordflow">case</span> <a class="code" href="classvgui__dialog__impl.html#ad9ebd65b064965bc859cc8ef78947e9cade67fafc09e38b3710331283e1514465">float_elem</a> :
<a name="l00326"></a>00326     <span class="keywordflow">case</span> <a class="code" href="classvgui__dialog__impl.html#ad9ebd65b064965bc859cc8ef78947e9ca56812cd74972e9cba35e3edf5e246fbc">double_elem</a>:
<a name="l00327"></a>00327     <span class="keywordflow">case</span> <a class="code" href="classvgui__dialog__impl.html#ad9ebd65b064965bc859cc8ef78947e9ca31689722256077f49a4840d0c624be77">string_elem</a>:
<a name="l00328"></a>00328       holder-&gt;Add(<a class="code" href="classvgui__wx__dialog__impl.html#a2d472088c4591eea696c173abbbbf43b">text_element</a>(e-&gt;field), flags);
<a name="l00329"></a>00329       <span class="keywordflow">break</span>;
<a name="l00330"></a>00330 
<a name="l00331"></a>00331     <span class="keywordflow">case</span> <a class="code" href="classvgui__dialog__impl.html#ad9ebd65b064965bc859cc8ef78947e9cacaae5616ab67c43554f278753d808ae8">choice_elem</a>:
<a name="l00332"></a>00332       holder-&gt;Add(
<a name="l00333"></a>00333         <a class="code" href="classvgui__wx__dialog__impl.html#aad0a5f93862bf18f6ca94586f3ffac39">choice_element</a>(e-&gt;field,
<a name="l00334"></a>00334                        static_cast&lt;vgui_wx_dialog_choice*&gt;(e-&gt;widget)),
<a name="l00335"></a>00335         flags);
<a name="l00336"></a>00336       <span class="keywordflow">break</span>;
<a name="l00337"></a>00337 
<a name="l00338"></a>00338     <span class="keywordflow">case</span> <a class="code" href="classvgui__dialog__impl.html#ad9ebd65b064965bc859cc8ef78947e9cae1cd9e873ec2f7a0afde88b0f3c60596">text_msg</a>:
<a name="l00339"></a>00339       <span class="comment">//holder-&gt;Add(separator_element(min_dialog_width), flags);</span>
<a name="l00340"></a>00340       holder-&gt;Add(<span class="keyword">new</span> wxStaticText(<a class="code" href="classvgui__wx__dialog__impl.html#a491e162bcbdcbb16486b1b34b6ddd26d" title="Pointer to wxWidgets dialog widget.">dialog_</a>,
<a name="l00341"></a>00341                                    wxID_STATIC,
<a name="l00342"></a>00342                                    wxString(e-&gt;field-&gt;label.c_str(),wxConvUTF8)),
<a name="l00343"></a>00343                   flags);
<a name="l00344"></a>00344       <span class="comment">//holder-&gt;Add(separator_element(min_dialog_width), flags);</span>
<a name="l00345"></a>00345       <span class="keywordflow">break</span>;
<a name="l00346"></a>00346 
<a name="l00347"></a>00347     <span class="keywordflow">case</span> <a class="code" href="classvgui__dialog__impl.html#ad9ebd65b064965bc859cc8ef78947e9ca001d1936ab5fcd5cf5c6c4ced81181fb">file_bsr</a>:
<a name="l00348"></a>00348     <span class="keywordflow">case</span> <a class="code" href="classvgui__dialog__impl.html#ad9ebd65b064965bc859cc8ef78947e9ca83c7d2778eead7ace5fed700102c378a">inline_file_bsr</a>: <span class="comment">// ***** this should be different...</span>
<a name="l00349"></a>00349       { <span class="comment">// create variable scope for txt_ctrl</span>
<a name="l00350"></a>00350       wxTextCtrl* txt_ctrl;
<a name="l00351"></a>00351       holder-&gt;Add(
<a name="l00352"></a>00352         <a class="code" href="classvgui__wx__dialog__impl.html#a60524908ff6c344ccebdee8610b53119">text_with_button_element</a>(e-&gt;field, txt_ctrl, <span class="stringliteral">&quot;Browse...&quot;</span>, ++<span class="keywordtype">id</span>),
<a name="l00353"></a>00353         flags);
<a name="l00354"></a>00354 
<a name="l00355"></a>00355       <span class="comment">// dynamically connect a handler that launches a wxFileSelector</span>
<a name="l00356"></a>00356       handler-&gt;insert_handle(<span class="keywordtype">id</span>, txt_ctrl);
<a name="l00357"></a>00357       handler-&gt;Connect(<span class="keywordtype">id</span>,
<a name="l00358"></a>00358                        wxEVT_COMMAND_BUTTON_CLICKED,
<a name="l00359"></a>00359                        <a class="code" href="vgui__wx__dialog__impl_8cxx.html#a0d6dae6df6781f628e1f6803f67078c8">wxCommandEventHandler</a>(vgui_wx_event_handler::file_browser),
<a name="l00360"></a>00360                        0,
<a name="l00361"></a>00361                        handler);
<a name="l00362"></a>00362       }
<a name="l00363"></a>00363       <span class="keywordflow">break</span>;
<a name="l00364"></a>00364 
<a name="l00365"></a>00365     <span class="keywordflow">case</span> <a class="code" href="classvgui__dialog__impl.html#ad9ebd65b064965bc859cc8ef78947e9ca4140eb40873a83f3a16e63fc2ab38b09">color_csr</a>:
<a name="l00366"></a>00366     <span class="keywordflow">case</span> <a class="code" href="classvgui__dialog__impl.html#ad9ebd65b064965bc859cc8ef78947e9ca96a15a40c5d4d8b288e3ef5002b61fa5">inline_color_csr</a>: <span class="comment">// ***** this should be different...</span>
<a name="l00367"></a>00367       { <span class="comment">// create variable scope for txt_ctrl</span>
<a name="l00368"></a>00368       wxTextCtrl* txt_ctrl;
<a name="l00369"></a>00369       holder-&gt;Add(
<a name="l00370"></a>00370         <a class="code" href="classvgui__wx__dialog__impl.html#a60524908ff6c344ccebdee8610b53119">text_with_button_element</a>(e-&gt;field, txt_ctrl, <span class="stringliteral">&quot;Color...&quot;</span>, ++<span class="keywordtype">id</span>),
<a name="l00371"></a>00371         flags);
<a name="l00372"></a>00372 
<a name="l00373"></a>00373       <span class="comment">// dynamically connect a handler that launches a wxFileSelector</span>
<a name="l00374"></a>00374       handler-&gt;insert_handle(<span class="keywordtype">id</span>, txt_ctrl);
<a name="l00375"></a>00375       handler-&gt;Connect(<span class="keywordtype">id</span>,
<a name="l00376"></a>00376                        wxEVT_COMMAND_BUTTON_CLICKED,
<a name="l00377"></a>00377                        <a class="code" href="vgui__wx__dialog__impl_8cxx.html#a0d6dae6df6781f628e1f6803f67078c8">wxCommandEventHandler</a>(vgui_wx_event_handler::color_chooser),
<a name="l00378"></a>00378                        0,
<a name="l00379"></a>00379                        handler);
<a name="l00380"></a>00380       }
<a name="l00381"></a>00381       <span class="keywordflow">break</span>;
<a name="l00382"></a>00382 
<a name="l00383"></a>00383     <span class="keywordflow">case</span> <a class="code" href="classvgui__dialog__impl.html#ad9ebd65b064965bc859cc8ef78947e9ca74db747d3c39f6d8187952df882307ac">inline_tabl</a>:
<a name="l00384"></a>00384       { <span class="comment">// create variable scope for adaptor</span>
<a name="l00385"></a>00385       <span class="comment">// ***** error if more than one inline tableau in this dialog</span>
<a name="l00386"></a>00386       <a class="code" href="classvgui__wx__adaptor.html" title="wxWidgets implementation of vgui_adaptor.">vgui_wx_adaptor</a>* adaptor = <span class="keyword">new</span> <a class="code" href="classvgui__wx__adaptor.html" title="wxWidgets implementation of vgui_adaptor.">vgui_wx_adaptor</a>(
<a name="l00387"></a>00387         <a class="code" href="classvgui__wx__dialog__impl.html#a491e162bcbdcbb16486b1b34b6ddd26d" title="Pointer to wxWidgets dialog widget.">dialog_</a>,
<a name="l00388"></a>00388         wxID_ANY,
<a name="l00389"></a>00389         wxDefaultPosition,
<a name="l00390"></a>00390         wxSize(static_cast&lt;vgui_wx_dialog_inline_tab*&gt;(e-&gt;widget)-&gt;width,
<a name="l00391"></a>00391                static_cast&lt;vgui_wx_dialog_inline_tab*&gt;(e-&gt;widget)-&gt;height),
<a name="l00392"></a>00392         wxBORDER_SUNKEN);
<a name="l00393"></a>00393       adaptor-&gt;<a class="code" href="classvgui__adaptor.html#a64cbae191b4dc77c24bcf86541770510" title="Set the vgui_tableau associated with this vgui_adaptor.">set_tableau</a>(static_cast&lt;vgui_wx_dialog_inline_tab*&gt;(e-&gt;widget)-&gt;tab);
<a name="l00394"></a>00394       <span class="comment">//adaptor-&gt;SetSize(static_cast&lt;vgui_wx_dialog_inline_tab*&gt;(e-&gt;widget)-&gt;width,</span>
<a name="l00395"></a>00395       <span class="comment">//                 static_cast&lt;vgui_wx_dialog_inline_tab*&gt;(e-&gt;widget)-&gt;height);</span>
<a name="l00396"></a>00396 
<a name="l00397"></a>00397       <span class="comment">//wxBoxSizer* box_sizer = new wxBoxSizer(wxVERTICAL);</span>
<a name="l00398"></a>00398       <span class="comment">//box_sizer-&gt;Add(adaptor);</span>
<a name="l00399"></a>00399       <span class="comment">//holder-&gt;Add(box_sizer, flags);</span>
<a name="l00400"></a>00400       holder-&gt;Add(adaptor, flags);
<a name="l00401"></a>00401 
<a name="l00402"></a>00402       <span class="comment">//adaptor-&gt;post_redraw();</span>
<a name="l00403"></a>00403       <a class="code" href="classvgui__wx__dialog__impl.html#aafd995c98883a329373f4ca366366b60">adaptor_</a> = adaptor;
<a name="l00404"></a>00404       }
<a name="l00405"></a>00405       <span class="keywordflow">break</span>;
<a name="l00406"></a>00406 
<a name="l00407"></a>00407     <span class="keywordflow">default</span>:
<a name="l00408"></a>00408       vcl_cerr &lt;&lt; <span class="stringliteral">&quot;Unknown type = &quot;</span> &lt;&lt; e-&gt;type &lt;&lt; vcl_endl;
<a name="l00409"></a>00409     }
<a name="l00410"></a>00410   }
<a name="l00411"></a>00411 
<a name="l00412"></a>00412   <span class="comment">// separator line and enforcer of the dialog&#39;s minimum width</span>
<a name="l00413"></a>00413   holder-&gt;Add(<a class="code" href="classvgui__wx__dialog__impl.html#a6c5d3cdf87a5e09afc3e0f0feb2096bd">separator_element</a>(min_dialog_width), flags);
<a name="l00414"></a>00414 
<a name="l00415"></a>00415   <span class="comment">// add ok/cancel buttons</span>
<a name="l00416"></a>00416   holder-&gt;Add(<a class="code" href="classvgui__wx__dialog__impl.html#a6c982483d9d6b20dfa25c4137f3d1598">exit_buttons_element</a>(), 0, wxALIGN_RIGHT | wxALL, 2);
<a name="l00417"></a>00417 
<a name="l00418"></a>00418   <span class="comment">// resize to contents</span>
<a name="l00419"></a>00419   <span class="comment">// ***** fix for case when larger than screen, make scrollable maybe?</span>
<a name="l00420"></a>00420   <a class="code" href="classvgui__wx__dialog__impl.html#a491e162bcbdcbb16486b1b34b6ddd26d" title="Pointer to wxWidgets dialog widget.">dialog_</a>-&gt;SetSize(<a class="code" href="classvgui__wx__dialog__impl.html#a491e162bcbdcbb16486b1b34b6ddd26d" title="Pointer to wxWidgets dialog widget.">dialog_</a>-&gt;GetEffectiveMinSize());
<a name="l00421"></a>00421   <a class="code" href="classvgui__wx__dialog__impl.html#a491e162bcbdcbb16486b1b34b6ddd26d" title="Pointer to wxWidgets dialog widget.">dialog_</a>-&gt;PushEventHandler(handler);
<a name="l00422"></a>00422 
<a name="l00423"></a>00423   <a class="code" href="classvgui__wx__dialog__impl.html#a491e162bcbdcbb16486b1b34b6ddd26d" title="Pointer to wxWidgets dialog widget.">dialog_</a>-&gt;SetSizer(top_sizer);
<a name="l00424"></a>00424   top_sizer-&gt;SetSizeHints(<a class="code" href="classvgui__wx__dialog__impl.html#a491e162bcbdcbb16486b1b34b6ddd26d" title="Pointer to wxWidgets dialog widget.">dialog_</a>);
<a name="l00425"></a>00425 
<a name="l00426"></a>00426   <span class="comment">// save the element count to determine change</span>
<a name="l00427"></a>00427   <a class="code" href="classvgui__wx__dialog__impl.html#a896499e920322c1b05cce3f5601874f6" title="Element count at the last dialog construction (i.e., ask()).">last_element_count_</a> = <a class="code" href="classvgui__dialog__impl.html#ae27f4223e2a615d39b537742978cb8eb">elements</a>.size();
<a name="l00428"></a>00428 }
<a name="l00429"></a><a class="code" href="classvgui__wx__dialog__impl.html#ae1b44ee7b0a234dd59d374599d254d50">00429</a> 
<a name="l00430"></a>00430 <span class="keywordtype">void</span> <a class="code" href="classvgui__wx__dialog__impl.html#ae1b44ee7b0a234dd59d374599d254d50">vgui_wx_dialog_impl::destroy_wx_dialog</a>(<span class="keywordtype">void</span>)
<a name="l00431"></a>00431 {
<a name="l00432"></a>00432   <span class="keywordflow">if</span> (<a class="code" href="classvgui__wx__dialog__impl.html#a491e162bcbdcbb16486b1b34b6ddd26d" title="Pointer to wxWidgets dialog widget.">dialog_</a>)
<a name="l00433"></a>00433   {
<a name="l00434"></a>00434     <a class="code" href="classvgui__wx__dialog__impl.html#a491e162bcbdcbb16486b1b34b6ddd26d" title="Pointer to wxWidgets dialog widget.">dialog_</a>-&gt;PopEventHandler(<span class="keyword">true</span>);
<a name="l00435"></a>00435     <span class="keywordflow">if</span> (<a class="code" href="classvgui__wx__dialog__impl.html#aafd995c98883a329373f4ca366366b60">adaptor_</a>)
<a name="l00436"></a>00436     {
<a name="l00437"></a>00437       <a class="code" href="classvgui__wx__dialog__impl.html#aafd995c98883a329373f4ca366366b60">adaptor_</a>-&gt;<a class="code" href="classvgui__wx__adaptor.html#aba38e3b7ea4dabaabe61306a4939cd92" title="Schedules destruction of parent vgui_window.">post_destroy</a>();
<a name="l00438"></a>00438       <span class="comment">//delete adaptor_;</span>
<a name="l00439"></a>00439       <a class="code" href="classvgui__wx__dialog__impl.html#aafd995c98883a329373f4ca366366b60">adaptor_</a> = 0;
<a name="l00440"></a>00440     }
<a name="l00441"></a>00441     <a class="code" href="classvgui__wx__dialog__impl.html#a491e162bcbdcbb16486b1b34b6ddd26d" title="Pointer to wxWidgets dialog widget.">dialog_</a>-&gt;Destroy();
<a name="l00442"></a>00442     <a class="code" href="classvgui__wx__dialog__impl.html#a491e162bcbdcbb16486b1b34b6ddd26d" title="Pointer to wxWidgets dialog widget.">dialog_</a> = 0;
<a name="l00443"></a>00443   }
<a name="l00444"></a>00444 }
<a name="l00445"></a>00445 
<a name="l00446"></a>00446 <span class="comment">//: Determine if dialog has changed since last construction (i.e., ask()).</span>
<a name="l00447"></a>00447 <span class="comment">//</span>
<a name="l00448"></a>00448 <span class="comment">// Note that we assume that the only change that can occur is that more</span>
<a name="l00449"></a><a class="code" href="classvgui__wx__dialog__impl.html#a8a6b612a4c477290607c0e080b0560df">00449</a> <span class="comment">// fields are added.</span>
<a name="l00450"></a>00450 <span class="keywordtype">bool</span> <a class="code" href="classvgui__wx__dialog__impl.html#a8a6b612a4c477290607c0e080b0560df" title="Determine if dialog has changed since last construction (i.e., ask()).">vgui_wx_dialog_impl::has_changed</a>(<span class="keywordtype">void</span>)<span class="keyword"> const</span>
<a name="l00451"></a>00451 <span class="keyword"></span>{
<a name="l00452"></a>00452   <span class="keywordflow">return</span> <a class="code" href="classvgui__wx__dialog__impl.html#a896499e920322c1b05cce3f5601874f6" title="Element count at the last dialog construction (i.e., ask()).">last_element_count_</a> != <a class="code" href="classvgui__dialog__impl.html#ae27f4223e2a615d39b537742978cb8eb">elements</a>.size();
<a name="l00453"></a>00453 }
<a name="l00454"></a><a class="code" href="classvgui__wx__dialog__impl.html#a3d3ef14b6c645fcc0f5383a0ecf6c986">00454</a> 
<a name="l00455"></a>00455 <span class="keywordtype">int</span> <a class="code" href="classvgui__wx__dialog__impl.html#a3d3ef14b6c645fcc0f5383a0ecf6c986">vgui_wx_dialog_impl::probe_for_max_label_width</a>(<span class="keywordtype">void</span>)
<a name="l00456"></a>00456 {
<a name="l00457"></a>00457   wxStaticText temp(<a class="code" href="classvgui__wx__dialog__impl.html#a491e162bcbdcbb16486b1b34b6ddd26d" title="Pointer to wxWidgets dialog widget.">dialog_</a>, wxID_ANY, wxString());
<a name="l00458"></a>00458   <span class="keywordtype">int</span> max_width = temp.GetSize().GetX();
<a name="l00459"></a>00459   <span class="keywordflow">for</span> (vcl_vector&lt;element&gt;::const_iterator e = <a class="code" href="classvgui__dialog__impl.html#ae27f4223e2a615d39b537742978cb8eb">elements</a>.begin();
<a name="l00460"></a>00460        e != <a class="code" href="classvgui__dialog__impl.html#ae27f4223e2a615d39b537742978cb8eb">elements</a>.end(); ++e)
<a name="l00461"></a>00461   {
<a name="l00462"></a>00462     <span class="keywordflow">switch</span> (e-&gt;type)
<a name="l00463"></a>00463     {
<a name="l00464"></a>00464      <span class="keywordflow">case</span> <a class="code" href="classvgui__dialog__impl.html#ad9ebd65b064965bc859cc8ef78947e9ca5131e1ef20e9361cb0699ddc61e2d16c">int_elem</a>:
<a name="l00465"></a>00465      <span class="keywordflow">case</span> <a class="code" href="classvgui__dialog__impl.html#ad9ebd65b064965bc859cc8ef78947e9caf2769758bed84bdbddbada236407b915">long_elem</a>:
<a name="l00466"></a>00466      <span class="keywordflow">case</span> <a class="code" href="classvgui__dialog__impl.html#ad9ebd65b064965bc859cc8ef78947e9cade67fafc09e38b3710331283e1514465">float_elem</a>:
<a name="l00467"></a>00467      <span class="keywordflow">case</span> <a class="code" href="classvgui__dialog__impl.html#ad9ebd65b064965bc859cc8ef78947e9ca56812cd74972e9cba35e3edf5e246fbc">double_elem</a>:
<a name="l00468"></a>00468      <span class="keywordflow">case</span> <a class="code" href="classvgui__dialog__impl.html#ad9ebd65b064965bc859cc8ef78947e9ca31689722256077f49a4840d0c624be77">string_elem</a>:
<a name="l00469"></a>00469      <span class="keywordflow">case</span> <a class="code" href="classvgui__dialog__impl.html#ad9ebd65b064965bc859cc8ef78947e9cacaae5616ab67c43554f278753d808ae8">choice_elem</a>:
<a name="l00470"></a>00470       temp.SetLabel(wxString(e-&gt;field-&gt;label.c_str(),wxConvUTF8));
<a name="l00471"></a>00471       max_width = vcl_max(max_width, temp.GetSize().GetX());
<a name="l00472"></a>00472       <span class="keywordflow">break</span>;
<a name="l00473"></a>00473      <span class="keywordflow">default</span>: <span class="comment">// do nothing</span>
<a name="l00474"></a>00474       <span class="keywordflow">break</span>;
<a name="l00475"></a>00475     }
<a name="l00476"></a>00476   }
<a name="l00477"></a>00477   temp.Show(<span class="keyword">false</span>);
<a name="l00478"></a>00478   <span class="keywordflow">return</span> max_width;
<a name="l00479"></a>00479 }
<a name="l00480"></a><a class="code" href="classvgui__wx__dialog__impl.html#a6c5d3cdf87a5e09afc3e0f0feb2096bd">00480</a> 
<a name="l00481"></a>00481 wxSizer* <a class="code" href="classvgui__wx__dialog__impl.html#a6c5d3cdf87a5e09afc3e0f0feb2096bd">vgui_wx_dialog_impl::separator_element</a>(<span class="keywordtype">int</span> min_width)
<a name="l00482"></a>00482 {
<a name="l00483"></a>00483   wxSizer* cell = <span class="keyword">new</span> wxBoxSizer(wxHORIZONTAL);
<a name="l00484"></a>00484   cell-&gt;Add(<span class="keyword">new</span> wxStaticLine(<a class="code" href="classvgui__wx__dialog__impl.html#a491e162bcbdcbb16486b1b34b6ddd26d" title="Pointer to wxWidgets dialog widget.">dialog_</a>,
<a name="l00485"></a>00485                              wxID_ANY,
<a name="l00486"></a>00486                              wxDefaultPosition,
<a name="l00487"></a>00487                              wxSize(min_width, -1)), 1);
<a name="l00488"></a>00488   <span class="keywordflow">return</span> cell;
<a name="l00489"></a>00489 }
<a name="l00490"></a><a class="code" href="classvgui__wx__dialog__impl.html#a3ce0c7ceb46adaee9a6be35646d8cc43">00490</a> 
<a name="l00491"></a>00491 wxSizer* <a class="code" href="classvgui__wx__dialog__impl.html#a3ce0c7ceb46adaee9a6be35646d8cc43">vgui_wx_dialog_impl::bool_element</a>(<a class="code" href="classvgui__dialog__field.html" title="Represents a field in a dialog.">vgui_dialog_field</a>* field)
<a name="l00492"></a>00492 {
<a name="l00493"></a>00493   assert(field);
<a name="l00494"></a>00494 
<a name="l00495"></a>00495   wxSizer* cell = <span class="keyword">new</span> wxBoxSizer(wxHORIZONTAL);
<a name="l00496"></a>00496   <span class="keywordtype">bool</span>* var = &amp;<span class="keyword">dynamic_cast&lt;</span><a class="code" href="classvgui__simple__field.html" title="Templated fields for dialog boxes.">vgui_bool_field</a>*<span class="keyword">&gt;</span>(field)-&gt;var;
<a name="l00497"></a>00497   cell-&gt;Add(<span class="keyword">new</span> wxCheckBox(<a class="code" href="classvgui__wx__dialog__impl.html#a491e162bcbdcbb16486b1b34b6ddd26d" title="Pointer to wxWidgets dialog widget.">dialog_</a>,
<a name="l00498"></a>00498                            wxID_ANY,
<a name="l00499"></a>00499                            wxString(field-&gt;<a class="code" href="classvgui__dialog__field.html#afc2e3026079ad8be155922dfc17ba352">label</a>.c_str(),wxConvUTF8),
<a name="l00500"></a>00500                            wxDefaultPosition,
<a name="l00501"></a>00501                            wxDefaultSize,
<a name="l00502"></a>00502                            wxCHK_2STATE,
<a name="l00503"></a>00503                            wxGenericValidator(var)),
<a name="l00504"></a>00504             0, wxALIGN_CENTER_VERTICAL);
<a name="l00505"></a>00505   <span class="keywordflow">return</span> cell;
<a name="l00506"></a>00506 }
<a name="l00507"></a><a class="code" href="classvgui__wx__dialog__impl.html#aad0a5f93862bf18f6ca94586f3ffac39">00507</a> 
<a name="l00508"></a>00508 wxSizer* <a class="code" href="classvgui__wx__dialog__impl.html#aad0a5f93862bf18f6ca94586f3ffac39">vgui_wx_dialog_impl::choice_element</a>(<a class="code" href="classvgui__dialog__field.html" title="Represents a field in a dialog.">vgui_dialog_field</a>* field,
<a name="l00509"></a>00509                                              <a class="code" href="structvgui__wx__dialog__choice.html">vgui_wx_dialog_choice</a>* choices)
<a name="l00510"></a>00510 {
<a name="l00511"></a>00511   assert(field);
<a name="l00512"></a>00512   assert(choices);
<a name="l00513"></a>00513 
<a name="l00514"></a>00514   wxSizer* cell = <span class="keyword">new</span> wxBoxSizer(wxHORIZONTAL);
<a name="l00515"></a>00515   wxStaticText* st = <span class="keyword">new</span> wxStaticText(<a class="code" href="classvgui__wx__dialog__impl.html#a491e162bcbdcbb16486b1b34b6ddd26d" title="Pointer to wxWidgets dialog widget.">dialog_</a>,
<a name="l00516"></a>00516                                       wxID_STATIC,
<a name="l00517"></a>00517                                       wxString(field-&gt;<a class="code" href="classvgui__dialog__field.html#afc2e3026079ad8be155922dfc17ba352">label</a>.c_str(),wxConvUTF8),
<a name="l00518"></a>00518                                       wxDefaultPosition,
<a name="l00519"></a>00519                                       wxSize(<a class="code" href="classvgui__wx__dialog__impl.html#a2238e7da46bfa0f57dc67f152c3181fd" title="The width of the largest label; used for graphical alignment.">max_label_width_</a>, -1),
<a name="l00520"></a>00520                                       wxALIGN_RIGHT);
<a name="l00521"></a>00521   cell-&gt;Add(st, 0, wxALIGN_CENTER_VERTICAL | wxRIGHT, 2);
<a name="l00522"></a>00522 
<a name="l00523"></a>00523   wxArrayString choice_labels;
<a name="l00524"></a>00524   <span class="keywordflow">for</span> (vcl_vector&lt;vcl_string&gt;::const_iterator label = choices-&gt;<a class="code" href="structvgui__wx__dialog__choice.html#a619bbe0bf1e35a1377d7b6be2078a5fd">names</a>.begin();
<a name="l00525"></a>00525        label != choices-&gt;<a class="code" href="structvgui__wx__dialog__choice.html#a619bbe0bf1e35a1377d7b6be2078a5fd">names</a>.end(); ++label)
<a name="l00526"></a>00526   {
<a name="l00527"></a>00527     choice_labels.Add(wxString(label-&gt;c_str(),wxConvUTF8));
<a name="l00528"></a>00528   }
<a name="l00529"></a>00529 
<a name="l00530"></a>00530   <span class="keywordtype">int</span>* var = &amp;<span class="keyword">dynamic_cast&lt;</span><a class="code" href="classvgui__simple__field.html" title="Templated fields for dialog boxes.">vgui_int_field</a>*<span class="keyword">&gt;</span>(field)-&gt;var;
<a name="l00531"></a>00531   wxChoice* wx_choice = <span class="keyword">new</span> wxChoice(<a class="code" href="classvgui__wx__dialog__impl.html#a491e162bcbdcbb16486b1b34b6ddd26d" title="Pointer to wxWidgets dialog widget.">dialog_</a>,
<a name="l00532"></a>00532                                      wxID_ANY,
<a name="l00533"></a>00533                                      wxDefaultPosition,
<a name="l00534"></a>00534                                      wxDefaultSize,
<a name="l00535"></a>00535                                      choice_labels,
<a name="l00536"></a>00536                                      0,
<a name="l00537"></a>00537                                      wxGenericValidator(var));
<a name="l00538"></a>00538   wx_choice-&gt;SetSelection(*var);
<a name="l00539"></a>00539   cell-&gt;Add(wx_choice, 1, wxALIGN_CENTER_VERTICAL | wxLEFT, 2);
<a name="l00540"></a>00540 
<a name="l00541"></a>00541   <span class="keywordflow">return</span> cell;
<a name="l00542"></a>00542 }
<a name="l00543"></a><a class="code" href="classvgui__wx__dialog__impl.html#a2d472088c4591eea696c173abbbbf43b">00543</a> 
<a name="l00544"></a>00544 wxSizer* <a class="code" href="classvgui__wx__dialog__impl.html#a2d472088c4591eea696c173abbbbf43b">vgui_wx_dialog_impl::text_element</a>(<a class="code" href="classvgui__dialog__field.html" title="Represents a field in a dialog.">vgui_dialog_field</a>* field)
<a name="l00545"></a>00545 {
<a name="l00546"></a>00546   assert(field);
<a name="l00547"></a>00547 
<a name="l00548"></a>00548   wxSizer* cell = <span class="keyword">new</span> wxBoxSizer(wxHORIZONTAL);
<a name="l00549"></a>00549 
<a name="l00550"></a>00550   wxStaticText* st = <span class="keyword">new</span> wxStaticText(<a class="code" href="classvgui__wx__dialog__impl.html#a491e162bcbdcbb16486b1b34b6ddd26d" title="Pointer to wxWidgets dialog widget.">dialog_</a>,
<a name="l00551"></a>00551                                       wxID_STATIC,
<a name="l00552"></a>00552                                       wxString(field-&gt;<a class="code" href="classvgui__dialog__field.html#afc2e3026079ad8be155922dfc17ba352">label</a>.c_str(),wxConvUTF8),
<a name="l00553"></a>00553                                       wxDefaultPosition,
<a name="l00554"></a>00554                                       wxSize(<a class="code" href="classvgui__wx__dialog__impl.html#a2238e7da46bfa0f57dc67f152c3181fd" title="The width of the largest label; used for graphical alignment.">max_label_width_</a>, -1),
<a name="l00555"></a>00555                                       wxALIGN_RIGHT);
<a name="l00556"></a>00556   cell-&gt;Add(st, 0, wxALIGN_CENTER_VERTICAL | wxRIGHT, 2);
<a name="l00557"></a>00557 
<a name="l00558"></a>00558   wxTextCtrl* t_control;
<a name="l00559"></a>00559   t_control = <span class="keyword">new</span> wxTextCtrl(<a class="code" href="classvgui__wx__dialog__impl.html#a491e162bcbdcbb16486b1b34b6ddd26d" title="Pointer to wxWidgets dialog widget.">dialog_</a>,
<a name="l00560"></a>00560                              wxID_ANY,
<a name="l00561"></a>00561                              wxString(field-&gt;<a class="code" href="classvgui__dialog__field.html#a8bbb3feba8e13ae943940f0f2db9422a">current_value</a>().c_str(),wxConvUTF8),
<a name="l00562"></a>00562                              wxDefaultPosition,
<a name="l00563"></a>00563                              wxDefaultSize,
<a name="l00564"></a>00564                              0,
<a name="l00565"></a>00565                              vgui_wx_text_validator(field));
<a name="l00566"></a>00566   cell-&gt;Add(t_control, 1, wxALIGN_CENTER_VERTICAL | wxLEFT, 2);
<a name="l00567"></a>00567 
<a name="l00568"></a>00568   <span class="keywordflow">return</span> cell;
<a name="l00569"></a>00569 }
<a name="l00570"></a>00570 
<a name="l00571"></a><a class="code" href="classvgui__wx__dialog__impl.html#a60524908ff6c344ccebdee8610b53119">00571</a> wxSizer*
<a name="l00572"></a>00572 <a class="code" href="classvgui__wx__dialog__impl.html#a60524908ff6c344ccebdee8610b53119">vgui_wx_dialog_impl::text_with_button_element</a>(<a class="code" href="classvgui__dialog__field.html" title="Represents a field in a dialog.">vgui_dialog_field</a>* field,
<a name="l00573"></a>00573                                               wxTextCtrl*&amp; text_control,
<a name="l00574"></a>00574                                               <span class="keyword">const</span> vcl_string&amp; button,
<a name="l00575"></a>00575                                               <span class="keywordtype">int</span> event_id)
<a name="l00576"></a>00576 {
<a name="l00577"></a>00577   assert(field);
<a name="l00578"></a>00578 
<a name="l00579"></a>00579   text_control = <span class="keyword">new</span> wxTextCtrl(<a class="code" href="classvgui__wx__dialog__impl.html#a491e162bcbdcbb16486b1b34b6ddd26d" title="Pointer to wxWidgets dialog widget.">dialog_</a>,
<a name="l00580"></a>00580                                 wxID_ANY,
<a name="l00581"></a>00581                                 wxString(field-&gt;<a class="code" href="classvgui__dialog__field.html#a8bbb3feba8e13ae943940f0f2db9422a">current_value</a>().c_str(),wxConvUTF8),
<a name="l00582"></a>00582                                 wxDefaultPosition,
<a name="l00583"></a>00583                                 wxDefaultSize,
<a name="l00584"></a>00584                                 0,
<a name="l00585"></a>00585                                 vgui_wx_text_validator(field));
<a name="l00586"></a>00586 
<a name="l00587"></a>00587   <span class="comment">// ***** this constructor not available in wxWidgets-2.5.3</span>
<a name="l00588"></a>00588   <span class="comment">//wxSizer* box = new wxStaticBoxSizer(wxVERTICAL, dialog_, field-&gt;label.c_str());</span>
<a name="l00589"></a>00589   wxSizer* box = <span class="keyword">new</span> wxStaticBoxSizer(
<a name="l00590"></a>00590     <span class="keyword">new</span> wxStaticBox(<a class="code" href="classvgui__wx__dialog__impl.html#a491e162bcbdcbb16486b1b34b6ddd26d" title="Pointer to wxWidgets dialog widget.">dialog_</a>, wxID_ANY, wxString(field-&gt;<a class="code" href="classvgui__dialog__field.html#afc2e3026079ad8be155922dfc17ba352">label</a>.c_str(),wxConvUTF8)), wxVERTICAL);
<a name="l00591"></a>00591   box-&gt;Add(text_control, 0, wxGROW | wxALL, 2);
<a name="l00592"></a>00592   box-&gt;Add(<span class="keyword">new</span> wxButton(<a class="code" href="classvgui__wx__dialog__impl.html#a491e162bcbdcbb16486b1b34b6ddd26d" title="Pointer to wxWidgets dialog widget.">dialog_</a>, event_id, wxString(button.c_str(),wxConvUTF8)),
<a name="l00593"></a>00593            0, wxALIGN_RIGHT | wxALL, 2);
<a name="l00594"></a>00594 
<a name="l00595"></a>00595   <span class="keywordflow">return</span> box;
<a name="l00596"></a>00596 }
<a name="l00597"></a><a class="code" href="classvgui__wx__dialog__impl.html#a6c982483d9d6b20dfa25c4137f3d1598">00597</a> 
<a name="l00598"></a>00598 wxSizer* <a class="code" href="classvgui__wx__dialog__impl.html#a6c982483d9d6b20dfa25c4137f3d1598">vgui_wx_dialog_impl::exit_buttons_element</a>(<span class="keywordtype">void</span>)
<a name="l00599"></a>00599 {
<a name="l00600"></a>00600   wxSizer* button_row = <span class="keyword">new</span> wxBoxSizer(wxHORIZONTAL);
<a name="l00601"></a>00601   <span class="keywordflow">if</span> (<a class="code" href="classvgui__dialog__impl.html#a1650b2ef41450bd112a2b5558714e427">ok_button_text_</a> != <span class="stringliteral">&quot;&quot;</span>)
<a name="l00602"></a>00602   {
<a name="l00603"></a>00603     button_row-&gt;Add(
<a name="l00604"></a>00604       <span class="keyword">new</span> wxButton(<a class="code" href="classvgui__wx__dialog__impl.html#a491e162bcbdcbb16486b1b34b6ddd26d" title="Pointer to wxWidgets dialog widget.">dialog_</a>, wxID_OK, wxString(<a class="code" href="classvgui__dialog__impl.html#a1650b2ef41450bd112a2b5558714e427">ok_button_text_</a>.c_str(),wxConvUTF8)));
<a name="l00605"></a>00605   }
<a name="l00606"></a>00606   <span class="keywordflow">if</span> (<a class="code" href="classvgui__dialog__impl.html#ad4725d5a77aff2fb2cf890dfaa6a2bbc">cancel_button_text_</a> != <span class="stringliteral">&quot;&quot;</span>)
<a name="l00607"></a>00607   {
<a name="l00608"></a>00608     button_row-&gt;Add(
<a name="l00609"></a>00609       <span class="keyword">new</span> wxButton(<a class="code" href="classvgui__wx__dialog__impl.html#a491e162bcbdcbb16486b1b34b6ddd26d" title="Pointer to wxWidgets dialog widget.">dialog_</a>, wxID_CANCEL, wxString(<a class="code" href="classvgui__dialog__impl.html#ad4725d5a77aff2fb2cf890dfaa6a2bbc">cancel_button_text_</a>.c_str(),wxConvUTF8)));
<a name="l00610"></a>00610   }
<a name="l00611"></a>00611   <span class="keywordflow">return</span> button_row;
<a name="l00612"></a>00612 }
<a name="l00613"></a>00613 
<a name="l00614"></a>00614 <span class="comment">//-------------------------------------------------------------------------</span>
<a name="l00615"></a>00615 <span class="comment">// Private helpers - definitions.</span>
<a name="l00616"></a>00616 <span class="comment">// - Left definition above. Getting error in VS8. (miguelfv)</span>
<a name="l00617"></a>00617 <span class="comment">//-------------------------------------------------------------------------</span>
</pre></div></div>
</div>


<hr class="footer"/><address class="footer"><small>
Generated on Wed May 1 2013 17:32:43 for core/vgui by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
