<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <title>core/vgui/vgui_soview2D.cxx Source File</title>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="tabs.css" rel="stylesheet" type="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">core/vgui/vgui_soview2D.cxx</div>  </div>
</div>
<div class="contents">
<a href="vgui__soview2D_8cxx.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#ifdef VCL_NEEDS_PRAGMA_INTERFACE</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#pragma implementation</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00004"></a>00004 <span class="preprocessor"></span><span class="comment">//:</span>
<a name="l00005"></a>00005 <span class="comment">// \file</span>
<a name="l00006"></a>00006 <span class="comment">// \author Philip C. Pritchett, RRG, University of Oxford</span>
<a name="l00007"></a>00007 <span class="comment">// \date   24 Mar 1999</span>
<a name="l00008"></a>00008 <span class="comment">// \brief  See vgui_soview2D.h for a description of this file.</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="preprocessor">#include &quot;<a class="code" href="vgui__soview2D_8h.html" title="2-dimensional spatial object view.">vgui_soview2D.h</a>&quot;</span>
<a name="l00011"></a>00011 
<a name="l00012"></a>00012 <span class="preprocessor">#include &lt;vcl_cmath.h&gt;</span>
<a name="l00013"></a>00013 <span class="preprocessor">#include &lt;vcl_iostream.h&gt;</span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="preprocessor">#include &lt;<a class="codeRef" doxygen="core_vgl.tag:../../../core/vgl/html/" href="../../../core/vgl/html/vgl__distance_8h.html">vgl/vgl_distance.h</a>&gt;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &lt;<a class="codeRef" doxygen="core_vnl.tag:../../../core/vnl/html/" href="../../../core/vnl/html/vnl__math_8h.html">vnl/vnl_math.h</a>&gt;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include &lt;<a class="codeRef" doxygen="core_vil.tag:../../../core/vil/html/" href="../../../core/vil/html/vil__image__view__base_8h.html">vil/vil_image_view_base.h</a>&gt;</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &lt;<a class="codeRef" doxygen="core_vil.tag:../../../core/vil/html/" href="../../../core/vil/html/vil__new_8h.html">vil/vil_new.h</a>&gt;</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &lt;vil1/vil1_image.h&gt;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &lt;<a class="code" href="vgui__range__map__params_8h.html" title="Parameters to define pixel range mapping.">vgui/vgui_range_map_params.h</a>&gt;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &lt;<a class="code" href="vgui__gl_8h.html">vgui/vgui_gl.h</a>&gt;</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &lt;<a class="code" href="vgui__style_8h.html" title="Style (colour, line width, point radius) of a geometric object.">vgui/vgui_style.h</a>&gt;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;<a class="code" href="vgui__section__buffer_8h.html" title="Holds a section of a GL image with given OpenGL buffer format and types.">vgui/vgui_section_buffer.h</a>&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="vgui__draw__line_8h.html" title="Draw infinite lines.">vgui/internals/vgui_draw_line.h</a>&gt;</span>
<a name="l00025"></a>00025 
<a name="l00026"></a>00026 <span class="comment">//--------------------------------------------------------------------------//</span>
<a name="l00027"></a>00027 
<a name="l00028"></a><a class="code" href="classvgui__soview2D__point.html#abfd0b8ec741a09668c637cdcde11bb66">00028</a> vcl_ostream&amp; <a class="code" href="classvgui__soview2D__point.html#abfd0b8ec741a09668c637cdcde11bb66" title="Print details about this 2D-point to the given stream.">vgui_soview2D_point::print</a>(vcl_ostream&amp; s)<span class="keyword"> const</span>
<a name="l00029"></a>00029 <span class="keyword"></span>{
<a name="l00030"></a>00030   s &lt;&lt; <span class="stringliteral">&quot;[ vgui_soview2D_point &quot;</span> &lt;&lt; <a class="code" href="classvgui__soview2D__point.html#ac10d0366befc4ffd06c750effbcfaee8" title="x-coordinate of this 2D-point.">x</a> &lt;&lt; <span class="charliteral">&#39;,&#39;</span> &lt;&lt; <a class="code" href="classvgui__soview2D__point.html#a6eea4bdd2b5f35e18eac12616993328f" title="y-coordinate of this 2D-point.">y</a> &lt;&lt; <span class="charliteral">&#39; &#39;</span>;
<a name="l00031"></a>00031   <span class="keywordflow">return</span> <a class="code" href="classvgui__soview2D__point.html#abfd0b8ec741a09668c637cdcde11bb66" title="Print details about this 2D-point to the given stream.">vgui_soview2D::print</a>(s) &lt;&lt; <span class="stringliteral">&quot; ]&quot;</span>;
<a name="l00032"></a>00032 }
<a name="l00033"></a>00033 
<a name="l00034"></a><a class="code" href="classvgui__soview2D__point.html#a1f2078492ecbc89d5ab6236955865699">00034</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__point.html#a1f2078492ecbc89d5ab6236955865699" title="Render this 2D-point on the display.">vgui_soview2D_point::draw</a>()<span class="keyword"> const</span>
<a name="l00035"></a>00035 <span class="keyword"></span>{
<a name="l00036"></a>00036 <span class="preprocessor">#if 0</span>
<a name="l00037"></a>00037 <span class="preprocessor"></span>  <a class="code" href="classvgui__soview.html#ac882253c4aea66307f96650063acf360" title="Style (colour, line width, etc) of this soview.">style</a>-&gt;apply_point_size();
<a name="l00038"></a>00038 <span class="preprocessor">#endif // 0</span>
<a name="l00039"></a>00039 <span class="preprocessor"></span>  glBegin(GL_POINTS);
<a name="l00040"></a>00040     glVertex2f(<a class="code" href="classvgui__soview2D__point.html#ac10d0366befc4ffd06c750effbcfaee8" title="x-coordinate of this 2D-point.">x</a>,<a class="code" href="classvgui__soview2D__point.html#a6eea4bdd2b5f35e18eac12616993328f" title="y-coordinate of this 2D-point.">y</a>);
<a name="l00041"></a>00041   glEnd();
<a name="l00042"></a>00042 }
<a name="l00043"></a>00043 
<a name="l00044"></a><a class="code" href="classvgui__soview2D__point.html#a71e63b6c88d7f6c9c23883683b5ce010">00044</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__point.html#a71e63b6c88d7f6c9c23883683b5ce010" title="Render this soview for selection purposes.">vgui_soview2D_point::draw_select</a>()<span class="keyword"> const</span>
<a name="l00045"></a>00045 <span class="keyword"></span>{
<a name="l00046"></a>00046   <span class="comment">// It&#39;s much faster to draw a polygon than a point. (At least, it is</span>
<a name="l00047"></a>00047   <span class="comment">// on Win2000 OpenGL.) For selection, we just need to draw some</span>
<a name="l00048"></a>00048   <span class="comment">// little area in the vicinity of the point. We make the area really</span>
<a name="l00049"></a>00049   <span class="comment">// small to account for large zoom factors. In principle, we should</span>
<a name="l00050"></a>00050   <span class="comment">// take the zoom factor into account when determining the radius,</span>
<a name="l00051"></a>00051   <span class="comment">// but that&#39;s too much trouble. The radius should be large enough</span>
<a name="l00052"></a>00052   <span class="comment">// that it doesn&#39;t get swallowed up when added to x and to y.</span>
<a name="l00053"></a>00053 
<a name="l00054"></a>00054   <span class="comment">// This will allow a 10000x zoom before the &quot;circle&quot; gets bigger</span>
<a name="l00055"></a>00055   <span class="comment">// than one pixel. Should be good enough!</span>
<a name="l00056"></a>00056   <span class="comment">//</span>
<a name="l00057"></a>00057   <span class="keywordtype">float</span> <span class="keyword">const</span> rad = 0.0001f;
<a name="l00058"></a>00058   glBegin(GL_POLYGON);
<a name="l00059"></a>00059     glVertex2f( <a class="code" href="classvgui__soview2D__point.html#ac10d0366befc4ffd06c750effbcfaee8" title="x-coordinate of this 2D-point.">x</a> - rad, <a class="code" href="classvgui__soview2D__point.html#a6eea4bdd2b5f35e18eac12616993328f" title="y-coordinate of this 2D-point.">y</a> - rad );
<a name="l00060"></a>00060     glVertex2f( <a class="code" href="classvgui__soview2D__point.html#ac10d0366befc4ffd06c750effbcfaee8" title="x-coordinate of this 2D-point.">x</a> + rad, <a class="code" href="classvgui__soview2D__point.html#a6eea4bdd2b5f35e18eac12616993328f" title="y-coordinate of this 2D-point.">y</a> - rad );
<a name="l00061"></a>00061     glVertex2f( <a class="code" href="classvgui__soview2D__point.html#ac10d0366befc4ffd06c750effbcfaee8" title="x-coordinate of this 2D-point.">x</a> + rad, <a class="code" href="classvgui__soview2D__point.html#a6eea4bdd2b5f35e18eac12616993328f" title="y-coordinate of this 2D-point.">y</a> + rad );
<a name="l00062"></a>00062     glVertex2f( <a class="code" href="classvgui__soview2D__point.html#ac10d0366befc4ffd06c750effbcfaee8" title="x-coordinate of this 2D-point.">x</a> - rad, <a class="code" href="classvgui__soview2D__point.html#a6eea4bdd2b5f35e18eac12616993328f" title="y-coordinate of this 2D-point.">y</a> + rad );
<a name="l00063"></a>00063   glEnd();
<a name="l00064"></a>00064 }
<a name="l00065"></a>00065 
<a name="l00066"></a><a class="code" href="classvgui__soview2D__point.html#a122a9ef8af32301672ab2e11293da314">00066</a> <span class="keywordtype">float</span> <a class="code" href="classvgui__soview2D__point.html#a122a9ef8af32301672ab2e11293da314" title="Distance of this 2D-point from the given position.">vgui_soview2D_point::distance_squared</a>(<span class="keywordtype">float</span> vx, <span class="keywordtype">float</span> vy)<span class="keyword"> const</span>
<a name="l00067"></a>00067 <span class="keyword"></span>{
<a name="l00068"></a>00068   <span class="keywordtype">float</span> dx = <a class="code" href="classvgui__soview2D__point.html#ac10d0366befc4ffd06c750effbcfaee8" title="x-coordinate of this 2D-point.">x</a> - vx;
<a name="l00069"></a>00069   <span class="keywordtype">float</span> dy = <a class="code" href="classvgui__soview2D__point.html#a6eea4bdd2b5f35e18eac12616993328f" title="y-coordinate of this 2D-point.">y</a> - vy;
<a name="l00070"></a>00070   <span class="keywordflow">return</span> dx*dx + dy*dy;
<a name="l00071"></a>00071 }
<a name="l00072"></a>00072 
<a name="l00073"></a><a class="code" href="classvgui__soview2D__point.html#ac8e155d223ef0aaa6d73933ea9e0db80">00073</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__point.html#ac8e155d223ef0aaa6d73933ea9e0db80" title="Returns the centroid of this 2D-point.">vgui_soview2D_point::get_centroid</a>(<span class="keywordtype">float</span>* vx, <span class="keywordtype">float</span>* vy)<span class="keyword"> const</span>
<a name="l00074"></a>00074 <span class="keyword"></span>{
<a name="l00075"></a>00075   *vx = <a class="code" href="classvgui__soview2D__point.html#ac10d0366befc4ffd06c750effbcfaee8" title="x-coordinate of this 2D-point.">x</a>;
<a name="l00076"></a>00076   *vy = <a class="code" href="classvgui__soview2D__point.html#a6eea4bdd2b5f35e18eac12616993328f" title="y-coordinate of this 2D-point.">y</a>;
<a name="l00077"></a>00077 }
<a name="l00078"></a>00078 
<a name="l00079"></a><a class="code" href="classvgui__soview2D__point.html#a292e518a15463d58e59eb07c4c2a8d99">00079</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__point.html#a292e518a15463d58e59eb07c4c2a8d99" title="Translates this 2D-point by the given x and y distances.">vgui_soview2D_point::translate</a>(<span class="keywordtype">float</span> tx, <span class="keywordtype">float</span> ty)
<a name="l00080"></a>00080 {
<a name="l00081"></a>00081   <a class="code" href="classvgui__soview2D__point.html#ac10d0366befc4ffd06c750effbcfaee8" title="x-coordinate of this 2D-point.">x</a> += tx;
<a name="l00082"></a>00082   <a class="code" href="classvgui__soview2D__point.html#a6eea4bdd2b5f35e18eac12616993328f" title="y-coordinate of this 2D-point.">y</a> += ty;
<a name="l00083"></a>00083 }
<a name="l00084"></a>00084 
<a name="l00085"></a>00085 <span class="comment">//--------------------------------------------------------------------------//</span>
<a name="l00086"></a>00086 
<a name="l00087"></a><a class="code" href="classvgui__soview2D__lineseg.html#ab618d69feff48e277fbcf036c551e9fb">00087</a> vcl_ostream&amp; <a class="code" href="classvgui__soview2D__lineseg.html#ab618d69feff48e277fbcf036c551e9fb" title="Print details about this 2D line segment to the given stream.">vgui_soview2D_lineseg::print</a>(vcl_ostream&amp; s)<span class="keyword"> const</span>
<a name="l00088"></a>00088 <span class="keyword"></span>{
<a name="l00089"></a>00089   s &lt;&lt; <span class="stringliteral">&quot;[ vgui_soview2D_lineseg &quot;</span> &lt;&lt; <a class="code" href="classvgui__soview2D__lineseg.html#a2a14b9c50d34f4c95e0e12b969d3b299" title="Start point x coordinate.">x0</a> &lt;&lt; <span class="charliteral">&#39;,&#39;</span> &lt;&lt; <a class="code" href="classvgui__soview2D__lineseg.html#a81f402ec93c2762ad0d1b2bae35b52bc" title="Start point y coordinate.">y0</a> &lt;&lt; <span class="stringliteral">&quot; -- &quot;</span> &lt;&lt; <a class="code" href="classvgui__soview2D__lineseg.html#abccb0af1ad17db6e919ec1b0f658c938" title="End point x coordinate.">x1</a> &lt;&lt; <span class="charliteral">&#39;,&#39;</span> &lt;&lt; <a class="code" href="classvgui__soview2D__lineseg.html#abc0a8e3bdb98ba66c38b29b294514903" title="End point y coordinate.">y1</a> &lt;&lt; <span class="charliteral">&#39; &#39;</span>;
<a name="l00090"></a>00090   <span class="keywordflow">return</span> <a class="code" href="classvgui__soview2D__lineseg.html#ab618d69feff48e277fbcf036c551e9fb" title="Print details about this 2D line segment to the given stream.">vgui_soview2D::print</a>(s) &lt;&lt; <span class="stringliteral">&quot; ]&quot;</span>;
<a name="l00091"></a>00091 }
<a name="l00092"></a>00092 
<a name="l00093"></a><a class="code" href="classvgui__soview2D__lineseg.html#ad33f924903d1732042c041ea3d27be2e">00093</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__lineseg.html#ad33f924903d1732042c041ea3d27be2e" title="Render this 2D line segment on the display.">vgui_soview2D_lineseg::draw</a>()<span class="keyword"> const</span>
<a name="l00094"></a>00094 <span class="keyword"></span>{
<a name="l00095"></a>00095 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l00096"></a>00096 <span class="preprocessor"></span>  vcl_cerr &lt;&lt; <span class="stringliteral">&quot;vgui_soview2D_lineseg::draw() line id=&quot;</span> &lt;&lt; <span class="keywordtype">id</span> &lt;&lt; <span class="charliteral">&#39;\n&#39;</span>;
<a name="l00097"></a>00097 <span class="preprocessor">#endif</span>
<a name="l00098"></a>00098 <span class="preprocessor"></span>
<a name="l00099"></a>00099 <span class="preprocessor">#if 0</span>
<a name="l00100"></a>00100 <span class="preprocessor"></span>  glLineWidth(<a class="code" href="classvgui__soview.html#ac882253c4aea66307f96650063acf360" title="Style (colour, line width, etc) of this soview.">style</a>-&gt;line_width);
<a name="l00101"></a>00101 <span class="preprocessor">#endif // 0</span>
<a name="l00102"></a>00102 <span class="preprocessor"></span>  glBegin(GL_LINES);
<a name="l00103"></a>00103   glVertex2f(<a class="code" href="classvgui__soview2D__lineseg.html#a2a14b9c50d34f4c95e0e12b969d3b299" title="Start point x coordinate.">x0</a>,<a class="code" href="classvgui__soview2D__lineseg.html#a81f402ec93c2762ad0d1b2bae35b52bc" title="Start point y coordinate.">y0</a>);
<a name="l00104"></a>00104   glVertex2f(<a class="code" href="classvgui__soview2D__lineseg.html#abccb0af1ad17db6e919ec1b0f658c938" title="End point x coordinate.">x1</a>,<a class="code" href="classvgui__soview2D__lineseg.html#abc0a8e3bdb98ba66c38b29b294514903" title="End point y coordinate.">y1</a>);
<a name="l00105"></a>00105   glEnd();
<a name="l00106"></a>00106 }
<a name="l00107"></a>00107 
<a name="l00108"></a><a class="code" href="classvgui__soview2D__lineseg.html#a02f9b59a174a5a5ed3dc95d4d44903f2">00108</a> <span class="keywordtype">float</span> <a class="code" href="classvgui__soview2D__lineseg.html#a02f9b59a174a5a5ed3dc95d4d44903f2" title="Returns the distance squared to this 2D line segment.">vgui_soview2D_lineseg::distance_squared</a>(<span class="keywordtype">float</span> vx, <span class="keywordtype">float</span> vy)<span class="keyword"> const</span>
<a name="l00109"></a>00109 <span class="keyword"></span>{
<a name="l00110"></a>00110   <span class="comment">// Here we explicitly cast some parameters to type float to help</span>
<a name="l00111"></a>00111   <span class="comment">// the Borland compiler, which otherwise tries to use</span>
<a name="l00112"></a>00112   <span class="comment">// vgl_distance2_to_linesegment&lt;const float&gt;, presumably because</span>
<a name="l00113"></a>00113   <span class="comment">// this is a const member function so some of the parameters passed</span>
<a name="l00114"></a>00114   <span class="comment">// to vgl_distance2_to_linesegment are effectively of type const</span>
<a name="l00115"></a>00115   <span class="comment">// float.</span>
<a name="l00116"></a>00116   <span class="keywordflow">return</span> (<span class="keywordtype">float</span>)<a class="codeRef" doxygen="core_vgl.tag:../../../core/vgl/html/" href="../../../core/vgl/html/vgl__distance_8h.html#aeb0cf1eacdf3b0f98e765b71043743aa">vgl_distance2_to_linesegment</a>(<a class="code" href="classvgui__soview2D__lineseg.html#a2a14b9c50d34f4c95e0e12b969d3b299" title="Start point x coordinate.">x0</a>, <a class="code" href="classvgui__soview2D__lineseg.html#a81f402ec93c2762ad0d1b2bae35b52bc" title="Start point y coordinate.">y0</a>, <a class="code" href="classvgui__soview2D__lineseg.html#abccb0af1ad17db6e919ec1b0f658c938" title="End point x coordinate.">x1</a>, <a class="code" href="classvgui__soview2D__lineseg.html#abc0a8e3bdb98ba66c38b29b294514903" title="End point y coordinate.">y1</a>, vx, vy);
<a name="l00117"></a>00117 }
<a name="l00118"></a>00118 
<a name="l00119"></a><a class="code" href="classvgui__soview2D__lineseg.html#aa3cd8bc92c28ceb344ab27615dbed3cb">00119</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__lineseg.html#aa3cd8bc92c28ceb344ab27615dbed3cb" title="Returns the centroid of this 2D line segment.">vgui_soview2D_lineseg::get_centroid</a>(<span class="keywordtype">float</span>* vx, <span class="keywordtype">float</span>* vy)<span class="keyword"> const</span>
<a name="l00120"></a>00120 <span class="keyword"></span>{
<a name="l00121"></a>00121   *vx = (<a class="code" href="classvgui__soview2D__lineseg.html#a2a14b9c50d34f4c95e0e12b969d3b299" title="Start point x coordinate.">x0</a> + <a class="code" href="classvgui__soview2D__lineseg.html#abccb0af1ad17db6e919ec1b0f658c938" title="End point x coordinate.">x1</a>) / 2;
<a name="l00122"></a>00122   *vy = (<a class="code" href="classvgui__soview2D__lineseg.html#a81f402ec93c2762ad0d1b2bae35b52bc" title="Start point y coordinate.">y0</a> + <a class="code" href="classvgui__soview2D__lineseg.html#abc0a8e3bdb98ba66c38b29b294514903" title="End point y coordinate.">y1</a>) / 2;
<a name="l00123"></a>00123 }
<a name="l00124"></a>00124 
<a name="l00125"></a><a class="code" href="classvgui__soview2D__lineseg.html#a5f05fc7206450c3d50f33b952438f5b2">00125</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__lineseg.html#a5f05fc7206450c3d50f33b952438f5b2" title="Translate this 2D line segment by the given x and y distances.">vgui_soview2D_lineseg::translate</a>(<span class="keywordtype">float</span> tx, <span class="keywordtype">float</span> ty)
<a name="l00126"></a>00126 {
<a name="l00127"></a>00127   <a class="code" href="classvgui__soview2D__lineseg.html#a2a14b9c50d34f4c95e0e12b969d3b299" title="Start point x coordinate.">x0</a> += tx;
<a name="l00128"></a>00128   <a class="code" href="classvgui__soview2D__lineseg.html#a81f402ec93c2762ad0d1b2bae35b52bc" title="Start point y coordinate.">y0</a> += ty;
<a name="l00129"></a>00129   <a class="code" href="classvgui__soview2D__lineseg.html#abccb0af1ad17db6e919ec1b0f658c938" title="End point x coordinate.">x1</a> += tx;
<a name="l00130"></a>00130   <a class="code" href="classvgui__soview2D__lineseg.html#abc0a8e3bdb98ba66c38b29b294514903" title="End point y coordinate.">y1</a> += ty;
<a name="l00131"></a>00131 }
<a name="l00132"></a>00132 
<a name="l00133"></a>00133 <span class="comment">//--------------------------------------------------------------------------//</span>
<a name="l00134"></a>00134 
<a name="l00135"></a><a class="code" href="classvgui__soview2D__group.html#a1ef86d87269ea41c58e3e8c8c6893fb2">00135</a> <a class="code" href="classvgui__soview2D__group.html#a1ef86d87269ea41c58e3e8c8c6893fb2" title="Destructor - responsible for deleting 2D soview objects.">vgui_soview2D_group::~vgui_soview2D_group</a>()
<a name="l00136"></a>00136 {
<a name="l00137"></a>00137   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt; <a class="code" href="classvgui__soview2D__group.html#a2522843d04029a6fd1606bfc9df7da43" title="List of 2D soviews in this group.">ls</a>.size(); i++)
<a name="l00138"></a>00138     <span class="keywordflow">if</span> ( <a class="code" href="classvgui__soview2D__group.html#a2522843d04029a6fd1606bfc9df7da43" title="List of 2D soviews in this group.">ls</a>[i] )
<a name="l00139"></a>00139       <span class="keyword">delete</span> <a class="code" href="classvgui__soview2D__group.html#a2522843d04029a6fd1606bfc9df7da43" title="List of 2D soviews in this group.">ls</a>[i];
<a name="l00140"></a>00140 
<a name="l00141"></a>00141   <span class="comment">// clear vector</span>
<a name="l00142"></a>00142   <a class="code" href="classvgui__soview2D__group.html#a2522843d04029a6fd1606bfc9df7da43" title="List of 2D soviews in this group.">ls</a>.clear();
<a name="l00143"></a>00143 }
<a name="l00144"></a>00144 
<a name="l00145"></a><a class="code" href="classvgui__soview2D__group.html#a2a065a0102b8075db5838f30ea2f0072">00145</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__group.html#a2a065a0102b8075db5838f30ea2f0072" title="Set the style (colour, line width, etc) for this 2D soview group.">vgui_soview2D_group::set_style</a>(<span class="keyword">const</span> <a class="codeRef" doxygen="core_vbl.tag:../../../core/vbl/html/" href="../../../core/vbl/html/classvbl__smart__ptr.html">vgui_style_sptr</a>&amp; s)
<a name="l00146"></a>00146 {
<a name="l00147"></a>00147   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt; <a class="code" href="classvgui__soview2D__group.html#a2522843d04029a6fd1606bfc9df7da43" title="List of 2D soviews in this group.">ls</a>.size(); i++)
<a name="l00148"></a>00148     <span class="keywordflow">if</span> (!<a class="code" href="classvgui__soview2D__group.html#a2522843d04029a6fd1606bfc9df7da43" title="List of 2D soviews in this group.">ls</a>[i]-&gt;<a class="code" href="classvgui__soview.html#a27c9afa02a0e70d2b1fd7d366dd368bb" title="Return the style (colour, line width) of the soview.">get_style</a>())
<a name="l00149"></a>00149       <a class="code" href="classvgui__soview2D__group.html#a2522843d04029a6fd1606bfc9df7da43" title="List of 2D soviews in this group.">ls</a>[i]-&gt;<a class="code" href="classvgui__soview2D__group.html#a2a065a0102b8075db5838f30ea2f0072" title="Set the style (colour, line width, etc) for this 2D soview group.">set_style</a>(s);
<a name="l00150"></a>00150 
<a name="l00151"></a>00151   <a class="code" href="classvgui__soview2D__group.html#a2a065a0102b8075db5838f30ea2f0072" title="Set the style (colour, line width, etc) for this 2D soview group.">vgui_soview::set_style</a>( s);
<a name="l00152"></a>00152 }
<a name="l00153"></a>00153 
<a name="l00154"></a><a class="code" href="classvgui__soview2D__group.html#adff7188e917bbf54770c4ea841e77fa2">00154</a> vcl_ostream&amp; <a class="code" href="classvgui__soview2D__group.html#adff7188e917bbf54770c4ea841e77fa2" title="Print details about this 2D soview group to the given stream.">vgui_soview2D_group::print</a>(vcl_ostream&amp; s)<span class="keyword"> const</span>
<a name="l00155"></a>00155 <span class="keyword"></span>{
<a name="l00156"></a>00156   s &lt;&lt; <span class="stringliteral">&quot;[ vgui_soview2D_group &quot;</span>;
<a name="l00157"></a>00157 
<a name="l00158"></a>00158   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt; <a class="code" href="classvgui__soview2D__group.html#a2522843d04029a6fd1606bfc9df7da43" title="List of 2D soviews in this group.">ls</a>.size(); i++)
<a name="l00159"></a>00159     <a class="code" href="classvgui__soview2D__group.html#a2522843d04029a6fd1606bfc9df7da43" title="List of 2D soviews in this group.">ls</a>[i]-&gt;<a class="code" href="classvgui__soview2D__group.html#adff7188e917bbf54770c4ea841e77fa2" title="Print details about this 2D soview group to the given stream.">print</a>(s);
<a name="l00160"></a>00160 
<a name="l00161"></a>00161   <span class="keywordflow">return</span> <a class="code" href="classvgui__soview2D__group.html#adff7188e917bbf54770c4ea841e77fa2" title="Print details about this 2D soview group to the given stream.">vgui_soview2D::print</a>(s) &lt;&lt; <span class="stringliteral">&quot; ]&quot;</span>;
<a name="l00162"></a>00162 }
<a name="l00163"></a>00163 
<a name="l00164"></a><a class="code" href="classvgui__soview2D__group.html#a078ba196bf40404a8c3557b5bd1636ff">00164</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__group.html#a078ba196bf40404a8c3557b5bd1636ff" title="Render this 2D soview group on the display.">vgui_soview2D_group::draw</a>()<span class="keyword"> const</span>
<a name="l00165"></a>00165 <span class="keyword"></span>{
<a name="l00166"></a>00166   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt; <a class="code" href="classvgui__soview2D__group.html#a2522843d04029a6fd1606bfc9df7da43" title="List of 2D soviews in this group.">ls</a>.size(); i++)
<a name="l00167"></a>00167     <a class="code" href="classvgui__soview2D__group.html#a2522843d04029a6fd1606bfc9df7da43" title="List of 2D soviews in this group.">ls</a>[i]-&gt;<a class="code" href="classvgui__soview2D__group.html#a078ba196bf40404a8c3557b5bd1636ff" title="Render this 2D soview group on the display.">draw</a>();
<a name="l00168"></a>00168 }
<a name="l00169"></a>00169 
<a name="l00170"></a><a class="code" href="classvgui__soview2D__group.html#ae3993a4cea94af7d3cefea4f50aafa7c">00170</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__group.html#ae3993a4cea94af7d3cefea4f50aafa7c" title="for selection purpose.">vgui_soview2D_group::draw_select</a>()<span class="keyword"> const</span>
<a name="l00171"></a>00171 <span class="keyword"></span>{
<a name="l00172"></a>00172   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i&lt; <a class="code" href="classvgui__soview2D__group.html#a2522843d04029a6fd1606bfc9df7da43" title="List of 2D soviews in this group.">ls</a>.size(); i++)
<a name="l00173"></a>00173     <a class="code" href="classvgui__soview2D__group.html#a2522843d04029a6fd1606bfc9df7da43" title="List of 2D soviews in this group.">ls</a>[i]-&gt;<a class="code" href="classvgui__soview2D__group.html#ae3993a4cea94af7d3cefea4f50aafa7c" title="for selection purpose.">draw_select</a>();
<a name="l00174"></a>00174 }
<a name="l00175"></a>00175 
<a name="l00176"></a><a class="code" href="classvgui__soview2D__group.html#a966274817cb325a42355ae3aaefc71d1">00176</a> <span class="keywordtype">float</span> <a class="code" href="classvgui__soview2D__group.html#a966274817cb325a42355ae3aaefc71d1" title="Returns distance squared of this 2D soview group from the given position.">vgui_soview2D_group::distance_squared</a>(<span class="keywordtype">float</span> vx, <span class="keywordtype">float</span> vy)<span class="keyword"> const</span>
<a name="l00177"></a>00177 <span class="keyword"></span>{
<a name="l00178"></a>00178   <span class="keywordflow">if</span> (<a class="code" href="classvgui__soview2D__group.html#a2522843d04029a6fd1606bfc9df7da43" title="List of 2D soviews in this group.">ls</a>.size() == 0)
<a name="l00179"></a>00179     <span class="keywordflow">return</span> -1e30f;
<a name="l00180"></a>00180 
<a name="l00181"></a>00181   <span class="keywordtype">float</span> min= <a class="code" href="classvgui__soview2D__group.html#a2522843d04029a6fd1606bfc9df7da43" title="List of 2D soviews in this group.">ls</a>[0]-&gt;distance_squared( vx, vy);
<a name="l00182"></a>00182 
<a name="l00183"></a>00183   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=1; i&lt; <a class="code" href="classvgui__soview2D__group.html#a2522843d04029a6fd1606bfc9df7da43" title="List of 2D soviews in this group.">ls</a>.size(); i++)
<a name="l00184"></a>00184   {
<a name="l00185"></a>00185     <span class="keywordtype">float</span> d= <a class="code" href="classvgui__soview2D__group.html#a2522843d04029a6fd1606bfc9df7da43" title="List of 2D soviews in this group.">ls</a>[i]-&gt;distance_squared( vx, vy);
<a name="l00186"></a>00186     <span class="keywordflow">if</span> ( d&lt; min ) min= d;
<a name="l00187"></a>00187   }
<a name="l00188"></a>00188 
<a name="l00189"></a>00189   <span class="keywordflow">return</span> min;
<a name="l00190"></a>00190 }
<a name="l00191"></a>00191 
<a name="l00192"></a><a class="code" href="classvgui__soview2D__group.html#a80363165aa364d11a97f8f6dabf005ea">00192</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__group.html#a80363165aa364d11a97f8f6dabf005ea" title="Returns the centroid of this 2D soview group.">vgui_soview2D_group::get_centroid</a>(<span class="keywordtype">float</span>* vx, <span class="keywordtype">float</span>* vy)<span class="keyword"> const</span>
<a name="l00193"></a>00193 <span class="keyword"></span>{
<a name="l00194"></a>00194   *vx = 0;
<a name="l00195"></a>00195   *vy = 0;
<a name="l00196"></a>00196   <span class="keyword">const</span> <span class="keywordtype">int</span> n = <a class="code" href="classvgui__soview2D__group.html#a2522843d04029a6fd1606bfc9df7da43" title="List of 2D soviews in this group.">ls</a>.size();
<a name="l00197"></a>00197 
<a name="l00198"></a>00198   <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i &lt; n; i++)
<a name="l00199"></a>00199   {
<a name="l00200"></a>00200     <span class="keywordtype">float</span> cx, cy;
<a name="l00201"></a>00201     <a class="code" href="classvgui__soview2D__group.html#a2522843d04029a6fd1606bfc9df7da43" title="List of 2D soviews in this group.">ls</a>[i]-&gt;get_centroid(&amp;cx, &amp;cy);
<a name="l00202"></a>00202     *vx += cx;
<a name="l00203"></a>00203     *vy += cy;
<a name="l00204"></a>00204   }
<a name="l00205"></a>00205 
<a name="l00206"></a>00206   <span class="keywordtype">float</span> s = 1.0f/n;
<a name="l00207"></a>00207   *vx *= s;
<a name="l00208"></a>00208   *vy *= s;
<a name="l00209"></a>00209 }
<a name="l00210"></a>00210 
<a name="l00211"></a><a class="code" href="classvgui__soview2D__group.html#af9bf398a9219fd8ef7ee065b3aa6fd21">00211</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__group.html#af9bf398a9219fd8ef7ee065b3aa6fd21" title="Translate this 2D soview group by the given x and y distances.">vgui_soview2D_group::translate</a>(<span class="keywordtype">float</span> tx, <span class="keywordtype">float</span> ty)
<a name="l00212"></a>00212 {
<a name="l00213"></a>00213   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0; i &lt; <a class="code" href="classvgui__soview2D__group.html#a2522843d04029a6fd1606bfc9df7da43" title="List of 2D soviews in this group.">ls</a>.size(); i++)
<a name="l00214"></a>00214     <a class="code" href="classvgui__soview2D__group.html#a2522843d04029a6fd1606bfc9df7da43" title="List of 2D soviews in this group.">ls</a>[i]-&gt;<a class="code" href="classvgui__soview2D__group.html#af9bf398a9219fd8ef7ee065b3aa6fd21" title="Translate this 2D soview group by the given x and y distances.">translate</a>(tx, ty);
<a name="l00215"></a>00215 }
<a name="l00216"></a>00216 
<a name="l00217"></a>00217 <span class="comment">//--------------------------------------------------------------------------//</span>
<a name="l00218"></a>00218 
<a name="l00219"></a><a class="code" href="classvgui__soview2D__infinite__line.html#a11281702ed04871193af206e219fad1e">00219</a> vcl_ostream&amp; <a class="code" href="classvgui__soview2D__infinite__line.html#a11281702ed04871193af206e219fad1e" title="Print details about this 2D infinite line to the given stream.">vgui_soview2D_infinite_line::print</a>(vcl_ostream&amp; s)<span class="keyword"> const</span>
<a name="l00220"></a>00220 <span class="keyword"></span>{
<a name="l00221"></a>00221   s &lt;&lt; <span class="stringliteral">&quot;[ vgui_soview2D_infinite_line &quot;</span> &lt;&lt; <a class="code" href="classvgui__soview2D__infinite__line.html#a708271a58f585ece6235b778f7a26781" title="Parameters of the 2D infinite line ax + by + c = 0.">a</a> &lt;&lt; <span class="charliteral">&#39;,&#39;</span> &lt;&lt; <a class="code" href="classvgui__soview2D__infinite__line.html#a6f5de96c777ba0cd12f09daa5d01c316">b</a> &lt;&lt; <span class="charliteral">&#39;,&#39;</span> &lt;&lt; <a class="code" href="classvgui__soview2D__infinite__line.html#aa2729e9dd23410cff6140de7b38f9020">c</a> &lt;&lt; <span class="charliteral">&#39; &#39;</span>;
<a name="l00222"></a>00222   <span class="keywordflow">return</span> <a class="code" href="classvgui__soview2D__infinite__line.html#a11281702ed04871193af206e219fad1e" title="Print details about this 2D infinite line to the given stream.">vgui_soview2D::print</a>(s) &lt;&lt; <span class="stringliteral">&quot; ]&quot;</span>;
<a name="l00223"></a>00223 }
<a name="l00224"></a>00224 
<a name="l00225"></a><a class="code" href="classvgui__soview2D__infinite__line.html#a83765523e63293ebb30903b1228a75fc">00225</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__infinite__line.html#a83765523e63293ebb30903b1228a75fc" title="Render this 2D infinite line on the display.">vgui_soview2D_infinite_line::draw</a>()<span class="keyword"> const</span>
<a name="l00226"></a>00226 <span class="keyword"></span>{
<a name="l00227"></a>00227   <a class="code" href="vgui__draw__line_8cxx.html#aaf6347f741b5360d5029def608ef76a4" title="draw infinite line spanned in space by two points.">vgui_draw_line</a>(<a class="code" href="classvgui__soview2D__infinite__line.html#a708271a58f585ece6235b778f7a26781" title="Parameters of the 2D infinite line ax + by + c = 0.">a</a>, <a class="code" href="classvgui__soview2D__infinite__line.html#a6f5de96c777ba0cd12f09daa5d01c316">b</a>, <a class="code" href="classvgui__soview2D__infinite__line.html#aa2729e9dd23410cff6140de7b38f9020">c</a>);
<a name="l00228"></a>00228 }
<a name="l00229"></a>00229 
<a name="l00230"></a><a class="code" href="classvgui__soview2D__infinite__line.html#aa200da8dc18aa00552d2c42dc03bffbc">00230</a> <span class="keywordtype">float</span> <a class="code" href="classvgui__soview2D__infinite__line.html#aa200da8dc18aa00552d2c42dc03bffbc" title="Returns distance squared of this 2D infinite line from the given position.">vgui_soview2D_infinite_line::distance_squared</a>(<span class="keywordtype">float</span> vx, <span class="keywordtype">float</span> vy)<span class="keyword"> const</span>
<a name="l00231"></a>00231 <span class="keyword"></span>{
<a name="l00232"></a>00232   <span class="keywordtype">float</span> tmp = <a class="code" href="classvgui__soview2D__infinite__line.html#a708271a58f585ece6235b778f7a26781" title="Parameters of the 2D infinite line ax + by + c = 0.">a</a>*vx + <a class="code" href="classvgui__soview2D__infinite__line.html#a6f5de96c777ba0cd12f09daa5d01c316">b</a>*vy + <a class="code" href="classvgui__soview2D__infinite__line.html#aa2729e9dd23410cff6140de7b38f9020">c</a>;
<a name="l00233"></a>00233   <span class="keywordflow">return</span> tmp*tmp/(<a class="code" href="classvgui__soview2D__infinite__line.html#a708271a58f585ece6235b778f7a26781" title="Parameters of the 2D infinite line ax + by + c = 0.">a</a>*<a class="code" href="classvgui__soview2D__infinite__line.html#a708271a58f585ece6235b778f7a26781" title="Parameters of the 2D infinite line ax + by + c = 0.">a</a> + <a class="code" href="classvgui__soview2D__infinite__line.html#a6f5de96c777ba0cd12f09daa5d01c316">b</a>*<a class="code" href="classvgui__soview2D__infinite__line.html#a6f5de96c777ba0cd12f09daa5d01c316">b</a>);
<a name="l00234"></a>00234 }
<a name="l00235"></a>00235 
<a name="l00236"></a><a class="code" href="classvgui__soview2D__infinite__line.html#a6f4a7c4aa2fe89d11eb2f78082eb47c1">00236</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__infinite__line.html#a6f4a7c4aa2fe89d11eb2f78082eb47c1" title="Returns (0,0) - centroid does not make sense for 2D infinite line.">vgui_soview2D_infinite_line::get_centroid</a>(<span class="keywordtype">float</span>* vx, <span class="keywordtype">float</span>* vy)<span class="keyword"> const</span>
<a name="l00237"></a>00237 <span class="keyword"></span>{
<a name="l00238"></a>00238   *vx = 0;
<a name="l00239"></a>00239   *vy = 0;
<a name="l00240"></a>00240 }
<a name="l00241"></a>00241 
<a name="l00242"></a><a class="code" href="classvgui__soview2D__infinite__line.html#a70f906cb52715f972f82523626193eaf">00242</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__infinite__line.html#a70f906cb52715f972f82523626193eaf" title="Translate this 2D infinite line by the given x and y distances.">vgui_soview2D_infinite_line::translate</a>(<span class="keywordtype">float</span> tx, <span class="keywordtype">float</span> ty)
<a name="l00243"></a>00243 {
<a name="l00244"></a>00244   <a class="code" href="classvgui__soview2D__infinite__line.html#aa2729e9dd23410cff6140de7b38f9020">c</a> += <a class="code" href="classvgui__soview2D__infinite__line.html#a708271a58f585ece6235b778f7a26781" title="Parameters of the 2D infinite line ax + by + c = 0.">a</a> * tx + <a class="code" href="classvgui__soview2D__infinite__line.html#a6f5de96c777ba0cd12f09daa5d01c316">b</a> * ty;
<a name="l00245"></a>00245 }
<a name="l00246"></a>00246 
<a name="l00247"></a>00247 <span class="comment">//--------------------------------------------------------------------------//</span>
<a name="l00248"></a>00248 
<a name="l00249"></a><a class="code" href="vgui__soview2D_8cxx.html#aead478c38ca634a6e9bb80961c8516ee">00249</a> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="vgui__soview2D_8cxx.html#aead478c38ca634a6e9bb80961c8516ee">vgui__CIRCLE2D_LIST</a> = 1;
<a name="l00250"></a>00250 
<a name="l00251"></a><a class="code" href="classvgui__soview2D__circle.html#a9fbcba43395f8b49f30208086b1e0068">00251</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__circle.html#a9fbcba43395f8b49f30208086b1e0068" title="Compile the vcl_list.">vgui_soview2D_circle::compile</a>()
<a name="l00252"></a>00252 {
<a name="l00253"></a>00253   glNewList(<a class="code" href="vgui__soview2D_8cxx.html#aead478c38ca634a6e9bb80961c8516ee">vgui__CIRCLE2D_LIST</a>, GL_COMPILE);
<a name="l00254"></a>00254   glBegin(GL_LINE_LOOP);
<a name="l00255"></a>00255   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;i&lt;100;i++)
<a name="l00256"></a>00256   {
<a name="l00257"></a>00257     <span class="keywordtype">double</span> <a class="codeRef" doxygen="core_vgl.tag:../../../core/vgl/html/" href="../../../core/vgl/html/vgl__ray__3d_8h.html#ae53346bdf60e6149c8a61547e0cd38e8">angle</a> = i*(2*vnl_math::pi/100);
<a name="l00258"></a>00258     glVertex2d(vcl_cos(angle), vcl_sin(angle));
<a name="l00259"></a>00259   }
<a name="l00260"></a>00260   glEnd();
<a name="l00261"></a>00261   glEndList();
<a name="l00262"></a>00262 }
<a name="l00263"></a>00263 
<a name="l00264"></a>00264 
<a name="l00265"></a><a class="code" href="classvgui__soview2D__circle.html#a8f4dc113f81a3e7261018c9cf203c43f">00265</a> vcl_ostream&amp; <a class="code" href="classvgui__soview2D__circle.html#a8f4dc113f81a3e7261018c9cf203c43f" title="Print details about this 2D circle to the given stream.">vgui_soview2D_circle::print</a>(vcl_ostream&amp; s)<span class="keyword"> const</span>
<a name="l00266"></a>00266 <span class="keyword"></span>{
<a name="l00267"></a>00267   s &lt;&lt; <span class="stringliteral">&quot;[ vgui_soview2D_circle &quot;</span> &lt;&lt; <a class="code" href="classvgui__soview2D__circle.html#a9789b870960ad96140ea392435f86646" title="x-coordinate of the centre of the circle.">x</a> &lt;&lt; <span class="charliteral">&#39;,&#39;</span> &lt;&lt; <a class="code" href="classvgui__soview2D__circle.html#ac461a034b177391770e46f879a3c5b34" title="y-coordinate of the centre of the circle.">y</a> &lt;&lt; <span class="stringliteral">&quot; r&quot;</span> &lt;&lt; <a class="code" href="classvgui__soview2D__circle.html#a9b339484d00f787c7cb3275a1c276113" title="Radius of circle.">r</a> &lt;&lt; <span class="charliteral">&#39; &#39;</span>;
<a name="l00268"></a>00268   <span class="keywordflow">return</span> <a class="code" href="classvgui__soview2D__circle.html#a8f4dc113f81a3e7261018c9cf203c43f" title="Print details about this 2D circle to the given stream.">vgui_soview2D::print</a>(s) &lt;&lt; <span class="stringliteral">&quot; ]&quot;</span>;
<a name="l00269"></a>00269 }
<a name="l00270"></a>00270 
<a name="l00271"></a><a class="code" href="classvgui__soview2D__circle.html#a0c8c4ad339db64302ccfc0efff99b548">00271</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__circle.html#a0c8c4ad339db64302ccfc0efff99b548" title="Render this 2D circle on the display.">vgui_soview2D_circle::draw</a>()<span class="keyword"> const</span>
<a name="l00272"></a>00272 <span class="keyword"></span>{
<a name="l00273"></a>00273   glBegin(GL_LINE_LOOP);
<a name="l00274"></a>00274   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;i&lt;100;i++)
<a name="l00275"></a>00275   {
<a name="l00276"></a>00276     <span class="keywordtype">double</span> <a class="codeRef" doxygen="core_vgl.tag:../../../core/vgl/html/" href="../../../core/vgl/html/vgl__ray__3d_8h.html#ae53346bdf60e6149c8a61547e0cd38e8">angle</a> = i*(2*vnl_math::pi/100);
<a name="l00277"></a>00277     glVertex2d(<a class="code" href="classvgui__soview2D__circle.html#a9789b870960ad96140ea392435f86646" title="x-coordinate of the centre of the circle.">x</a>+<a class="code" href="classvgui__soview2D__circle.html#a9b339484d00f787c7cb3275a1c276113" title="Radius of circle.">r</a>*vcl_cos(angle), <a class="code" href="classvgui__soview2D__circle.html#ac461a034b177391770e46f879a3c5b34" title="y-coordinate of the centre of the circle.">y</a>+<a class="code" href="classvgui__soview2D__circle.html#a9b339484d00f787c7cb3275a1c276113" title="Radius of circle.">r</a>*vcl_sin(angle));
<a name="l00278"></a>00278   }
<a name="l00279"></a>00279   glEnd();
<a name="l00280"></a>00280 }
<a name="l00281"></a>00281 
<a name="l00282"></a><a class="code" href="classvgui__soview2D__circle.html#adbac48fbfb62e2937ce1088c10a5287e">00282</a> <span class="keywordtype">float</span> <a class="code" href="classvgui__soview2D__circle.html#adbac48fbfb62e2937ce1088c10a5287e" title="Returns the distance squared of this 2D circle from the given position.">vgui_soview2D_circle::distance_squared</a>(<span class="keywordtype">float</span> vx, <span class="keywordtype">float</span> vy)<span class="keyword"> const</span>
<a name="l00283"></a>00283 <span class="keyword"></span>{
<a name="l00284"></a>00284   <span class="keywordtype">float</span> dx = <a class="code" href="classvgui__soview2D__circle.html#a9789b870960ad96140ea392435f86646" title="x-coordinate of the centre of the circle.">x</a> - vx;
<a name="l00285"></a>00285   <span class="keywordtype">float</span> dy = <a class="code" href="classvgui__soview2D__circle.html#ac461a034b177391770e46f879a3c5b34" title="y-coordinate of the centre of the circle.">y</a> - vy;
<a name="l00286"></a>00286 
<a name="l00287"></a>00287   <span class="comment">// distance from point to centre</span>
<a name="l00288"></a>00288   <span class="keywordtype">float</span> dcentre = vcl_sqrt(dx*dx + dy*dy);
<a name="l00289"></a>00289 
<a name="l00290"></a>00290   <span class="comment">// signed distance from point to circumference</span>
<a name="l00291"></a>00291   <span class="keywordtype">float</span> dcircum = dcentre - this-&gt;<a class="code" href="classvgui__soview2D__circle.html#a9b339484d00f787c7cb3275a1c276113" title="Radius of circle.">r</a>;
<a name="l00292"></a>00292 
<a name="l00293"></a>00293   <span class="keywordflow">return</span> dcircum * dcircum;
<a name="l00294"></a>00294 }
<a name="l00295"></a>00295 
<a name="l00296"></a><a class="code" href="classvgui__soview2D__circle.html#a284ec728a06d727571f796d0f6fe27e8">00296</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__circle.html#a284ec728a06d727571f796d0f6fe27e8" title="Returns the centroid of this 2D circle (same as centre).">vgui_soview2D_circle::get_centroid</a>(<span class="keywordtype">float</span>* vx, <span class="keywordtype">float</span>* vy)<span class="keyword"> const</span>
<a name="l00297"></a>00297 <span class="keyword"></span>{
<a name="l00298"></a>00298   *vx = <a class="code" href="classvgui__soview2D__circle.html#a9789b870960ad96140ea392435f86646" title="x-coordinate of the centre of the circle.">x</a>;
<a name="l00299"></a>00299   *vy = <a class="code" href="classvgui__soview2D__circle.html#ac461a034b177391770e46f879a3c5b34" title="y-coordinate of the centre of the circle.">y</a>;
<a name="l00300"></a>00300 }
<a name="l00301"></a>00301 
<a name="l00302"></a><a class="code" href="classvgui__soview2D__circle.html#a6800b6394c8773fc8bd4665faf8c31b2">00302</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__circle.html#a6800b6394c8773fc8bd4665faf8c31b2" title="Translate this 2D circle by the given x and y distances.">vgui_soview2D_circle::translate</a>(<span class="keywordtype">float</span> tx, <span class="keywordtype">float</span> ty)
<a name="l00303"></a>00303 {
<a name="l00304"></a>00304   <a class="code" href="classvgui__soview2D__circle.html#a9789b870960ad96140ea392435f86646" title="x-coordinate of the centre of the circle.">x</a> += tx;
<a name="l00305"></a>00305   <a class="code" href="classvgui__soview2D__circle.html#ac461a034b177391770e46f879a3c5b34" title="y-coordinate of the centre of the circle.">y</a> += ty;
<a name="l00306"></a>00306 }
<a name="l00307"></a>00307 
<a name="l00308"></a>00308 <span class="comment">//--------------------------------------------------------------------------------//</span>
<a name="l00309"></a>00309 
<a name="l00310"></a><a class="code" href="classvgui__soview2D__ellipse.html#a61397c0b871998d09e1a8dbb254cde3f">00310</a> vcl_ostream&amp; <a class="code" href="classvgui__soview2D__ellipse.html#a61397c0b871998d09e1a8dbb254cde3f" title="Print details about this 2D ellipse to the given stream.">vgui_soview2D_ellipse::print</a>(vcl_ostream&amp; s)<span class="keyword"> const</span>
<a name="l00311"></a>00311 <span class="keyword"></span>{
<a name="l00312"></a>00312   s &lt;&lt; <span class="stringliteral">&quot;[ vgui_soview2D_ellipse &quot;</span> &lt;&lt; <a class="code" href="classvgui__soview2D__ellipse.html#a9be24acd7d7f9f8a99c905e45dbc3303" title="Centre, width, height and angle of this 2D ellipse.">x</a> &lt;&lt; <span class="charliteral">&#39;,&#39;</span> &lt;&lt; <a class="code" href="classvgui__soview2D__ellipse.html#a81ecc9ef04c28bd463c865a25aa867b9">y</a>
<a name="l00313"></a>00313     &lt;&lt; <span class="stringliteral">&quot; w&quot;</span> &lt;&lt; <a class="code" href="classvgui__soview2D__ellipse.html#ab2e745bb37cec0f43e98d26c0027db3b">w</a> &lt;&lt; <span class="stringliteral">&quot; h&quot;</span> &lt;&lt; <a class="code" href="classvgui__soview2D__ellipse.html#a6196bcb863a1680b62fe02ad216ce51a">h</a> &lt;&lt; <span class="stringliteral">&quot; phi&quot;</span> &lt;&lt; <a class="code" href="classvgui__soview2D__ellipse.html#ae19edc6886b3f38c1e6d215fb621d107">phi</a> &lt;&lt; <span class="charliteral">&#39; &#39;</span>;
<a name="l00314"></a>00314   <span class="keywordflow">return</span> <a class="code" href="classvgui__soview2D__ellipse.html#a61397c0b871998d09e1a8dbb254cde3f" title="Print details about this 2D ellipse to the given stream.">vgui_soview2D::print</a>(s) &lt;&lt; <span class="stringliteral">&quot; ]&quot;</span>;
<a name="l00315"></a>00315 }
<a name="l00316"></a>00316 
<a name="l00317"></a><a class="code" href="classvgui__soview2D__ellipse.html#ac477e5b84f865c6354b5e6da9a8c4139">00317</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__ellipse.html#ac477e5b84f865c6354b5e6da9a8c4139" title="Render this 2D ellipse on the display.">vgui_soview2D_ellipse::draw</a>()<span class="keyword"> const</span>
<a name="l00318"></a>00318 <span class="keyword"></span>{
<a name="l00319"></a>00319   <span class="keywordtype">double</span> px, py;
<a name="l00320"></a>00320 
<a name="l00321"></a>00321   glBegin(GL_LINE_LOOP);
<a name="l00322"></a>00322   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i=0;i&lt;100;i++)
<a name="l00323"></a>00323   {
<a name="l00324"></a>00324     <span class="keywordtype">double</span> <a class="codeRef" doxygen="core_vgl.tag:../../../core/vgl/html/" href="../../../core/vgl/html/vgl__ray__3d_8h.html#ae53346bdf60e6149c8a61547e0cd38e8">angle</a> = i*(2*vnl_math::pi/100);
<a name="l00325"></a>00325     px = <a class="code" href="classvgui__soview2D__ellipse.html#ab2e745bb37cec0f43e98d26c0027db3b">w</a>*vcl_cos(this-&gt;<a class="code" href="classvgui__soview2D__ellipse.html#ae19edc6886b3f38c1e6d215fb621d107">phi</a>)*vcl_cos(angle) + <a class="code" href="classvgui__soview2D__ellipse.html#a6196bcb863a1680b62fe02ad216ce51a">h</a>*vcl_sin(this-&gt;<a class="code" href="classvgui__soview2D__ellipse.html#ae19edc6886b3f38c1e6d215fb621d107">phi</a>)*vcl_sin(angle);
<a name="l00326"></a>00326     py = <a class="code" href="classvgui__soview2D__ellipse.html#a6196bcb863a1680b62fe02ad216ce51a">h</a>*vcl_cos(this-&gt;<a class="code" href="classvgui__soview2D__ellipse.html#ae19edc6886b3f38c1e6d215fb621d107">phi</a>)*vcl_sin(angle) - <a class="code" href="classvgui__soview2D__ellipse.html#ab2e745bb37cec0f43e98d26c0027db3b">w</a>*vcl_sin(this-&gt;<a class="code" href="classvgui__soview2D__ellipse.html#ae19edc6886b3f38c1e6d215fb621d107">phi</a>)*vcl_cos(angle);
<a name="l00327"></a>00327     glVertex2d(<a class="code" href="classvgui__soview2D__ellipse.html#a9be24acd7d7f9f8a99c905e45dbc3303" title="Centre, width, height and angle of this 2D ellipse.">x</a>+px, <a class="code" href="classvgui__soview2D__ellipse.html#a81ecc9ef04c28bd463c865a25aa867b9">y</a>+py);
<a name="l00328"></a>00328   }
<a name="l00329"></a>00329   glEnd();
<a name="l00330"></a>00330 }
<a name="l00331"></a>00331 
<a name="l00332"></a>00332 <span class="comment">//:</span>
<a name="l00333"></a>00333 <span class="comment">// \todo not correctly implemented (assumes a circle)</span>
<a name="l00334"></a><a class="code" href="classvgui__soview2D__ellipse.html#a29059eb918344e2d4f1492205ed2d8d0">00334</a> <span class="keywordtype">float</span> <a class="code" href="classvgui__soview2D__ellipse.html#a29059eb918344e2d4f1492205ed2d8d0" title="Returns the distance squared of this 2D ellipse from the given position.">vgui_soview2D_ellipse::distance_squared</a>(<span class="keywordtype">float</span> vx, <span class="keywordtype">float</span> vy)<span class="keyword"> const</span>
<a name="l00335"></a>00335 <span class="keyword"></span>{
<a name="l00336"></a>00336   <span class="keywordflow">return</span> (vx - <a class="code" href="classvgui__soview2D__ellipse.html#a9be24acd7d7f9f8a99c905e45dbc3303" title="Centre, width, height and angle of this 2D ellipse.">x</a>)*(vx - <a class="code" href="classvgui__soview2D__ellipse.html#a9be24acd7d7f9f8a99c905e45dbc3303" title="Centre, width, height and angle of this 2D ellipse.">x</a>) + (vy - <a class="code" href="classvgui__soview2D__ellipse.html#a81ecc9ef04c28bd463c865a25aa867b9">y</a>)*(vy - <a class="code" href="classvgui__soview2D__ellipse.html#a81ecc9ef04c28bd463c865a25aa867b9">y</a>);
<a name="l00337"></a>00337 }
<a name="l00338"></a>00338 
<a name="l00339"></a><a class="code" href="classvgui__soview2D__ellipse.html#a7386dea5a2c842134d328e4f41cd1882">00339</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__ellipse.html#a7386dea5a2c842134d328e4f41cd1882" title="Returns the centroid of this 2D ellipse.">vgui_soview2D_ellipse::get_centroid</a>(<span class="keywordtype">float</span>* vx, <span class="keywordtype">float</span>* vy)<span class="keyword"> const</span>
<a name="l00340"></a>00340 <span class="keyword"></span>{
<a name="l00341"></a>00341   *vx = <a class="code" href="classvgui__soview2D__ellipse.html#a9be24acd7d7f9f8a99c905e45dbc3303" title="Centre, width, height and angle of this 2D ellipse.">x</a>;
<a name="l00342"></a>00342   *vy = <a class="code" href="classvgui__soview2D__ellipse.html#a81ecc9ef04c28bd463c865a25aa867b9">y</a>;
<a name="l00343"></a>00343 }
<a name="l00344"></a>00344 
<a name="l00345"></a><a class="code" href="classvgui__soview2D__ellipse.html#a7dec6193267723d5e77a1073289a786e">00345</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__ellipse.html#a7dec6193267723d5e77a1073289a786e" title="Translate this 2D ellipse by the given x and y distances.">vgui_soview2D_ellipse::translate</a>(<span class="keywordtype">float</span> tx, <span class="keywordtype">float</span> ty)
<a name="l00346"></a>00346 {
<a name="l00347"></a>00347   <a class="code" href="classvgui__soview2D__ellipse.html#a9be24acd7d7f9f8a99c905e45dbc3303" title="Centre, width, height and angle of this 2D ellipse.">x</a> += tx;
<a name="l00348"></a>00348   <a class="code" href="classvgui__soview2D__ellipse.html#a81ecc9ef04c28bd463c865a25aa867b9">y</a> += ty;
<a name="l00349"></a>00349 }
<a name="l00350"></a>00350 
<a name="l00351"></a>00351 
<a name="l00352"></a>00352 <span class="comment">//--------------------------------------------------------------------------------//</span>
<a name="l00353"></a>00353 
<a name="l00354"></a><a class="code" href="classvgui__soview2D__linestrip.html#a548e94759931316fbc255f856f278908">00354</a> <a class="code" href="classvgui__soview2D__linestrip.html#ae86e2a36f4c3b1a0588ec3b181951a95" title="Constructor - create a default 2D linestrip.">vgui_soview2D_linestrip::vgui_soview2D_linestrip</a>(<span class="keywordtype">unsigned</span> n_, <span class="keywordtype">float</span> <span class="keyword">const</span> *x_, <span class="keywordtype">float</span> <span class="keyword">const</span> *y_)
<a name="l00355"></a>00355   : n(n_), x(new float[n]), y(new float[n])
<a name="l00356"></a>00356 {
<a name="l00357"></a>00357   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i=0; i&lt;<a class="code" href="classvgui__soview2D__linestrip.html#a3a17ded4b9ac307a51dfc2eace87e35e">n</a>; ++i)
<a name="l00358"></a>00358   {
<a name="l00359"></a>00359     <a class="code" href="classvgui__soview2D__linestrip.html#a677c00ceef6011648fa54085ef354502">x</a>[i] = x_[i];
<a name="l00360"></a>00360     <a class="code" href="classvgui__soview2D__linestrip.html#af1d4e0a4c79758b34570e956f5513118">y</a>[i] = y_[i];
<a name="l00361"></a>00361   }
<a name="l00362"></a>00362 }
<a name="l00363"></a>00363 
<a name="l00364"></a><a class="code" href="classvgui__soview2D__linestrip.html#a94de81d6b16697da19f976d924a5cfc3">00364</a> <a class="code" href="classvgui__soview2D__linestrip.html#a94de81d6b16697da19f976d924a5cfc3" title="Destructor - delete this 2D linestrip.">vgui_soview2D_linestrip::~vgui_soview2D_linestrip</a>()
<a name="l00365"></a>00365 {
<a name="l00366"></a>00366   <a class="code" href="classvgui__soview2D__linestrip.html#a3a17ded4b9ac307a51dfc2eace87e35e">n</a>=0;
<a name="l00367"></a>00367   <span class="keyword">delete</span> [] <a class="code" href="classvgui__soview2D__linestrip.html#a677c00ceef6011648fa54085ef354502">x</a>; <a class="code" href="classvgui__soview2D__linestrip.html#a677c00ceef6011648fa54085ef354502">x</a>=0;
<a name="l00368"></a>00368   <span class="keyword">delete</span> [] <a class="code" href="classvgui__soview2D__linestrip.html#af1d4e0a4c79758b34570e956f5513118">y</a>; <a class="code" href="classvgui__soview2D__linestrip.html#af1d4e0a4c79758b34570e956f5513118">y</a>=0;
<a name="l00369"></a>00369 }
<a name="l00370"></a>00370 
<a name="l00371"></a><a class="code" href="classvgui__soview2D__linestrip.html#a677794c6ae03a69951dfeff01c817fc4">00371</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__linestrip.html#a677794c6ae03a69951dfeff01c817fc4" title="Render this 2D linestrip on the display.">vgui_soview2D_linestrip::draw</a>()<span class="keyword"> const</span>
<a name="l00372"></a>00372 <span class="keyword"></span>{
<a name="l00373"></a>00373   glBegin(GL_LINE_STRIP);
<a name="l00374"></a>00374   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i=0; i&lt;<a class="code" href="classvgui__soview2D__linestrip.html#a3a17ded4b9ac307a51dfc2eace87e35e">n</a>; ++i)
<a name="l00375"></a>00375     glVertex2f(<a class="code" href="classvgui__soview2D__linestrip.html#a677c00ceef6011648fa54085ef354502">x</a>[i], <a class="code" href="classvgui__soview2D__linestrip.html#af1d4e0a4c79758b34570e956f5513118">y</a>[i]);
<a name="l00376"></a>00376   glEnd();
<a name="l00377"></a>00377 }
<a name="l00378"></a>00378 
<a name="l00379"></a><a class="code" href="classvgui__soview2D__linestrip.html#a2a22f4314ddb414266a2a1d8fc8c7359">00379</a> vcl_ostream&amp; <a class="code" href="classvgui__soview2D__linestrip.html#a2a22f4314ddb414266a2a1d8fc8c7359" title="Print information about this 2D linestrip to the given stream.">vgui_soview2D_linestrip::print</a>(vcl_ostream&amp;s)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> s &lt;&lt; <span class="stringliteral">&quot;[ a linestrip. FIXME ]&quot;</span>; }
<a name="l00380"></a>00380 
<a name="l00381"></a><a class="code" href="classvgui__soview2D__linestrip.html#a02f8208b92cf7ccee1b97c73e0c75842">00381</a> <span class="keywordtype">float</span> <a class="code" href="classvgui__soview2D__linestrip.html#a02f8208b92cf7ccee1b97c73e0c75842" title="Returns the distance squared from this 2D linestrip to the given position.">vgui_soview2D_linestrip::distance_squared</a>(<span class="keywordtype">float</span> vx, <span class="keywordtype">float</span> vy)<span class="keyword"> const</span>
<a name="l00382"></a>00382 <span class="keyword"></span>{
<a name="l00383"></a>00383   <span class="keywordtype">double</span> tmp = <a class="codeRef" doxygen="core_vgl.tag:../../../core/vgl/html/" href="../../../core/vgl/html/vgl__distance_8h.html#a6e711e3f0df362d04fae60044a487429">vgl_distance_to_non_closed_polygon</a>(<a class="code" href="classvgui__soview2D__linestrip.html#a677c00ceef6011648fa54085ef354502">x</a>, <a class="code" href="classvgui__soview2D__linestrip.html#af1d4e0a4c79758b34570e956f5513118">y</a>, this-&gt;<a class="code" href="classvgui__soview2D__linestrip.html#a3a17ded4b9ac307a51dfc2eace87e35e">n</a>, vx, vy);
<a name="l00384"></a>00384   <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(tmp*tmp);
<a name="l00385"></a>00385 }
<a name="l00386"></a>00386 
<a name="l00387"></a><a class="code" href="classvgui__soview2D__linestrip.html#a625b612c11097739e69fdf565960719b">00387</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__linestrip.html#a625b612c11097739e69fdf565960719b" title="Returns the centroid of this 2D linestrip.">vgui_soview2D_linestrip::get_centroid</a>(<span class="keywordtype">float</span>* vx, <span class="keywordtype">float</span>* vy)<span class="keyword"> const</span>
<a name="l00388"></a>00388 <span class="keyword"></span>{
<a name="l00389"></a>00389   *vx = 0;
<a name="l00390"></a>00390   *vy = 0;
<a name="l00391"></a>00391   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i=0; i&lt;<a class="code" href="classvgui__soview2D__linestrip.html#a3a17ded4b9ac307a51dfc2eace87e35e">n</a>; ++i)
<a name="l00392"></a>00392   {
<a name="l00393"></a>00393     *vx += <a class="code" href="classvgui__soview2D__linestrip.html#a677c00ceef6011648fa54085ef354502">x</a>[i];
<a name="l00394"></a>00394     *vy += <a class="code" href="classvgui__soview2D__linestrip.html#af1d4e0a4c79758b34570e956f5513118">y</a>[i];
<a name="l00395"></a>00395   }
<a name="l00396"></a>00396   <span class="keywordtype">float</span> s = 1.0f / float(n);
<a name="l00397"></a>00397   *vx *= s;
<a name="l00398"></a>00398   *vy *= s;
<a name="l00399"></a>00399 }
<a name="l00400"></a>00400 
<a name="l00401"></a><a class="code" href="classvgui__soview2D__linestrip.html#a3931b6f42448deeb4879afaacbbbe4f7">00401</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__linestrip.html#a3931b6f42448deeb4879afaacbbbe4f7" title="Translate this 2D linestrip by the given x and y distances.">vgui_soview2D_linestrip::translate</a>(<span class="keywordtype">float</span> tx, <span class="keywordtype">float</span> ty)
<a name="l00402"></a>00402 {
<a name="l00403"></a>00403   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i=0; i&lt;<a class="code" href="classvgui__soview2D__linestrip.html#a3a17ded4b9ac307a51dfc2eace87e35e">n</a>; ++i)
<a name="l00404"></a>00404   {
<a name="l00405"></a>00405     <a class="code" href="classvgui__soview2D__linestrip.html#a677c00ceef6011648fa54085ef354502">x</a>[i] += tx;
<a name="l00406"></a>00406     <a class="code" href="classvgui__soview2D__linestrip.html#af1d4e0a4c79758b34570e956f5513118">y</a>[i] += ty;
<a name="l00407"></a>00407   }
<a name="l00408"></a>00408 }
<a name="l00409"></a>00409 
<a name="l00410"></a><a class="code" href="classvgui__soview2D__linestrip.html#acf58c6f5d59eb936e076309a71f0b18a">00410</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__linestrip.html#acf58c6f5d59eb936e076309a71f0b18a">vgui_soview2D_linestrip::set_size</a>(<span class="keywordtype">unsigned</span> nn)
<a name="l00411"></a>00411 {
<a name="l00412"></a>00412   <span class="keywordflow">if</span> (nn &lt; <a class="code" href="classvgui__soview2D__linestrip.html#a3a17ded4b9ac307a51dfc2eace87e35e">n</a>) { <a class="code" href="classvgui__soview2D__linestrip.html#a3a17ded4b9ac307a51dfc2eace87e35e">n</a> = nn; <span class="keywordflow">return</span>; }
<a name="l00413"></a>00413 
<a name="l00414"></a>00414   <span class="comment">// we know that n &lt;= nn</span>
<a name="l00415"></a>00415   <span class="keywordtype">float</span> *nx = <span class="keyword">new</span> <span class="keywordtype">float</span>[nn];
<a name="l00416"></a>00416   <span class="keywordtype">float</span> *ny = <span class="keyword">new</span> <span class="keywordtype">float</span>[nn];
<a name="l00417"></a>00417   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i=0; i&lt;<a class="code" href="classvgui__soview2D__linestrip.html#a3a17ded4b9ac307a51dfc2eace87e35e">n</a>; ++i)
<a name="l00418"></a>00418   {
<a name="l00419"></a>00419     nx[i] = <a class="code" href="classvgui__soview2D__linestrip.html#a677c00ceef6011648fa54085ef354502">x</a>[i];
<a name="l00420"></a>00420     ny[i] = <a class="code" href="classvgui__soview2D__linestrip.html#af1d4e0a4c79758b34570e956f5513118">y</a>[i];
<a name="l00421"></a>00421   }
<a name="l00422"></a>00422 
<a name="l00423"></a>00423   n = nn;
<a name="l00424"></a>00424   <span class="keyword">delete</span> [] <a class="code" href="classvgui__soview2D__linestrip.html#a677c00ceef6011648fa54085ef354502">x</a>; <a class="code" href="classvgui__soview2D__linestrip.html#a677c00ceef6011648fa54085ef354502">x</a> = nx;
<a name="l00425"></a>00425   <span class="keyword">delete</span> [] <a class="code" href="classvgui__soview2D__linestrip.html#af1d4e0a4c79758b34570e956f5513118">y</a>; <a class="code" href="classvgui__soview2D__linestrip.html#af1d4e0a4c79758b34570e956f5513118">y</a> = ny;
<a name="l00426"></a>00426 }
<a name="l00427"></a>00427 
<a name="l00428"></a>00428 <span class="comment">//--------------------------------------------------------------------------------//</span>
<a name="l00429"></a>00429 
<a name="l00430"></a><a class="code" href="classvgui__soview2D__polygon.html#a15aa9546dd02125c40cb29451b869e68">00430</a> <a class="code" href="classvgui__soview2D__polygon.html#afa7456104d021620851309e306bffdd4" title="Constructor - create a default 2D polygon.">vgui_soview2D_polygon::vgui_soview2D_polygon</a>(<span class="keywordtype">unsigned</span> n_, <span class="keywordtype">float</span> <span class="keyword">const</span> *x_, <span class="keywordtype">float</span> <span class="keyword">const</span> *y_)
<a name="l00431"></a>00431   : n(n_), x(new float[n]), y(new float[n])
<a name="l00432"></a>00432 {
<a name="l00433"></a>00433   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i=0; i&lt;<a class="code" href="classvgui__soview2D__polygon.html#a0396e5a684401245e679483a7b5fb7e2">n</a>; ++i)
<a name="l00434"></a>00434   {
<a name="l00435"></a>00435     <a class="code" href="classvgui__soview2D__polygon.html#a22a34c07a91de0d25bc128b0edc22710">x</a>[i] = x_[i];
<a name="l00436"></a>00436     <a class="code" href="classvgui__soview2D__polygon.html#a8fcc53d264357e30ac49eff113c421cd">y</a>[i] = y_[i];
<a name="l00437"></a>00437   }
<a name="l00438"></a>00438 }
<a name="l00439"></a>00439 
<a name="l00440"></a><a class="code" href="classvgui__soview2D__polygon.html#a81b86bbb710071365ec664063a74eb2d">00440</a> <a class="code" href="classvgui__soview2D__polygon.html#a81b86bbb710071365ec664063a74eb2d" title="Destructor - delete this 2D polygon.">vgui_soview2D_polygon::~vgui_soview2D_polygon</a>()
<a name="l00441"></a>00441 {
<a name="l00442"></a>00442   <a class="code" href="classvgui__soview2D__polygon.html#a0396e5a684401245e679483a7b5fb7e2">n</a>=0;
<a name="l00443"></a>00443   <span class="keyword">delete</span> [] <a class="code" href="classvgui__soview2D__polygon.html#a22a34c07a91de0d25bc128b0edc22710">x</a>; <a class="code" href="classvgui__soview2D__polygon.html#a22a34c07a91de0d25bc128b0edc22710">x</a>=0;
<a name="l00444"></a>00444   <span class="keyword">delete</span> [] <a class="code" href="classvgui__soview2D__polygon.html#a8fcc53d264357e30ac49eff113c421cd">y</a>; <a class="code" href="classvgui__soview2D__polygon.html#a8fcc53d264357e30ac49eff113c421cd">y</a>=0;
<a name="l00445"></a>00445 }
<a name="l00446"></a>00446 
<a name="l00447"></a><a class="code" href="classvgui__soview2D__polygon.html#ab2ef781c49e2eea472f78305c420bb8c">00447</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__polygon.html#ab2ef781c49e2eea472f78305c420bb8c" title="Render this 2D polygon on the display.">vgui_soview2D_polygon::draw</a>()<span class="keyword"> const</span>
<a name="l00448"></a>00448 <span class="keyword"></span>{
<a name="l00449"></a>00449   glBegin(GL_LINE_LOOP);
<a name="l00450"></a>00450   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i=0; i&lt;<a class="code" href="classvgui__soview2D__polygon.html#a0396e5a684401245e679483a7b5fb7e2">n</a>; ++i)
<a name="l00451"></a>00451     glVertex2f(<a class="code" href="classvgui__soview2D__polygon.html#a22a34c07a91de0d25bc128b0edc22710">x</a>[i], <a class="code" href="classvgui__soview2D__polygon.html#a8fcc53d264357e30ac49eff113c421cd">y</a>[i]);
<a name="l00452"></a>00452   glEnd();
<a name="l00453"></a>00453 }
<a name="l00454"></a>00454 
<a name="l00455"></a><a class="code" href="classvgui__soview2D__polygon.html#a661b57afb985d26975a40be4f066f8a6">00455</a> vcl_ostream&amp; <a class="code" href="classvgui__soview2D__polygon.html#a661b57afb985d26975a40be4f066f8a6" title="Print details about this 2D polygon to the given stream.">vgui_soview2D_polygon::print</a>(vcl_ostream&amp;s)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> s &lt;&lt; <span class="stringliteral">&quot;[ a polygon. FIXME ]&quot;</span>; }
<a name="l00456"></a>00456 
<a name="l00457"></a><a class="code" href="classvgui__soview2D__polygon.html#a60200a51d57048eabdac76a69fcb5351">00457</a> <span class="keywordtype">float</span> <a class="code" href="classvgui__soview2D__polygon.html#a60200a51d57048eabdac76a69fcb5351" title="Returns the distance squared from this 2D polygon to the given position.">vgui_soview2D_polygon::distance_squared</a>(<span class="keywordtype">float</span> vx, <span class="keywordtype">float</span> vy)<span class="keyword"> const</span>
<a name="l00458"></a>00458 <span class="keyword"></span>{
<a name="l00459"></a>00459   <span class="keywordtype">double</span> tmp = <a class="codeRef" doxygen="core_vgl.tag:../../../core/vgl/html/" href="../../../core/vgl/html/vgl__distance_8h.html#a70705a7fcf274b97224e61b9c723a67e">vgl_distance_to_closed_polygon</a>(<a class="code" href="classvgui__soview2D__polygon.html#a22a34c07a91de0d25bc128b0edc22710">x</a>, <a class="code" href="classvgui__soview2D__polygon.html#a8fcc53d264357e30ac49eff113c421cd">y</a>, this-&gt;<a class="code" href="classvgui__soview2D__polygon.html#a0396e5a684401245e679483a7b5fb7e2">n</a>, vx, vy);
<a name="l00460"></a>00460   <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(tmp*tmp);
<a name="l00461"></a>00461 }
<a name="l00462"></a>00462 
<a name="l00463"></a><a class="code" href="classvgui__soview2D__polygon.html#a1f7b677604c767f4b2d18e7c5d227163">00463</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__polygon.html#a1f7b677604c767f4b2d18e7c5d227163" title="Returns the centroid of this 2D polygon.">vgui_soview2D_polygon::get_centroid</a>(<span class="keywordtype">float</span>* vx, <span class="keywordtype">float</span>* vy)<span class="keyword"> const</span>
<a name="l00464"></a>00464 <span class="keyword"></span>{
<a name="l00465"></a>00465   *vx = 0;
<a name="l00466"></a>00466   *vy = 0;
<a name="l00467"></a>00467   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i=0; i&lt;<a class="code" href="classvgui__soview2D__polygon.html#a0396e5a684401245e679483a7b5fb7e2">n</a>; ++i)
<a name="l00468"></a>00468   {
<a name="l00469"></a>00469     *vx += <a class="code" href="classvgui__soview2D__polygon.html#a22a34c07a91de0d25bc128b0edc22710">x</a>[i];
<a name="l00470"></a>00470     *vy += <a class="code" href="classvgui__soview2D__polygon.html#a8fcc53d264357e30ac49eff113c421cd">y</a>[i];
<a name="l00471"></a>00471   }
<a name="l00472"></a>00472   <span class="keywordtype">float</span> s = 1.0f / float(n);
<a name="l00473"></a>00473   *vx *= s;
<a name="l00474"></a>00474   *vy *= s;
<a name="l00475"></a>00475 }
<a name="l00476"></a>00476 
<a name="l00477"></a><a class="code" href="classvgui__soview2D__polygon.html#ad848b3574e5ca5c253c1b65243ad2a89">00477</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__polygon.html#ad848b3574e5ca5c253c1b65243ad2a89" title="Translate this 2D polygon by the given x and y distances.">vgui_soview2D_polygon::translate</a>(<span class="keywordtype">float</span> tx, <span class="keywordtype">float</span> ty)
<a name="l00478"></a>00478 {
<a name="l00479"></a>00479   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i=0; i&lt;<a class="code" href="classvgui__soview2D__polygon.html#a0396e5a684401245e679483a7b5fb7e2">n</a>; ++i)
<a name="l00480"></a>00480   {
<a name="l00481"></a>00481     <a class="code" href="classvgui__soview2D__polygon.html#a22a34c07a91de0d25bc128b0edc22710">x</a>[i] += tx;
<a name="l00482"></a>00482     <a class="code" href="classvgui__soview2D__polygon.html#a8fcc53d264357e30ac49eff113c421cd">y</a>[i] += ty;
<a name="l00483"></a>00483   }
<a name="l00484"></a>00484 }
<a name="l00485"></a>00485 
<a name="l00486"></a><a class="code" href="classvgui__soview2D__polygon.html#a29ea5f4234dfa513740e05517a31d274">00486</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__polygon.html#a29ea5f4234dfa513740e05517a31d274">vgui_soview2D_polygon::set_size</a>(<span class="keywordtype">unsigned</span> nn)
<a name="l00487"></a>00487 {
<a name="l00488"></a>00488   <span class="keywordflow">if</span> (nn &lt; <a class="code" href="classvgui__soview2D__polygon.html#a0396e5a684401245e679483a7b5fb7e2">n</a>) { <a class="code" href="classvgui__soview2D__polygon.html#a0396e5a684401245e679483a7b5fb7e2">n</a> = nn; <span class="keywordflow">return</span>; }
<a name="l00489"></a>00489 
<a name="l00490"></a>00490   <span class="comment">// we know that n &lt;= nn</span>
<a name="l00491"></a>00491   <span class="keywordtype">float</span> *nx = <span class="keyword">new</span> <span class="keywordtype">float</span>[nn];
<a name="l00492"></a>00492   <span class="keywordtype">float</span> *ny = <span class="keyword">new</span> <span class="keywordtype">float</span>[nn];
<a name="l00493"></a>00493   <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> i=0; i&lt;<a class="code" href="classvgui__soview2D__polygon.html#a0396e5a684401245e679483a7b5fb7e2">n</a>; ++i)
<a name="l00494"></a>00494   {
<a name="l00495"></a>00495     nx[i] = <a class="code" href="classvgui__soview2D__polygon.html#a22a34c07a91de0d25bc128b0edc22710">x</a>[i];
<a name="l00496"></a>00496     ny[i] = <a class="code" href="classvgui__soview2D__polygon.html#a8fcc53d264357e30ac49eff113c421cd">y</a>[i];
<a name="l00497"></a>00497   }
<a name="l00498"></a>00498 
<a name="l00499"></a>00499   n = nn;
<a name="l00500"></a>00500   <span class="keyword">delete</span> [] <a class="code" href="classvgui__soview2D__polygon.html#a22a34c07a91de0d25bc128b0edc22710">x</a>; <a class="code" href="classvgui__soview2D__polygon.html#a22a34c07a91de0d25bc128b0edc22710">x</a> = nx;
<a name="l00501"></a>00501   <span class="keyword">delete</span> [] <a class="code" href="classvgui__soview2D__polygon.html#a8fcc53d264357e30ac49eff113c421cd">y</a>; <a class="code" href="classvgui__soview2D__polygon.html#a8fcc53d264357e30ac49eff113c421cd">y</a> = ny;
<a name="l00502"></a>00502 }
<a name="l00503"></a>00503 
<a name="l00504"></a>00504 
<a name="l00505"></a>00505 <span class="comment">//-----------------------------------------------------------</span>
<a name="l00506"></a>00506 
<a name="l00507"></a><a class="code" href="classvgui__soview2D__image.html#a86dd20f0fe74334d24a4459707b8e6ed">00507</a> <a class="code" href="classvgui__soview2D__image.html#a86dd20f0fe74334d24a4459707b8e6ed" title="Create the sprite from a vil1_image.">vgui_soview2D_image::vgui_soview2D_image</a>( <span class="keywordtype">float</span> in_x, <span class="keywordtype">float</span> in_y,
<a name="l00508"></a>00508                                           vil1_image <span class="keyword">const</span>&amp; img,
<a name="l00509"></a>00509                                           <span class="keywordtype">bool</span> in_blend,
<a name="l00510"></a>00510                                           GLenum format,
<a name="l00511"></a>00511                                           GLenum type )
<a name="l00512"></a>00512   : x_( in_x ),
<a name="l00513"></a>00513     y_( in_y ),
<a name="l00514"></a>00514     w_( img.width() ),
<a name="l00515"></a>00515     h_( img.height() ),
<a name="l00516"></a>00516     blend_( in_blend ),
<a name="l00517"></a>00517     buffer_( new <a class="code" href="classvgui__section__buffer.html" title="Holds a section of a GL image with given OpenGL buffer format and types.">vgui_section_buffer</a>( 0, 0, w_, h_, format, type ) )
<a name="l00518"></a>00518 {
<a name="l00519"></a>00519   <a class="code" href="classvgui__soview2D__image.html#a20185c6caa2afc0d09444433f6dcfe92" title="The OpenGL buffer corresponding to the image.">buffer_</a>-&gt;<a class="code" href="classvgui__section__buffer.html#af2f524a4d0010ce28cbb8968a6d49f5e" title="Grab a section from the given image.">apply</a>( img , (<a class="code" href="classvgui__range__map__params.html">vgui_range_map_params</a>*) 0);
<a name="l00520"></a>00520 }
<a name="l00521"></a>00521 
<a name="l00522"></a><a class="code" href="classvgui__soview2D__image.html#a42b45fcfb6ae182019d1c7d975d941e1">00522</a> <a class="code" href="classvgui__soview2D__image.html#a86dd20f0fe74334d24a4459707b8e6ed" title="Create the sprite from a vil1_image.">vgui_soview2D_image::vgui_soview2D_image</a>( <span class="keywordtype">float</span> in_x, <span class="keywordtype">float</span> in_y,
<a name="l00523"></a>00523                                           <a class="codeRef" doxygen="core_vil.tag:../../../core/vil/html/" href="../../../core/vil/html/classvil__image__view__base.html">vil_image_view_base</a> <span class="keyword">const</span>&amp; img,
<a name="l00524"></a>00524                                           <span class="keywordtype">bool</span> in_blend,
<a name="l00525"></a>00525                                           GLenum format,
<a name="l00526"></a>00526                                           GLenum type )
<a name="l00527"></a>00527   : x_( in_x ),
<a name="l00528"></a>00528     y_( in_y ),
<a name="l00529"></a>00529     w_( img.ni() ),
<a name="l00530"></a>00530     h_( img.nj() ),
<a name="l00531"></a>00531     blend_( in_blend ),
<a name="l00532"></a>00532     buffer_( new <a class="code" href="classvgui__section__buffer.html" title="Holds a section of a GL image with given OpenGL buffer format and types.">vgui_section_buffer</a>( 0, 0, w_, h_, format, type ) )
<a name="l00533"></a>00533 {
<a name="l00534"></a>00534   <a class="code" href="classvgui__soview2D__image.html#a20185c6caa2afc0d09444433f6dcfe92" title="The OpenGL buffer corresponding to the image.">buffer_</a>-&gt;<a class="code" href="classvgui__section__buffer.html#af2f524a4d0010ce28cbb8968a6d49f5e" title="Grab a section from the given image.">apply</a>( <a class="codeRef" doxygen="core_vil.tag:../../../core/vil/html/" href="../../../core/vil/html/vil__new_8cxx.html#a7d991bbca1ecd8b4c0917c36ec4b27c6">vil_new_image_resource_of_view</a>( img ), (<a class="code" href="classvgui__range__map__params.html">vgui_range_map_params</a>*) 0);
<a name="l00535"></a>00535 }
<a name="l00536"></a>00536 
<a name="l00537"></a><a class="code" href="classvgui__soview2D__image.html#a0d57d8f070188a42f71fb10b4a3abfe5">00537</a> <a class="code" href="classvgui__soview2D__image.html#a0d57d8f070188a42f71fb10b4a3abfe5" title="Destructor - delete this image.">vgui_soview2D_image::~vgui_soview2D_image</a>()
<a name="l00538"></a>00538 {
<a name="l00539"></a>00539   <span class="keyword">delete</span> <a class="code" href="classvgui__soview2D__image.html#a20185c6caa2afc0d09444433f6dcfe92" title="The OpenGL buffer corresponding to the image.">buffer_</a>;
<a name="l00540"></a>00540 }
<a name="l00541"></a>00541 
<a name="l00542"></a><a class="code" href="classvgui__soview2D__image.html#a41f60d528734b96b3cb04fef49d61d30">00542</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__image.html#a41f60d528734b96b3cb04fef49d61d30" title="Render this image on the display.">vgui_soview2D_image::draw</a>()<span class="keyword"> const</span>
<a name="l00543"></a>00543 <span class="keyword"></span>{
<a name="l00544"></a>00544   <span class="comment">// Get the current blend state so we can restore it later</span>
<a name="l00545"></a>00545   GLboolean blend_on;
<a name="l00546"></a>00546   glGetBooleanv( GL_BLEND, &amp;blend_on );
<a name="l00547"></a>00547 
<a name="l00548"></a>00548   <span class="keywordflow">if</span> ( <a class="code" href="classvgui__soview2D__image.html#ad97400078f58cf2896c1dc2a50a7747c" title="Render with or without blending?.">blend_</a> ) {
<a name="l00549"></a>00549     glEnable( GL_BLEND );
<a name="l00550"></a>00550     glBlendFunc( GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA );
<a name="l00551"></a>00551   }
<a name="l00552"></a>00552   <span class="keywordflow">else</span>
<a name="l00553"></a>00553     glDisable( GL_BLEND );
<a name="l00554"></a>00554 
<a name="l00555"></a>00555   glTranslatef(  <a class="code" href="classvgui__soview2D__image.html#a84b5657cfa98de3123a4c1cd0f30e882" title="Coordinates of the upper lefthand corner of the image.">x_</a>,  <a class="code" href="classvgui__soview2D__image.html#a5684bf19c54509d3e61d88e5b85cfd0f">y_</a>, 0.0f );
<a name="l00556"></a>00556   <a class="code" href="classvgui__soview2D__image.html#a20185c6caa2afc0d09444433f6dcfe92" title="The OpenGL buffer corresponding to the image.">buffer_</a>-&gt;<a class="code" href="classvgui__section__buffer.html#aabb5831041087dfeaf29066fd5af8ce1" title="These methods take arguments in original image coordinates and return false on failure.">draw_as_image</a>() || <a class="code" href="classvgui__soview2D__image.html#a20185c6caa2afc0d09444433f6dcfe92" title="The OpenGL buffer corresponding to the image.">buffer_</a>-&gt;<a class="code" href="classvgui__section__buffer.html#a2c23b803c3479779d59f71f2a6c64602" title="Draw a the border of a section of the image.">draw_as_rectangle</a>();
<a name="l00557"></a>00557   glTranslatef( -<a class="code" href="classvgui__soview2D__image.html#a84b5657cfa98de3123a4c1cd0f30e882" title="Coordinates of the upper lefthand corner of the image.">x_</a>, -<a class="code" href="classvgui__soview2D__image.html#a5684bf19c54509d3e61d88e5b85cfd0f">y_</a>, 0.0f );
<a name="l00558"></a>00558 
<a name="l00559"></a>00559   <span class="keywordflow">if</span> ( blend_on )
<a name="l00560"></a>00560     glEnable( GL_BLEND );
<a name="l00561"></a>00561   <span class="keywordflow">else</span>
<a name="l00562"></a>00562     glDisable( GL_BLEND );
<a name="l00563"></a>00563 }
<a name="l00564"></a>00564 
<a name="l00565"></a><a class="code" href="classvgui__soview2D__image.html#aacfd4114f7cfa61037bf0121b19ab16d">00565</a> vcl_ostream&amp; <a class="code" href="classvgui__soview2D__image.html#aacfd4114f7cfa61037bf0121b19ab16d" title="Print details about this image to the given stream.">vgui_soview2D_image::print</a>(vcl_ostream&amp;s)<span class="keyword"> const</span>
<a name="l00566"></a>00566 <span class="keyword"></span>{
<a name="l00567"></a>00567   <span class="keywordflow">return</span> s &lt;&lt; <span class="stringliteral">&quot;[ vgui_soview2D_image &quot;</span>&lt;&lt;<a class="code" href="classvgui__soview2D__image.html#afd252b4e58d694473235af52b099d486" title="Width and height of the image.">w_</a>&lt;&lt;<span class="charliteral">&#39;x&#39;</span>&lt;&lt;<a class="code" href="classvgui__soview2D__image.html#a2409418b6a2e7ce9a5a0b1a2af87ae5c">h_</a>&lt;&lt;<span class="stringliteral">&quot;, blend=&quot;</span>&lt;&lt;<a class="code" href="classvgui__soview2D__image.html#ad97400078f58cf2896c1dc2a50a7747c" title="Render with or without blending?.">blend_</a>&lt;&lt;<span class="stringliteral">&quot; ]&quot;</span>;
<a name="l00568"></a>00568 }
<a name="l00569"></a>00569 
<a name="l00570"></a><a class="code" href="classvgui__soview2D__image.html#a008b6c7563904c35cc58e233d099057e">00570</a> <span class="keywordtype">float</span> <a class="code" href="classvgui__soview2D__image.html#a008b6c7563904c35cc58e233d099057e" title="Returns the distance squared from the centroid.">vgui_soview2D_image::distance_squared</a>(<span class="keywordtype">float</span> vx, <span class="keywordtype">float</span> vy)<span class="keyword"> const</span>
<a name="l00571"></a>00571 <span class="keyword"></span>{
<a name="l00572"></a>00572   <span class="keywordtype">float</span> dx = (<a class="code" href="classvgui__soview2D__image.html#a84b5657cfa98de3123a4c1cd0f30e882" title="Coordinates of the upper lefthand corner of the image.">x_</a> + (<a class="code" href="classvgui__soview2D__image.html#afd252b4e58d694473235af52b099d486" title="Width and height of the image.">w_</a> / 2.0f)) - vx;
<a name="l00573"></a>00573   <span class="keywordtype">float</span> dy = (<a class="code" href="classvgui__soview2D__image.html#a5684bf19c54509d3e61d88e5b85cfd0f">y_</a> + (<a class="code" href="classvgui__soview2D__image.html#a2409418b6a2e7ce9a5a0b1a2af87ae5c">h_</a> / 2.0f)) - vy;
<a name="l00574"></a>00574   <span class="keywordflow">return</span> dx*dx + dy*dy;
<a name="l00575"></a>00575 }
<a name="l00576"></a>00576 
<a name="l00577"></a><a class="code" href="classvgui__soview2D__image.html#aff97da6c7d777fea2f290905fbcfc6ab">00577</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__image.html#aff97da6c7d777fea2f290905fbcfc6ab" title="Returns the centroid of this 2D image.">vgui_soview2D_image::get_centroid</a>(<span class="keywordtype">float</span>* vx, <span class="keywordtype">float</span>* vy)<span class="keyword"> const</span>
<a name="l00578"></a>00578 <span class="keyword"></span>{
<a name="l00579"></a>00579   <span class="keywordtype">float</span> x1 = <a class="code" href="classvgui__soview2D__image.html#a84b5657cfa98de3123a4c1cd0f30e882" title="Coordinates of the upper lefthand corner of the image.">x_</a> + (<a class="code" href="classvgui__soview2D__image.html#afd252b4e58d694473235af52b099d486" title="Width and height of the image.">w_</a> / 2.0f);
<a name="l00580"></a>00580   <span class="keywordtype">float</span> y1 = <a class="code" href="classvgui__soview2D__image.html#a5684bf19c54509d3e61d88e5b85cfd0f">y_</a> + (<a class="code" href="classvgui__soview2D__image.html#a2409418b6a2e7ce9a5a0b1a2af87ae5c">h_</a> / 2.0f);
<a name="l00581"></a>00581 
<a name="l00582"></a>00582   *vx = x1;
<a name="l00583"></a>00583   *vy = y1;
<a name="l00584"></a>00584 }
<a name="l00585"></a>00585 
<a name="l00586"></a><a class="code" href="classvgui__soview2D__image.html#af0482703e46fd49038d2a1cca38a004a">00586</a> <span class="keywordtype">void</span> <a class="code" href="classvgui__soview2D__image.html#af0482703e46fd49038d2a1cca38a004a" title="Translate this 2D image by the given x and y distances.">vgui_soview2D_image::translate</a>(<span class="keywordtype">float</span> tx, <span class="keywordtype">float</span> ty)
<a name="l00587"></a>00587 {
<a name="l00588"></a>00588     <a class="code" href="classvgui__soview2D__image.html#a84b5657cfa98de3123a4c1cd0f30e882" title="Coordinates of the upper lefthand corner of the image.">x_</a> += tx;
<a name="l00589"></a>00589     <a class="code" href="classvgui__soview2D__image.html#a5684bf19c54509d3e61d88e5b85cfd0f">y_</a> += ty;
<a name="l00590"></a>00590 }
</pre></div></div>
</div>


<hr class="footer"/><address class="footer"><small>
Generated on Wed May 1 2013 17:32:44 for core/vgui by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
