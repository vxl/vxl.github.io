<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <title>core/vgl/algo/vgl_rtree_c.h Source File</title>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="tabs.css" rel="stylesheet" type="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">core/vgl/algo/vgl_rtree_c.h</div>  </div>
</div>
<div class="contents">
<a href="vgl__rtree__c_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// This is core/vgl/algo/vgl_rtree_c.h</span>
<a name="l00002"></a>00002 <span class="preprocessor">#ifndef vgl_rtree_c_h_</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span><span class="preprocessor">#define vgl_rtree_c_h_</span>
<a name="l00004"></a>00004 <span class="preprocessor"></span><span class="comment">//:</span>
<a name="l00005"></a>00005 <span class="comment">// \file</span>
<a name="l00006"></a>00006 <span class="comment">// \brief C helper classes for vgl_rtree</span>
<a name="l00007"></a>00007 <span class="comment">// \author J.L. Mundy</span>
<a name="l00008"></a>00008 <span class="comment">// \date November 14, 2008</span>
<a name="l00009"></a>00009 <span class="comment">// \verbatim</span>
<a name="l00010"></a>00010 <span class="comment">//  Modifications</span>
<a name="l00011"></a>00011 <span class="comment">//   &lt;None yet&gt;</span>
<a name="l00012"></a>00012 <span class="comment">// \endverbatim</span>
<a name="l00013"></a>00013 <span class="comment">//</span>
<a name="l00014"></a>00014 <span class="comment">// vgl_rtree stores elements of type V with regions described by</span>
<a name="l00015"></a>00015 <span class="comment">// bounds type B. The C helper class implements the bounding predicates</span>
<a name="l00016"></a>00016 <span class="comment">// between V and B. Thus V and B remain independent of each other.</span>
<a name="l00017"></a>00017 <span class="comment">//</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &lt;<a class="code" href="vgl__point__2d_8h.html" title="a point in 2D nonhomogeneous space">vgl/vgl_point_2d.h</a>&gt;</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &lt;<a class="code" href="vgl__box__2d_8h.html" title="Contains class to represent a cartesian 2D bounding box.">vgl/vgl_box_2d.h</a>&gt;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &lt;<a class="code" href="vgl__polygon_8h.html">vgl/vgl_polygon.h</a>&gt;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &lt;<a class="code" href="vgl__intersection_8h.html" title="Set of intersection functions.">vgl/vgl_intersection.h</a>&gt;</span>
<a name="l00022"></a>00022 <span class="keyword">template</span> &lt;<span class="keyword">class</span> V, <span class="keyword">class</span> B, <span class="keyword">class</span> C&gt; <span class="keyword">class </span><a class="code" href="classvgl__rtree__probe.html" title="Function predicate object for querying the tree.">vgl_rtree_probe</a>;
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="comment">//: vgl_rtree Class C for V=vgl_point_2d&lt;T&gt;, B = vgl_box_2d&lt;T&gt;</span>
<a name="l00025"></a>00025 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00026"></a><a class="code" href="classvgl__rtree__point__box__2d.html">00026</a> <span class="keyword">class </span><a class="code" href="classvgl__rtree__point__box__2d.html" title="vgl_rtree Class C for V=vgl_point_2d&lt;T&gt;, B = vgl_box_2d&lt;T&gt;.">vgl_rtree_point_box_2d</a>
<a name="l00027"></a>00027 {
<a name="l00028"></a>00028   <span class="comment">// only static methods</span>
<a name="l00029"></a>00029   <a class="code" href="classvgl__rtree__point__box__2d.html#ad36b2d9512ca1aec3156dac11841caa6">vgl_rtree_point_box_2d</a>();
<a name="l00030"></a>00030   <a class="code" href="classvgl__rtree__point__box__2d.html#afe15a3dc9dad577ff1c6db8d0e12b1d2">~vgl_rtree_point_box_2d</a>();
<a name="l00031"></a>00031 
<a name="l00032"></a>00032  <span class="keyword">public</span>:
<a name="l00033"></a><a class="code" href="classvgl__rtree__point__box__2d.html#ad25f88ae14eff600a6a607ca47d1026d">00033</a>   <span class="keyword">typedef</span> <a class="code" href="classvgl__point__2d.html" title="Represents a cartesian 2D point.">vgl_point_2d&lt;T&gt;</a> <a class="code" href="classvgl__rtree__point__box__2d.html#ad25f88ae14eff600a6a607ca47d1026d">v_type</a>;
<a name="l00034"></a><a class="code" href="classvgl__rtree__point__box__2d.html#a7008d7c5df7c3d31523acdd775adb9a8">00034</a>   <span class="keyword">typedef</span> <a class="code" href="classvgl__box__2d.html">vgl_box_2d&lt;T&gt;</a> <a class="code" href="classvgl__rtree__point__box__2d.html#a7008d7c5df7c3d31523acdd775adb9a8">b_type</a>;
<a name="l00035"></a><a class="code" href="classvgl__rtree__point__box__2d.html#aba73d3af733c7884f018fee31bfb9786">00035</a>   <span class="keyword">typedef</span> T <a class="code" href="classvgl__rtree__point__box__2d.html#aba73d3af733c7884f018fee31bfb9786">t_type</a>;
<a name="l00036"></a>00036   <span class="comment">// Operations------</span>
<a name="l00037"></a><a class="code" href="classvgl__rtree__point__box__2d.html#aae5db12a3e8958ca2fe634b6a177756c">00037</a>   <span class="keyword">static</span> <span class="keywordtype">void</span>  <a class="code" href="classvgl__rtree__point__box__2d.html#aae5db12a3e8958ca2fe634b6a177756c">init</a>  (<a class="code" href="classvgl__box__2d.html">vgl_box_2d&lt;T&gt;</a>&amp; b, <a class="code" href="classvgl__point__2d.html" title="Represents a cartesian 2D point.">vgl_point_2d&lt;T&gt;</a> <span class="keyword">const</span>&amp; p)
<a name="l00038"></a>00038   { b = <a class="code" href="classvgl__box__2d.html">vgl_box_2d&lt;T&gt;</a>();  b.<a class="code" href="classvgl__box__2d.html#aeed1e1969591bf1beb0f68d704b48b5f" title="Add a point to this box.">add</a>(p); }
<a name="l00039"></a>00039 
<a name="l00040"></a><a class="code" href="classvgl__rtree__point__box__2d.html#a085eb836f888864b75528650ba363e58">00040</a>   <span class="keyword">static</span> <span class="keywordtype">void</span>  <a class="code" href="classvgl__rtree__point__box__2d.html#a085eb836f888864b75528650ba363e58">update</a>(<a class="code" href="classvgl__box__2d.html">vgl_box_2d&lt;T&gt;</a>&amp; b, <a class="code" href="classvgl__point__2d.html" title="Represents a cartesian 2D point.">vgl_point_2d&lt;T&gt;</a> <span class="keyword">const</span>&amp; p)
<a name="l00041"></a>00041   { b.<a class="code" href="classvgl__box__2d.html#aeed1e1969591bf1beb0f68d704b48b5f" title="Add a point to this box.">add</a>(p); }
<a name="l00042"></a>00042 
<a name="l00043"></a><a class="code" href="classvgl__rtree__point__box__2d.html#a116241e59b547d236b53d91a55184b06">00043</a>   <span class="keyword">static</span> <span class="keywordtype">void</span>  <a class="code" href="classvgl__rtree__point__box__2d.html#a085eb836f888864b75528650ba363e58">update</a>(<a class="code" href="classvgl__box__2d.html">vgl_box_2d&lt;T&gt;</a>&amp; b0, <a class="code" href="classvgl__box__2d.html">vgl_box_2d&lt;T&gt;</a> <span class="keyword">const</span> &amp;b1)
<a name="l00044"></a>00044   { b0.<a class="code" href="classvgl__box__2d.html#aeed1e1969591bf1beb0f68d704b48b5f" title="Add a point to this box.">add</a>(b1.<a class="code" href="classvgl__box__2d.html#aa09df9eac008d5b688d35fb57df41edd" title="Return lower left corner of box.">min_point</a>());  b0.<a class="code" href="classvgl__box__2d.html#aeed1e1969591bf1beb0f68d704b48b5f" title="Add a point to this box.">add</a>(b1.<a class="code" href="classvgl__box__2d.html#ad4455601f9e5fdaf0b586d82c5cb6134" title="Return upper right corner of box.">max_point</a>()); }
<a name="l00045"></a>00045 
<a name="l00046"></a><a class="code" href="classvgl__rtree__point__box__2d.html#acf01e4ceb2c22525167d9ad2d80aa4c9">00046</a>   <span class="keyword">static</span> <span class="keywordtype">bool</span>  <a class="code" href="classvgl__rtree__point__box__2d.html#acf01e4ceb2c22525167d9ad2d80aa4c9">meet</a>(<a class="code" href="classvgl__box__2d.html">vgl_box_2d&lt;T&gt;</a> <span class="keyword">const</span>&amp; b, <a class="code" href="classvgl__point__2d.html" title="Represents a cartesian 2D point.">vgl_point_2d&lt;T&gt;</a> <span class="keyword">const</span>&amp; p)
<a name="l00047"></a>00047   { <span class="keywordflow">return</span> b.<a class="code" href="classvgl__box__2d.html#a80f9e9d333e875f28cb24edf645b4b67" title="Return true iff the point p is inside this box.">contains</a>(p); }
<a name="l00048"></a>00048 
<a name="l00049"></a><a class="code" href="classvgl__rtree__point__box__2d.html#a87ec366fb8a208dd99b2bcf58c4d70b9">00049</a>   <span class="keyword">static</span> <span class="keywordtype">bool</span>  <a class="code" href="classvgl__rtree__point__box__2d.html#a87ec366fb8a208dd99b2bcf58c4d70b9">meet</a>(<a class="code" href="classvgl__box__2d.html">vgl_box_2d&lt;T&gt;</a> <span class="keyword">const</span>&amp; b0, <a class="code" href="classvgl__box__2d.html">vgl_box_2d&lt;T&gt;</a> <span class="keyword">const</span>&amp; b1) {
<a name="l00050"></a>00050     <a class="code" href="classvgl__point__2d.html" title="Represents a cartesian 2D point.">vgl_point_2d&lt;T&gt;</a> b0min = b0.<a class="code" href="classvgl__box__2d.html#aa09df9eac008d5b688d35fb57df41edd" title="Return lower left corner of box.">min_point</a>();
<a name="l00051"></a>00051     <a class="code" href="classvgl__point__2d.html" title="Represents a cartesian 2D point.">vgl_point_2d&lt;T&gt;</a> b1min = b1.<a class="code" href="classvgl__box__2d.html#aa09df9eac008d5b688d35fb57df41edd" title="Return lower left corner of box.">min_point</a>();
<a name="l00052"></a>00052     <a class="code" href="classvgl__point__2d.html" title="Represents a cartesian 2D point.">vgl_point_2d&lt;T&gt;</a> b0max = b0.<a class="code" href="classvgl__box__2d.html#ad4455601f9e5fdaf0b586d82c5cb6134" title="Return upper right corner of box.">max_point</a>();
<a name="l00053"></a>00053     <a class="code" href="classvgl__point__2d.html" title="Represents a cartesian 2D point.">vgl_point_2d&lt;T&gt;</a> b1max = b1.<a class="code" href="classvgl__box__2d.html#ad4455601f9e5fdaf0b586d82c5cb6134" title="Return upper right corner of box.">max_point</a>();
<a name="l00054"></a>00054     <a class="code" href="classvgl__point__2d.html" title="Represents a cartesian 2D point.">vgl_point_2d&lt;T&gt;</a> max_of_mins(b0min.<a class="code" href="classvgl__point__2d.html#a3d0455536dcb130f284c3eeaba1ae960">x</a>() &gt; b1min.<a class="code" href="classvgl__point__2d.html#a3d0455536dcb130f284c3eeaba1ae960">x</a>() ? b0min.<a class="code" href="classvgl__point__2d.html#a3d0455536dcb130f284c3eeaba1ae960">x</a>() : b1min.<a class="code" href="classvgl__point__2d.html#a3d0455536dcb130f284c3eeaba1ae960">x</a>(), b0min.<a class="code" href="classvgl__point__2d.html#a25dfe52017f7614103d028639125ff91">y</a>() &gt; b1min.<a class="code" href="classvgl__point__2d.html#a25dfe52017f7614103d028639125ff91">y</a>() ? b0min.<a class="code" href="classvgl__point__2d.html#a25dfe52017f7614103d028639125ff91">y</a>() : b1min.<a class="code" href="classvgl__point__2d.html#a25dfe52017f7614103d028639125ff91">y</a>());
<a name="l00055"></a>00055     <a class="code" href="classvgl__point__2d.html" title="Represents a cartesian 2D point.">vgl_point_2d&lt;T&gt;</a> min_of_maxs(b0min.<a class="code" href="classvgl__point__2d.html#a3d0455536dcb130f284c3eeaba1ae960">x</a>() &lt; b1min.<a class="code" href="classvgl__point__2d.html#a3d0455536dcb130f284c3eeaba1ae960">x</a>() ? b0min.<a class="code" href="classvgl__point__2d.html#a3d0455536dcb130f284c3eeaba1ae960">x</a>() : b1min.<a class="code" href="classvgl__point__2d.html#a3d0455536dcb130f284c3eeaba1ae960">x</a>(), b0min.<a class="code" href="classvgl__point__2d.html#a25dfe52017f7614103d028639125ff91">y</a>() &lt; b1min.<a class="code" href="classvgl__point__2d.html#a25dfe52017f7614103d028639125ff91">y</a>() ? b0min.<a class="code" href="classvgl__point__2d.html#a25dfe52017f7614103d028639125ff91">y</a>() : b1min.<a class="code" href="classvgl__point__2d.html#a25dfe52017f7614103d028639125ff91">y</a>());
<a name="l00056"></a>00056 
<a name="l00057"></a>00057     <span class="keywordflow">return</span> ( b0.<a class="code" href="classvgl__box__2d.html#a80f9e9d333e875f28cb24edf645b4b67" title="Return true iff the point p is inside this box.">contains</a>(b1min) || b0.<a class="code" href="classvgl__box__2d.html#a80f9e9d333e875f28cb24edf645b4b67" title="Return true iff the point p is inside this box.">contains</a>(b1max) ||
<a name="l00058"></a>00058              b1.<a class="code" href="classvgl__box__2d.html#a80f9e9d333e875f28cb24edf645b4b67" title="Return true iff the point p is inside this box.">contains</a>(b0min) || b1.<a class="code" href="classvgl__box__2d.html#a80f9e9d333e875f28cb24edf645b4b67" title="Return true iff the point p is inside this box.">contains</a>(b0max) ||
<a name="l00059"></a>00059              ( (b0.<a class="code" href="classvgl__box__2d.html#a80f9e9d333e875f28cb24edf645b4b67" title="Return true iff the point p is inside this box.">contains</a>(max_of_mins) || b0.<a class="code" href="classvgl__box__2d.html#a80f9e9d333e875f28cb24edf645b4b67" title="Return true iff the point p is inside this box.">contains</a>(min_of_maxs)) &amp;&amp;
<a name="l00060"></a>00060                (b1.<a class="code" href="classvgl__box__2d.html#a80f9e9d333e875f28cb24edf645b4b67" title="Return true iff the point p is inside this box.">contains</a>(max_of_mins) || b1.<a class="code" href="classvgl__box__2d.html#a80f9e9d333e875f28cb24edf645b4b67" title="Return true iff the point p is inside this box.">contains</a>(min_of_maxs)) ) );
<a name="l00061"></a>00061   }
<a name="l00062"></a>00062 
<a name="l00063"></a><a class="code" href="classvgl__rtree__point__box__2d.html#a25baf2810b6a23389406188283ed2717">00063</a>   <span class="keyword">static</span> <span class="keywordtype">float</span> <a class="code" href="classvgl__rtree__point__box__2d.html#a25baf2810b6a23389406188283ed2717">volume</a>(<a class="code" href="classvgl__box__2d.html">vgl_box_2d&lt;T&gt;</a> <span class="keyword">const</span>&amp; b)
<a name="l00064"></a>00064   { <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(b.<a class="code" href="classvgl__box__2d.html#ae9454a86dc3daca0b02c94e84cca9f74" title="Get &quot;volume&quot; (=area) of this box.">area</a>()); }
<a name="l00065"></a>00065 
<a name="l00066"></a>00066   <span class="comment">// point meets for a polygon, used by generic rtree probe</span>
<a name="l00067"></a><a class="code" href="classvgl__rtree__point__box__2d.html#a9e095a9f096f888fc1be712f7e5ad1f7">00067</a>   <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classvgl__rtree__point__box__2d.html#a9e095a9f096f888fc1be712f7e5ad1f7">meets</a>(<a class="code" href="classvgl__point__2d.html" title="Represents a cartesian 2D point.">vgl_point_2d&lt;T&gt;</a> <span class="keyword">const</span>&amp; <a class="code" href="vgl__vector__2d_8h.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>, <a class="code" href="classvgl__polygon.html" title="Store a polygon.">vgl_polygon&lt;T&gt;</a> poly)
<a name="l00068"></a>00068   { <span class="keywordflow">return</span> poly.<a class="code" href="classvgl__polygon.html#a29b27a9ec1a4dbacc998abb30f32f892" title="Returns true if p(x,y) is inside the polygon, else false.">contains</a>(v); }
<a name="l00069"></a>00069 
<a name="l00070"></a>00070   <span class="comment">// box meets for a polygon, used by generic rtree probe</span>
<a name="l00071"></a><a class="code" href="classvgl__rtree__point__box__2d.html#aef31f14974af0de30fb0269e93fac644">00071</a>   <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classvgl__rtree__point__box__2d.html#a9e095a9f096f888fc1be712f7e5ad1f7">meets</a>(<a class="code" href="classvgl__box__2d.html">vgl_box_2d&lt;T&gt;</a> <span class="keyword">const</span>&amp; b, <a class="code" href="classvgl__polygon.html" title="Store a polygon.">vgl_polygon&lt;T&gt;</a> poly)
<a name="l00072"></a>00072   { <span class="keywordflow">return</span> vgl_intersection&lt;T&gt;(b, poly); }
<a name="l00073"></a>00073 };
<a name="l00074"></a>00074 
<a name="l00075"></a>00075 
<a name="l00076"></a>00076 <span class="comment">//: vgl_rtree Class C for V=vgl_box_2d&lt;T&gt;, B = vgl_rbox_2d&lt;T&gt;</span>
<a name="l00077"></a>00077 <span class="comment">//  Need to distinguish bounds type from stored element type,</span>
<a name="l00078"></a>00078 <span class="comment">//  so create minimal subclass of vgl_box_2d</span>
<a name="l00079"></a>00079 <span class="keyword">template</span> &lt;<span class="keyword">class</span> Type&gt;
<a name="l00080"></a><a class="code" href="classvgl__bbox__2d.html">00080</a> <span class="keyword">class </span><a class="code" href="classvgl__bbox__2d.html" title="vgl_rtree Class C for V=vgl_box_2d&lt;T&gt;, B = vgl_rbox_2d&lt;T&gt;.">vgl_bbox_2d</a> : <span class="keyword">public</span> <a class="code" href="classvgl__box__2d.html" title="Represents a cartesian 2D box.">vgl_box_2d</a>&lt;Type&gt;
<a name="l00081"></a>00081 {
<a name="l00082"></a>00082  <span class="keyword">public</span>:
<a name="l00083"></a>00083   <span class="comment">//: Default constructor (creates empty box)</span>
<a name="l00084"></a><a class="code" href="classvgl__bbox__2d.html#a06914298dbe981e907a9f02258e6497f">00084</a>   <a class="code" href="classvgl__bbox__2d.html#a06914298dbe981e907a9f02258e6497f" title="Default constructor (creates empty box).">vgl_bbox_2d</a>() {}
<a name="l00085"></a>00085 
<a name="l00086"></a>00086   <span class="comment">//: Construct using two corner points</span>
<a name="l00087"></a><a class="code" href="classvgl__bbox__2d.html#ad8285cb7cf25132f96585e69be44b13a">00087</a>   <a class="code" href="classvgl__bbox__2d.html#a06914298dbe981e907a9f02258e6497f" title="Default constructor (creates empty box).">vgl_bbox_2d</a>(Type <span class="keyword">const</span> min_position[2],
<a name="l00088"></a>00088               Type <span class="keyword">const</span> max_position[2])
<a name="l00089"></a>00089   : <a class="code" href="classvgl__box__2d.html" title="Represents a cartesian 2D box.">vgl_box_2d</a>&lt;Type&gt;(min_position[2], max_position[2]) {}
<a name="l00090"></a>00090 
<a name="l00091"></a>00091   <span class="comment">//: Construct using two corner points</span>
<a name="l00092"></a><a class="code" href="classvgl__bbox__2d.html#aca8e890fb451956f27771ff14e92f603">00092</a>   <a class="code" href="classvgl__bbox__2d.html#a06914298dbe981e907a9f02258e6497f" title="Default constructor (creates empty box).">vgl_bbox_2d</a>(<a class="code" href="classvgl__point__2d.html" title="Represents a cartesian 2D point.">vgl_point_2d&lt;Type&gt;</a> <span class="keyword">const</span>&amp; <a class="code" href="classvgl__box__2d.html#afcaf3e779a5d0dfb9c8f2fd84c613b67a81fcfe2d328b4e04c403dc46264d3724">min_pos</a>,
<a name="l00093"></a>00093               <a class="code" href="classvgl__point__2d.html" title="Represents a cartesian 2D point.">vgl_point_2d&lt;Type&gt;</a> <span class="keyword">const</span>&amp; <a class="code" href="classvgl__box__2d.html#afcaf3e779a5d0dfb9c8f2fd84c613b67ae4d9e8291f7d12f6c1821e08ad846ce6">max_pos</a>)
<a name="l00094"></a>00094   : <a class="code" href="classvgl__box__2d.html" title="Represents a cartesian 2D box.">vgl_box_2d</a>&lt;Type&gt;(min_pos, max_pos) {}
<a name="l00095"></a>00095 
<a name="l00096"></a>00096   <span class="comment">//: Construct using ranges in \a x (first two args) and \a y (last two)</span>
<a name="l00097"></a><a class="code" href="classvgl__bbox__2d.html#a059da6ad6c54abdb6e233c8e9be82461">00097</a>   <a class="code" href="classvgl__bbox__2d.html#a06914298dbe981e907a9f02258e6497f" title="Default constructor (creates empty box).">vgl_bbox_2d</a>(Type xmin, Type xmax, Type ymin, Type ymax)
<a name="l00098"></a>00098   : <a class="code" href="classvgl__box__2d.html" title="Represents a cartesian 2D box.">vgl_box_2d</a>&lt;Type&gt;(xmin, xmax, ymin, ymax) {}
<a name="l00099"></a>00099 
<a name="l00100"></a>00100   <span class="comment">//: Equality test</span>
<a name="l00101"></a><a class="code" href="classvgl__bbox__2d.html#acaf3a9583c2bd95cee8fc336c97cefca">00101</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classvgl__bbox__2d.html#acaf3a9583c2bd95cee8fc336c97cefca" title="Equality test.">operator==</a>(<a class="code" href="classvgl__bbox__2d.html" title="vgl_rtree Class C for V=vgl_box_2d&lt;T&gt;, B = vgl_rbox_2d&lt;T&gt;.">vgl_bbox_2d&lt;Type&gt;</a> <span class="keyword">const</span>&amp; b)<span class="keyword"> const </span>{
<a name="l00102"></a>00102     <span class="comment">// All empty boxes are equal:</span>
<a name="l00103"></a>00103     <span class="keywordflow">if</span> (b.<a class="code" href="classvgl__box__2d.html#a8ad5b92287d7389b22878d4a892c6561" title="Return true if this box is empty.">is_empty</a>()) <span class="keywordflow">return</span> this-&gt;<a class="code" href="classvgl__box__2d.html#a8ad5b92287d7389b22878d4a892c6561" title="Return true if this box is empty.">is_empty</a>();
<a name="l00104"></a>00104     <span class="keywordflow">return</span>  this-&gt;<a class="code" href="classvgl__box__2d.html#a9b033f4a971cf6a86c0f281310dafd51" title="Get min x.">min_x</a>() == b.<a class="code" href="classvgl__box__2d.html#a9b033f4a971cf6a86c0f281310dafd51" title="Get min x.">min_x</a>() &amp;&amp; this-&gt;<a class="code" href="classvgl__box__2d.html#ad24cb8db7515810e3683a52114e60a22" title="Get min y.">min_y</a>() == b.<a class="code" href="classvgl__box__2d.html#ad24cb8db7515810e3683a52114e60a22" title="Get min y.">min_y</a>()
<a name="l00105"></a>00105          &amp;&amp; this-&gt;<a class="code" href="classvgl__box__2d.html#a1e0a7d799b8061e4cbf0282850ca38b9" title="Get max x.">max_x</a>() == b.<a class="code" href="classvgl__box__2d.html#a1e0a7d799b8061e4cbf0282850ca38b9" title="Get max x.">max_x</a>() &amp;&amp; this-&gt;<a class="code" href="classvgl__box__2d.html#a091bf54fb98be0b5c08b14209f6c50bf" title="Get max y.">max_y</a>() == b.<a class="code" href="classvgl__box__2d.html#a091bf54fb98be0b5c08b14209f6c50bf" title="Get max y.">max_y</a>();
<a name="l00106"></a>00106   }
<a name="l00107"></a>00107 };
<a name="l00108"></a>00108 
<a name="l00109"></a>00109 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00110"></a><a class="code" href="classvgl__rtree__box__box__2d.html">00110</a> <span class="keyword">class </span><a class="code" href="classvgl__rtree__box__box__2d.html">vgl_rtree_box_box_2d</a>
<a name="l00111"></a>00111 {
<a name="l00112"></a>00112   <span class="comment">// only static methods</span>
<a name="l00113"></a>00113   <a class="code" href="classvgl__rtree__box__box__2d.html#a8456a104b14c6b38bfe70b906fe3b29b">vgl_rtree_box_box_2d</a>();
<a name="l00114"></a>00114   <a class="code" href="classvgl__rtree__box__box__2d.html#a3de37cfbee20dd6f11b7bdbcd426affa">~vgl_rtree_box_box_2d</a>();
<a name="l00115"></a>00115 
<a name="l00116"></a>00116  <span class="keyword">public</span>:
<a name="l00117"></a><a class="code" href="classvgl__rtree__box__box__2d.html#a8a95aa10792985224c0d71f1256996bf">00117</a>   <span class="keyword">typedef</span> <a class="code" href="classvgl__box__2d.html">vgl_box_2d&lt;T&gt;</a> <a class="code" href="classvgl__rtree__box__box__2d.html#a8a95aa10792985224c0d71f1256996bf">v_type</a>;
<a name="l00118"></a><a class="code" href="classvgl__rtree__box__box__2d.html#ac78255c7d94f8462ca19b981baa2367e">00118</a>   <span class="keyword">typedef</span> <a class="code" href="classvgl__bbox__2d.html" title="vgl_rtree Class C for V=vgl_box_2d&lt;T&gt;, B = vgl_rbox_2d&lt;T&gt;.">vgl_bbox_2d&lt;T&gt;</a> <a class="code" href="classvgl__rtree__box__box__2d.html#ac78255c7d94f8462ca19b981baa2367e">b_type</a>;
<a name="l00119"></a><a class="code" href="classvgl__rtree__box__box__2d.html#a1b882229794ce0f6481875f0419378bc">00119</a>   <span class="keyword">typedef</span> T <a class="code" href="classvgl__rtree__box__box__2d.html#a1b882229794ce0f6481875f0419378bc">t_type</a>;
<a name="l00120"></a>00120   <span class="comment">// Operations------</span>
<a name="l00121"></a><a class="code" href="classvgl__rtree__box__box__2d.html#a8ff221aa7878c4314eb5fa3e026f7f73">00121</a>   <span class="keyword">static</span> <span class="keywordtype">void</span>  <a class="code" href="classvgl__rtree__box__box__2d.html#a8ff221aa7878c4314eb5fa3e026f7f73">init</a>  (<a class="code" href="classvgl__bbox__2d.html" title="vgl_rtree Class C for V=vgl_box_2d&lt;T&gt;, B = vgl_rbox_2d&lt;T&gt;.">vgl_bbox_2d&lt;T&gt;</a>&amp; b, <a class="code" href="classvgl__box__2d.html">vgl_box_2d&lt;T&gt;</a> <span class="keyword">const</span>&amp; <a class="code" href="vgl__vector__2d_8h.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>)
<a name="l00122"></a>00122   { b = <a class="code" href="classvgl__bbox__2d.html" title="vgl_rtree Class C for V=vgl_box_2d&lt;T&gt;, B = vgl_rbox_2d&lt;T&gt;.">vgl_bbox_2d&lt;T&gt;</a>();  b.<a class="code" href="classvgl__box__2d.html#aeed1e1969591bf1beb0f68d704b48b5f" title="Add a point to this box.">add</a>(v.<a class="code" href="classvgl__box__2d.html#aa09df9eac008d5b688d35fb57df41edd" title="Return lower left corner of box.">min_point</a>()); b.<a class="code" href="classvgl__box__2d.html#aeed1e1969591bf1beb0f68d704b48b5f" title="Add a point to this box.">add</a>(v.<a class="code" href="classvgl__box__2d.html#ad4455601f9e5fdaf0b586d82c5cb6134" title="Return upper right corner of box.">max_point</a>()); }
<a name="l00123"></a>00123 
<a name="l00124"></a><a class="code" href="classvgl__rtree__box__box__2d.html#aad01cea56a2fe08150234a7bd98a8b61">00124</a>   <span class="keyword">static</span> <span class="keywordtype">void</span>  <a class="code" href="classvgl__rtree__box__box__2d.html#aad01cea56a2fe08150234a7bd98a8b61">update</a>(<a class="code" href="classvgl__bbox__2d.html" title="vgl_rtree Class C for V=vgl_box_2d&lt;T&gt;, B = vgl_rbox_2d&lt;T&gt;.">vgl_bbox_2d&lt;T&gt;</a>&amp; b, <a class="code" href="classvgl__box__2d.html">vgl_box_2d&lt;T&gt;</a> <span class="keyword">const</span>&amp; <a class="code" href="vgl__vector__2d_8h.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>)
<a name="l00125"></a>00125   { b.<a class="code" href="classvgl__box__2d.html#aeed1e1969591bf1beb0f68d704b48b5f" title="Add a point to this box.">add</a>(v.<a class="code" href="classvgl__box__2d.html#aa09df9eac008d5b688d35fb57df41edd" title="Return lower left corner of box.">min_point</a>()); b.<a class="code" href="classvgl__box__2d.html#aeed1e1969591bf1beb0f68d704b48b5f" title="Add a point to this box.">add</a>(v.<a class="code" href="classvgl__box__2d.html#ad4455601f9e5fdaf0b586d82c5cb6134" title="Return upper right corner of box.">max_point</a>()); }
<a name="l00126"></a>00126 
<a name="l00127"></a><a class="code" href="classvgl__rtree__box__box__2d.html#a935d5a998f786d3c15679fd3c8c91a38">00127</a>   <span class="keyword">static</span> <span class="keywordtype">void</span>  <a class="code" href="classvgl__rtree__box__box__2d.html#aad01cea56a2fe08150234a7bd98a8b61">update</a>(<a class="code" href="classvgl__bbox__2d.html" title="vgl_rtree Class C for V=vgl_box_2d&lt;T&gt;, B = vgl_rbox_2d&lt;T&gt;.">vgl_bbox_2d&lt;T&gt;</a>&amp; b0, <a class="code" href="classvgl__bbox__2d.html" title="vgl_rtree Class C for V=vgl_box_2d&lt;T&gt;, B = vgl_rbox_2d&lt;T&gt;.">vgl_bbox_2d&lt;T&gt;</a> <span class="keyword">const</span> &amp;b1)
<a name="l00128"></a>00128   { b0.<a class="code" href="classvgl__box__2d.html#aeed1e1969591bf1beb0f68d704b48b5f" title="Add a point to this box.">add</a>(b1.<a class="code" href="classvgl__box__2d.html#aa09df9eac008d5b688d35fb57df41edd" title="Return lower left corner of box.">min_point</a>());  b0.<a class="code" href="classvgl__box__2d.html#aeed1e1969591bf1beb0f68d704b48b5f" title="Add a point to this box.">add</a>(b1.<a class="code" href="classvgl__box__2d.html#ad4455601f9e5fdaf0b586d82c5cb6134" title="Return upper right corner of box.">max_point</a>()); }
<a name="l00129"></a>00129 
<a name="l00130"></a><a class="code" href="classvgl__rtree__box__box__2d.html#a94b0e51afdffb6ffccdf705a94e3fefc">00130</a>   <span class="keyword">static</span> <span class="keywordtype">bool</span>  <a class="code" href="classvgl__rtree__box__box__2d.html#a94b0e51afdffb6ffccdf705a94e3fefc">meet</a>(<a class="code" href="classvgl__bbox__2d.html" title="vgl_rtree Class C for V=vgl_box_2d&lt;T&gt;, B = vgl_rbox_2d&lt;T&gt;.">vgl_bbox_2d&lt;T&gt;</a> <span class="keyword">const</span>&amp; b0, <a class="code" href="classvgl__box__2d.html">vgl_box_2d&lt;T&gt;</a> <span class="keyword">const</span>&amp; <a class="code" href="vgl__vector__2d_8h.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>) {
<a name="l00131"></a>00131     <span class="keywordtype">bool</span> resultf =(b0.<a class="code" href="classvgl__box__2d.html#a80f9e9d333e875f28cb24edf645b4b67" title="Return true iff the point p is inside this box.">contains</a>(v.<a class="code" href="classvgl__box__2d.html#aa09df9eac008d5b688d35fb57df41edd" title="Return lower left corner of box.">min_point</a>()) || b0.<a class="code" href="classvgl__box__2d.html#a80f9e9d333e875f28cb24edf645b4b67" title="Return true iff the point p is inside this box.">contains</a>(v.<a class="code" href="classvgl__box__2d.html#ad4455601f9e5fdaf0b586d82c5cb6134" title="Return upper right corner of box.">max_point</a>()));
<a name="l00132"></a>00132     <span class="keywordtype">bool</span> resultr =(v.<a class="code" href="classvgl__box__2d.html#a80f9e9d333e875f28cb24edf645b4b67" title="Return true iff the point p is inside this box.">contains</a>(b0.<a class="code" href="classvgl__box__2d.html#aa09df9eac008d5b688d35fb57df41edd" title="Return lower left corner of box.">min_point</a>()) || v.<a class="code" href="classvgl__box__2d.html#a80f9e9d333e875f28cb24edf645b4b67" title="Return true iff the point p is inside this box.">contains</a>(b0.<a class="code" href="classvgl__box__2d.html#ad4455601f9e5fdaf0b586d82c5cb6134" title="Return upper right corner of box.">max_point</a>()));
<a name="l00133"></a>00133     <span class="keywordflow">return</span> resultf||resultr;
<a name="l00134"></a>00134   }
<a name="l00135"></a>00135 
<a name="l00136"></a><a class="code" href="classvgl__rtree__box__box__2d.html#af7cbd0f55a0bbcc4e7ccf29e0b740995">00136</a>   <span class="keyword">static</span> <span class="keywordtype">bool</span>  <a class="code" href="classvgl__rtree__box__box__2d.html#af7cbd0f55a0bbcc4e7ccf29e0b740995">meet</a>(<a class="code" href="classvgl__bbox__2d.html" title="vgl_rtree Class C for V=vgl_box_2d&lt;T&gt;, B = vgl_rbox_2d&lt;T&gt;.">vgl_bbox_2d&lt;T&gt;</a> <span class="keyword">const</span>&amp; b0, <a class="code" href="classvgl__bbox__2d.html" title="vgl_rtree Class C for V=vgl_box_2d&lt;T&gt;, B = vgl_rbox_2d&lt;T&gt;.">vgl_bbox_2d&lt;T&gt;</a> <span class="keyword">const</span>&amp; b1) {
<a name="l00137"></a>00137     <span class="keywordtype">bool</span> resultf =(b0.<a class="code" href="classvgl__box__2d.html#a80f9e9d333e875f28cb24edf645b4b67" title="Return true iff the point p is inside this box.">contains</a>(b1.<a class="code" href="classvgl__box__2d.html#aa09df9eac008d5b688d35fb57df41edd" title="Return lower left corner of box.">min_point</a>()) || b0.<a class="code" href="classvgl__box__2d.html#a80f9e9d333e875f28cb24edf645b4b67" title="Return true iff the point p is inside this box.">contains</a>(b1.<a class="code" href="classvgl__box__2d.html#ad4455601f9e5fdaf0b586d82c5cb6134" title="Return upper right corner of box.">max_point</a>()));
<a name="l00138"></a>00138     <span class="keywordtype">bool</span> resultr =(b1.<a class="code" href="classvgl__box__2d.html#a80f9e9d333e875f28cb24edf645b4b67" title="Return true iff the point p is inside this box.">contains</a>(b0.<a class="code" href="classvgl__box__2d.html#aa09df9eac008d5b688d35fb57df41edd" title="Return lower left corner of box.">min_point</a>()) || b1.<a class="code" href="classvgl__box__2d.html#a80f9e9d333e875f28cb24edf645b4b67" title="Return true iff the point p is inside this box.">contains</a>(b0.<a class="code" href="classvgl__box__2d.html#ad4455601f9e5fdaf0b586d82c5cb6134" title="Return upper right corner of box.">max_point</a>()));
<a name="l00139"></a>00139     <span class="keywordflow">return</span> resultf||resultr;
<a name="l00140"></a>00140   }
<a name="l00141"></a>00141 
<a name="l00142"></a><a class="code" href="classvgl__rtree__box__box__2d.html#ab54f650411a2ff5d2e6096802ae19194">00142</a>   <span class="keyword">static</span> <span class="keywordtype">float</span> <a class="code" href="classvgl__rtree__box__box__2d.html#ab54f650411a2ff5d2e6096802ae19194">volume</a>(<a class="code" href="classvgl__box__2d.html">vgl_box_2d&lt;T&gt;</a> <span class="keyword">const</span>&amp; b)
<a name="l00143"></a>00143   { <span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span><span class="keywordtype">float</span><span class="keyword">&gt;</span>(b.<a class="code" href="classvgl__box__2d.html#ae9454a86dc3daca0b02c94e84cca9f74" title="Get &quot;volume&quot; (=area) of this box.">area</a>()); }
<a name="l00144"></a>00144 
<a name="l00145"></a>00145   <span class="comment">// box_2d meets for a polygon, used by generic rtree probe</span>
<a name="l00146"></a><a class="code" href="classvgl__rtree__box__box__2d.html#ab36588f8afd1fbd4d001e493feb6afa0">00146</a>   <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classvgl__rtree__box__box__2d.html#ab36588f8afd1fbd4d001e493feb6afa0">meets</a>(<a class="code" href="classvgl__box__2d.html">vgl_box_2d&lt;T&gt;</a> <span class="keyword">const</span>&amp; b, <a class="code" href="classvgl__polygon.html" title="Store a polygon.">vgl_polygon&lt;T&gt;</a> poly)
<a name="l00147"></a>00147   { <span class="keywordflow">return</span> <a class="code" href="classvgl__rtree__box__box__2d.html#ab36588f8afd1fbd4d001e493feb6afa0">vgl_rtree_point_box_2d&lt;T&gt;::meets</a>(b, poly); }
<a name="l00148"></a>00148 
<a name="l00149"></a><a class="code" href="classvgl__rtree__box__box__2d.html#a99ee44b0422dfa918e7e35dddc96312d">00149</a>   <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classvgl__rtree__box__box__2d.html#ab36588f8afd1fbd4d001e493feb6afa0">meets</a>(<a class="code" href="classvgl__bbox__2d.html" title="vgl_rtree Class C for V=vgl_box_2d&lt;T&gt;, B = vgl_rbox_2d&lt;T&gt;.">vgl_bbox_2d&lt;T&gt;</a> <span class="keyword">const</span>&amp; b, <a class="code" href="classvgl__polygon.html" title="Store a polygon.">vgl_polygon&lt;T&gt;</a> poly)
<a name="l00150"></a>00150   { <span class="keywordflow">return</span> <a class="code" href="classvgl__rtree__box__box__2d.html#ab36588f8afd1fbd4d001e493feb6afa0">vgl_rtree_point_box_2d&lt;T&gt;::meets</a>(b, poly); }
<a name="l00151"></a>00151 };
<a name="l00152"></a>00152 
<a name="l00153"></a>00153 <span class="keyword">template</span> &lt;<span class="keyword">class</span> V, <span class="keyword">class</span> B, <span class="keyword">class</span> C&gt;
<a name="l00154"></a><a class="code" href="classvgl__rtree__polygon__probe.html">00154</a> <span class="keyword">class </span><a class="code" href="classvgl__rtree__polygon__probe.html">vgl_rtree_polygon_probe</a> : <span class="keyword">public</span> <a class="code" href="classvgl__rtree__probe.html" title="Function predicate object for querying the tree.">vgl_rtree_probe</a>&lt;V, B, C&gt;
<a name="l00155"></a>00155 {
<a name="l00156"></a><a class="code" href="classvgl__rtree__polygon__probe.html#ae4e5d94f7a0c8a893f17107d0c5d6249">00156</a>   <span class="keyword">typedef</span> <span class="keyword">typename</span> C::t_type <a class="code" href="classvgl__rtree__polygon__probe.html#ae4e5d94f7a0c8a893f17107d0c5d6249">T</a>;
<a name="l00157"></a><a class="code" href="classvgl__rtree__polygon__probe.html#a55707a2b4ddbaf43b56aaedb1307c398">00157</a>   <a class="code" href="classvgl__polygon.html" title="Store a polygon.">vgl_polygon&lt;T&gt;</a> <a class="code" href="classvgl__rtree__polygon__probe.html#a55707a2b4ddbaf43b56aaedb1307c398">poly_</a>;
<a name="l00158"></a>00158  <span class="keyword">public</span>:
<a name="l00159"></a><a class="code" href="classvgl__rtree__polygon__probe.html#a4f02dd4b79a9eafd699c630406ec7095">00159</a>   <a class="code" href="classvgl__rtree__polygon__probe.html#a4f02dd4b79a9eafd699c630406ec7095">vgl_rtree_polygon_probe</a>(<a class="code" href="classvgl__polygon.html" title="Store a polygon.">vgl_polygon&lt;T&gt;</a> <span class="keyword">const</span>&amp; poly): <a class="code" href="classvgl__rtree__polygon__probe.html#a55707a2b4ddbaf43b56aaedb1307c398">poly_</a>(poly) {}
<a name="l00160"></a>00160 
<a name="l00161"></a>00161   <span class="comment">//: return true if the probe &quot;meets&quot; the given object.</span>
<a name="l00162"></a><a class="code" href="classvgl__rtree__polygon__probe.html#a985131068b970d812e63af11227ddadb">00162</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classvgl__rtree__polygon__probe.html#a985131068b970d812e63af11227ddadb" title="return true if the probe &quot;meets&quot; the given object.">meets</a>(V <span class="keyword">const</span> &amp;<a class="code" href="vgl__vector__2d_8h.html#a38bf1e5e0427bdeba2b469eea9befc23">v</a>)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classvgl__rtree__polygon__probe.html#a985131068b970d812e63af11227ddadb" title="return true if the probe &quot;meets&quot; the given object.">C::meets</a>(v, <a class="code" href="classvgl__rtree__polygon__probe.html#a55707a2b4ddbaf43b56aaedb1307c398">poly_</a>); }
<a name="l00163"></a><a class="code" href="classvgl__rtree__polygon__probe.html#a7e5b3ccc08e6d2d4cdf0585b4505c9ca">00163</a>   <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classvgl__rtree__polygon__probe.html#a7e5b3ccc08e6d2d4cdf0585b4505c9ca">meets</a>(B <span class="keyword">const</span> &amp;b)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classvgl__rtree__polygon__probe.html#a985131068b970d812e63af11227ddadb" title="return true if the probe &quot;meets&quot; the given object.">C::meets</a>(b, <a class="code" href="classvgl__rtree__polygon__probe.html#a55707a2b4ddbaf43b56aaedb1307c398">poly_</a>); }
<a name="l00164"></a>00164 };
<a name="l00165"></a>00165 
<a name="l00166"></a>00166 <span class="preprocessor">#endif // vgl_rtree_c_h_</span>
</pre></div></div>
</div>


<hr class="footer"/><address class="footer"><small>
Generated on Wed May 1 2013 17:31:23 for core/vgl by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
