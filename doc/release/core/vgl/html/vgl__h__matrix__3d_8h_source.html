<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <title>core/vgl/algo/vgl_h_matrix_3d.h Source File</title>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="tabs.css" rel="stylesheet" type="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">core/vgl/algo/vgl_h_matrix_3d.h</div>  </div>
</div>
<div class="contents">
<a href="vgl__h__matrix__3d_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// This is core/vgl/algo/vgl_h_matrix_3d.h</span>
<a name="l00002"></a>00002 <span class="preprocessor">#ifndef vgl_h_matrix_3d_h_</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span><span class="preprocessor">#define vgl_h_matrix_3d_h_</span>
<a name="l00004"></a>00004 <span class="preprocessor"></span><span class="comment">//:</span>
<a name="l00005"></a>00005 <span class="comment">// \file</span>
<a name="l00006"></a>00006 <span class="comment">// \brief 4x4 3D-to-3D projectivity</span>
<a name="l00007"></a>00007 <span class="comment">//</span>
<a name="l00008"></a>00008 <span class="comment">// A class to hold a 3D projective transformation matrix</span>
<a name="l00009"></a>00009 <span class="comment">// and to perform common operations using it e.g. transfer point.</span>
<a name="l00010"></a>00010 <span class="comment">//</span>
<a name="l00011"></a>00011 <span class="comment">// \verbatim</span>
<a name="l00012"></a>00012 <span class="comment">//  Modifications</span>
<a name="l00013"></a>00013 <span class="comment">//   22 Oct 2002 - Peter Vanroose - added vgl_homg_point_2d interface</span>
<a name="l00014"></a>00014 <span class="comment">//   23 Oct 2002 - Peter Vanroose - using fixed 3x3 matrices throughout</span>
<a name="l00015"></a>00015 <span class="comment">//   22 Mar 2003 - J. L. Mundy  - prep for moving to vgl</span>
<a name="l00016"></a>00016 <span class="comment">//   31 Jul 2010 - Peter Vanroose - made more similar to 1d and 2d variants</span>
<a name="l00017"></a>00017 <span class="comment">//   24 Oct 2010 - Peter Vanroose - mutators and setters now return *this</span>
<a name="l00018"></a>00018 <span class="comment">//   27 Oct 2010 - Peter Vanroose - moved Doxygen docs from .txx to .h</span>
<a name="l00019"></a>00019 <span class="comment">//   26 Jul 2011 - Peter Vanroose - added correlation(),set_affine(),is_identity()</span>
<a name="l00020"></a>00020 <span class="comment">// \endverbatim</span>
<a name="l00021"></a>00021 
<a name="l00022"></a>00022 <span class="preprocessor">#include &lt;vnl/vnl_fwd.h&gt;</span> <span class="comment">// for vnl_vector_fixed&lt;T,3&gt;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;vnl/vnl_matrix_fixed.h&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;<a class="code" href="vgl__homg__point__3d_8h.html" title="point in projective 3D space">vgl/vgl_homg_point_3d.h</a>&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;<a class="code" href="vgl__homg__plane__3d_8h.html" title="homogeneous plane in 3D projective space">vgl/vgl_homg_plane_3d.h</a>&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;vcl_vector.h&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;vcl_iosfwd.h&gt;</span>
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 <span class="comment">//:</span>
<a name="l00030"></a>00030 <span class="comment">// A class to hold a 3-d projective transformation matrix</span>
<a name="l00031"></a>00031 <span class="comment">// and to perform common operations using it e.g. transform point.</span>
<a name="l00032"></a>00032 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt;
<a name="l00033"></a><a class="code" href="classvgl__h__matrix__3d.html">00033</a> <span class="keyword">class </span><a class="code" href="classvgl__h__matrix__3d.html" title="A class to hold a 3-d projective transformation matrix and to perform common operations using it e...">vgl_h_matrix_3d</a>
<a name="l00034"></a>00034 {
<a name="l00035"></a>00035  <span class="keyword">protected</span>:
<a name="l00036"></a><a class="code" href="classvgl__h__matrix__3d.html#aa69ee2293a9945f81f8340beb449574f">00036</a>   vnl_matrix_fixed&lt;T,4,4&gt; <a class="code" href="classvgl__h__matrix__3d.html#aa69ee2293a9945f81f8340beb449574f">t12_matrix_</a>;
<a name="l00037"></a>00037  <span class="keyword">public</span>:
<a name="l00038"></a><a class="code" href="classvgl__h__matrix__3d.html#a2c76c9a9696a6e35c2d0252333b6ff6b">00038</a>   <a class="code" href="classvgl__h__matrix__3d.html#a2c76c9a9696a6e35c2d0252333b6ff6b">vgl_h_matrix_3d</a>() {}
<a name="l00039"></a><a class="code" href="classvgl__h__matrix__3d.html#a8c289870b24a672c5a07729dc71a1578">00039</a>  <a class="code" href="classvgl__h__matrix__3d.html#a8c289870b24a672c5a07729dc71a1578">~vgl_h_matrix_3d</a>() {}
<a name="l00040"></a>00040   <span class="comment">//: Copy constructor</span>
<a name="l00041"></a><a class="code" href="classvgl__h__matrix__3d.html#af3eb75702ef71e024e43fc2466308589">00041</a>   <a class="code" href="classvgl__h__matrix__3d.html#af3eb75702ef71e024e43fc2466308589" title="Copy constructor.">vgl_h_matrix_3d</a>(<a class="code" href="classvgl__h__matrix__3d.html" title="A class to hold a 3-d projective transformation matrix and to perform common operations using it e...">vgl_h_matrix_3d&lt;T&gt;</a> <span class="keyword">const</span>&amp; M) : <a class="code" href="classvgl__h__matrix__3d.html#aa69ee2293a9945f81f8340beb449574f">t12_matrix_</a>(M.<a class="code" href="classvgl__h__matrix__3d.html#a95b68370c009641fcf4f72b54cae2806" title="Return the 4x4 homography matrix.">get_matrix</a>()) {}
<a name="l00042"></a>00042   <span class="comment">//: Constructor from a 4x4 matrix, and implicit cast from vnl_matrix_fixed&lt;T,4,4&gt;</span>
<a name="l00043"></a><a class="code" href="classvgl__h__matrix__3d.html#a96af3e0f2102f64b2cc3a2e1e2f52171">00043</a>   <a class="code" href="classvgl__h__matrix__3d.html#a96af3e0f2102f64b2cc3a2e1e2f52171" title="Constructor from a 4x4 matrix, and implicit cast from vnl_matrix_fixed&lt;T,4,4&gt;.">vgl_h_matrix_3d</a>(vnl_matrix_fixed&lt;T,4,4&gt; <span class="keyword">const</span>&amp; M) : <a class="code" href="classvgl__h__matrix__3d.html#aa69ee2293a9945f81f8340beb449574f">t12_matrix_</a>(M) {}
<a name="l00044"></a>00044   <span class="comment">//: Construct an affine vgl_h_matrix_3d from 3x3 M and 3x1 m.</span>
<a name="l00045"></a>00045   <a class="code" href="classvgl__h__matrix__3d.html#a2c76c9a9696a6e35c2d0252333b6ff6b">vgl_h_matrix_3d</a>(vnl_matrix_fixed&lt;T,3,3&gt; <span class="keyword">const</span>&amp; M,
<a name="l00046"></a>00046                   vnl_vector_fixed&lt;T,3&gt; <span class="keyword">const</span>&amp; m);
<a name="l00047"></a>00047   <span class="comment">//: Constructor from 4x4 row-storage C-array</span>
<a name="l00048"></a><a class="code" href="classvgl__h__matrix__3d.html#a2b888563509762c6e461c4c4c1ee2e46">00048</a>   <span class="keyword">explicit</span> <a class="code" href="classvgl__h__matrix__3d.html#a2b888563509762c6e461c4c4c1ee2e46" title="Constructor from 4x4 row-storage C-array.">vgl_h_matrix_3d</a>(T <span class="keyword">const</span>* M) : <a class="code" href="classvgl__h__matrix__3d.html#aa69ee2293a9945f81f8340beb449574f">t12_matrix_</a>(M) {}
<a name="l00049"></a>00049   <span class="comment">//: Load from ASCII vcl_istream.</span>
<a name="l00050"></a>00050   <span class="keyword">explicit</span> <a class="code" href="classvgl__h__matrix__3d.html#a2c76c9a9696a6e35c2d0252333b6ff6b">vgl_h_matrix_3d</a>(vcl_istream&amp; s);
<a name="l00051"></a>00051   <span class="comment">//: Load from file</span>
<a name="l00052"></a>00052   <span class="keyword">explicit</span> <a class="code" href="classvgl__h__matrix__3d.html#a2c76c9a9696a6e35c2d0252333b6ff6b">vgl_h_matrix_3d</a>(<span class="keywordtype">char</span> <span class="keyword">const</span>* filename);
<a name="l00053"></a>00053   <span class="comment">//: Constructor - calculate homography between two sets of 3D points (minimum 5)</span>
<a name="l00054"></a>00054   <a class="code" href="classvgl__h__matrix__3d.html#a2c76c9a9696a6e35c2d0252333b6ff6b">vgl_h_matrix_3d</a>(vcl_vector&lt;<a class="code" href="classvgl__homg__point__3d.html" title="Represents a homogeneous 3D point.">vgl_homg_point_3d&lt;T&gt;</a> &gt; <span class="keyword">const</span>&amp; points1,
<a name="l00055"></a>00055                   vcl_vector&lt;<a class="code" href="classvgl__homg__point__3d.html" title="Represents a homogeneous 3D point.">vgl_homg_point_3d&lt;T&gt;</a> &gt; <span class="keyword">const</span>&amp; points2);
<a name="l00056"></a>00056 
<a name="l00057"></a>00057   <span class="comment">// Operations----------------------------------------------------------------</span>
<a name="l00058"></a>00058 
<a name="l00059"></a>00059   <span class="comment">//: Return the transformed point given by $q = {\tt H} p$</span>
<a name="l00060"></a>00060   <a class="code" href="classvgl__homg__point__3d.html" title="Represents a homogeneous 3D point.">vgl_homg_point_3d&lt;T&gt;</a> <a class="code" href="classvgl__h__matrix__3d.html#a25bc402967e73fd10b518c9122a5160d" title="Return the transformed point given by $q = { H} p$.">operator()</a>(<a class="code" href="classvgl__homg__point__3d.html" title="Represents a homogeneous 3D point.">vgl_homg_point_3d&lt;T&gt;</a> <span class="keyword">const</span>&amp; p) <span class="keyword">const</span>;
<a name="l00061"></a>00061   <span class="comment">//: Return the transformed point given by $q = {\tt H} p$</span>
<a name="l00062"></a><a class="code" href="classvgl__h__matrix__3d.html#afd25e9a597b4b1bfc3fa40513e0167bf">00062</a>   <a class="code" href="classvgl__homg__point__3d.html" title="Represents a homogeneous 3D point.">vgl_homg_point_3d&lt;T&gt;</a> <a class="code" href="classvgl__h__matrix__3d.html#afd25e9a597b4b1bfc3fa40513e0167bf" title="Return the transformed point given by $q = { H} p$.">operator* </a>(<a class="code" href="classvgl__homg__point__3d.html" title="Represents a homogeneous 3D point.">vgl_homg_point_3d&lt;T&gt;</a> <span class="keyword">const</span>&amp; p)<span class="keyword"> const </span>{<span class="keywordflow">return</span> (*<span class="keyword">this</span>)(p);}
<a name="l00063"></a>00063 
<a name="l00064"></a><a class="code" href="classvgl__h__matrix__3d.html#a63c8949b2ed7f67afde1ad3688c2ff6e">00064</a>   <span class="keywordtype">bool</span> <a class="code" href="classvgl__h__matrix__3d.html#a63c8949b2ed7f67afde1ad3688c2ff6e">operator==</a>(<a class="code" href="classvgl__h__matrix__3d.html" title="A class to hold a 3-d projective transformation matrix and to perform common operations using it e...">vgl_h_matrix_3d&lt;T&gt;</a> <span class="keyword">const</span>&amp; M)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classvgl__h__matrix__3d.html#aa69ee2293a9945f81f8340beb449574f">t12_matrix_</a> == M.<a class="code" href="classvgl__h__matrix__3d.html#a95b68370c009641fcf4f72b54cae2806" title="Return the 4x4 homography matrix.">get_matrix</a>(); }
<a name="l00065"></a>00065 
<a name="l00066"></a>00066   <span class="comment">//: Return the preimage of a transformed plane: $m = {\tt H} l$</span>
<a name="l00067"></a>00067   <a class="code" href="classvgl__homg__plane__3d.html">vgl_homg_plane_3d&lt;T&gt;</a> <a class="code" href="classvgl__h__matrix__3d.html#afbb58f5239526559da3edff17dca2d6f" title="Return the preimage of a transformed plane: $m = { H} l$.">preimage</a>(<a class="code" href="classvgl__homg__plane__3d.html">vgl_homg_plane_3d&lt;T&gt;</a> <span class="keyword">const</span>&amp; <a class="code" href="vgl__homg__line__2d_8h.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>) <span class="keyword">const</span>;
<a name="l00068"></a>00068   <a class="code" href="classvgl__homg__plane__3d.html">vgl_homg_plane_3d&lt;T&gt;</a> <a class="code" href="classvgl__h__matrix__3d.html#a34045d7ba218b1ba2b814fb7b1ea3062">correlation</a>(<a class="code" href="classvgl__homg__point__3d.html" title="Represents a homogeneous 3D point.">vgl_homg_point_3d&lt;T&gt;</a> <span class="keyword">const</span>&amp; p) <span class="keyword">const</span>;
<a name="l00069"></a>00069   <a class="code" href="classvgl__homg__point__3d.html" title="Represents a homogeneous 3D point.">vgl_homg_point_3d&lt;T&gt;</a> <a class="code" href="classvgl__h__matrix__3d.html#a34045d7ba218b1ba2b814fb7b1ea3062">correlation</a>(<a class="code" href="classvgl__homg__plane__3d.html">vgl_homg_plane_3d&lt;T&gt;</a> <span class="keyword">const</span>&amp; <a class="code" href="vgl__homg__line__2d_8h.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>) <span class="keyword">const</span>;
<a name="l00070"></a>00070 
<a name="l00071"></a>00071   <span class="comment">//the following require computing the inverse homography</span>
<a name="l00072"></a>00072 
<a name="l00073"></a>00073   <span class="comment">//: Return the preimage of a transformed point: $p = {\tt H}^{-1} q$</span>
<a name="l00074"></a>00074   <span class="comment">// (requires an inverse)</span>
<a name="l00075"></a>00075   <a class="code" href="classvgl__homg__point__3d.html" title="Represents a homogeneous 3D point.">vgl_homg_point_3d&lt;T&gt;</a> <a class="code" href="classvgl__h__matrix__3d.html#afbb58f5239526559da3edff17dca2d6f" title="Return the preimage of a transformed plane: $m = { H} l$.">preimage</a>(<a class="code" href="classvgl__homg__point__3d.html" title="Represents a homogeneous 3D point.">vgl_homg_point_3d&lt;T&gt;</a> <span class="keyword">const</span>&amp; q) <span class="keyword">const</span>;
<a name="l00076"></a>00076   <span class="comment">//: Return the transformed plane given by $m = {\tt H}^{-1} l$</span>
<a name="l00077"></a>00077   <span class="comment">// (requires an inverse)</span>
<a name="l00078"></a>00078   <a class="code" href="classvgl__homg__plane__3d.html">vgl_homg_plane_3d&lt;T&gt;</a> <a class="code" href="classvgl__h__matrix__3d.html#a25bc402967e73fd10b518c9122a5160d" title="Return the transformed point given by $q = { H} p$.">operator()</a>(<a class="code" href="classvgl__homg__plane__3d.html">vgl_homg_plane_3d&lt;T&gt;</a> <span class="keyword">const</span>&amp; <a class="code" href="vgl__homg__line__2d_8h.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>) <span class="keyword">const</span>;
<a name="l00079"></a>00079   <span class="comment">//: Return the transformed plane given by $m = {\tt H}^{-1} l$</span>
<a name="l00080"></a>00080   <span class="comment">// (requires an inverse)</span>
<a name="l00081"></a><a class="code" href="classvgl__h__matrix__3d.html#a239dd2ea4ba3b37b659cce0f60198351">00081</a>   <a class="code" href="classvgl__homg__plane__3d.html">vgl_homg_plane_3d&lt;T&gt;</a> <a class="code" href="classvgl__h__matrix__3d.html#a239dd2ea4ba3b37b659cce0f60198351" title="Return the transformed plane given by $m = { H}^{-1} l$.">operator*</a>(<a class="code" href="classvgl__homg__plane__3d.html">vgl_homg_plane_3d&lt;T&gt;</a> <span class="keyword">const</span>&amp; <a class="code" href="vgl__homg__line__2d_8h.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (*<span class="keyword">this</span>)(<a class="code" href="vgl__homg__line__2d_8h.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>);}
<a name="l00082"></a>00082 
<a name="l00083"></a>00083   <span class="comment">//:composition (*this) * H</span>
<a name="l00084"></a><a class="code" href="classvgl__h__matrix__3d.html#ab61239654a0ea7f6798cfed36e3c0096">00084</a>   <a class="code" href="classvgl__h__matrix__3d.html" title="A class to hold a 3-d projective transformation matrix and to perform common operations using it e...">vgl_h_matrix_3d&lt;T&gt;</a> <a class="code" href="classvgl__h__matrix__3d.html#afd25e9a597b4b1bfc3fa40513e0167bf" title="Return the transformed point given by $q = { H} p$.">operator * </a>(<a class="code" href="classvgl__h__matrix__3d.html" title="A class to hold a 3-d projective transformation matrix and to perform common operations using it e...">vgl_h_matrix_3d&lt;T&gt;</a> <span class="keyword">const</span>&amp; H)<span class="keyword"> const</span>
<a name="l00085"></a>00085 <span class="keyword">  </span>{ <span class="keywordflow">return</span> <a class="code" href="classvgl__h__matrix__3d.html" title="A class to hold a 3-d projective transformation matrix and to perform common operations using it e...">vgl_h_matrix_3d&lt;T&gt;</a>(<a class="code" href="classvgl__h__matrix__3d.html#aa69ee2293a9945f81f8340beb449574f">t12_matrix_</a>* H.<a class="code" href="classvgl__h__matrix__3d.html#aa69ee2293a9945f81f8340beb449574f">t12_matrix_</a>); }
<a name="l00086"></a>00086 
<a name="l00087"></a>00087   <span class="comment">// Data Access---------------------------------------------------------------</span>
<a name="l00088"></a>00088 
<a name="l00089"></a>00089   <span class="comment">//: Return the 4x4 homography matrix</span>
<a name="l00090"></a><a class="code" href="classvgl__h__matrix__3d.html#a95b68370c009641fcf4f72b54cae2806">00090</a>   vnl_matrix_fixed&lt;T,4,4&gt; <span class="keyword">const</span>&amp; <a class="code" href="classvgl__h__matrix__3d.html#a95b68370c009641fcf4f72b54cae2806" title="Return the 4x4 homography matrix.">get_matrix</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classvgl__h__matrix__3d.html#aa69ee2293a9945f81f8340beb449574f">t12_matrix_</a>; }
<a name="l00091"></a>00091   <span class="comment">//: Fill M with contents of the 4x4 homography matrix</span>
<a name="l00092"></a>00092   <span class="keywordtype">void</span> <span class="keyword">get</span> (vnl_matrix_fixed&lt;T,4,4&gt;* M) <span class="keyword">const</span>;
<a name="l00093"></a>00093   <span class="comment">//:</span>
<a name="l00094"></a>00094   <span class="comment">// \deprecated use the vnl_matrix_fixed variant instead</span>
<a name="l00095"></a>00095   <span class="keywordtype">void</span> <span class="keyword">get</span> (vnl_matrix&lt;T&gt;* M) <span class="keyword">const</span>;
<a name="l00096"></a>00096   <span class="comment">//: Fill M with contents of the 4x4 homography matrix</span>
<a name="l00097"></a>00097   <span class="keywordtype">void</span> <span class="keyword">get</span> (T* M) <span class="keyword">const</span>;
<a name="l00098"></a>00098   <span class="comment">//: Return an element from the 4x4 homography matrix</span>
<a name="l00099"></a>00099   T <span class="keyword">get</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> row_index, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> col_index) <span class="keyword">const</span>;
<a name="l00100"></a>00100   <span class="comment">//: Return the inverse homography</span>
<a name="l00101"></a>00101   <a class="code" href="classvgl__h__matrix__3d.html" title="A class to hold a 3-d projective transformation matrix and to perform common operations using it e...">vgl_h_matrix_3d</a> <a class="code" href="classvgl__h__matrix__3d.html#a267262c48e6279d0f9ddaae4f5fcc077" title="Return the inverse homography.">get_inverse</a>() <span class="keyword">const</span>;
<a name="l00102"></a>00102 
<a name="l00103"></a>00103   <span class="comment">//: Set an element of the 4x4 homography matrix</span>
<a name="l00104"></a><a class="code" href="classvgl__h__matrix__3d.html#a10e0d23912489e39105f48373061f2c4">00104</a>   <a class="code" href="classvgl__h__matrix__3d.html" title="A class to hold a 3-d projective transformation matrix and to perform common operations using it e...">vgl_h_matrix_3d</a>&amp; <span class="keyword">set</span> (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> row_index, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> col_index, T value)
<a name="l00105"></a>00105   { <a class="code" href="classvgl__h__matrix__3d.html#aa69ee2293a9945f81f8340beb449574f">t12_matrix_</a>[row_index][col_index]=value; <span class="keywordflow">return</span> *<span class="keyword">this</span>; }
<a name="l00106"></a>00106 
<a name="l00107"></a>00107   <span class="comment">//: Set to 4x4 row-stored matrix</span>
<a name="l00108"></a>00108   <a class="code" href="classvgl__h__matrix__3d.html" title="A class to hold a 3-d projective transformation matrix and to perform common operations using it e...">vgl_h_matrix_3d</a>&amp; <span class="keyword">set</span>(T <span class="keyword">const</span>* M);
<a name="l00109"></a>00109   <span class="comment">//: Set to given 4x4 matrix</span>
<a name="l00110"></a>00110   <a class="code" href="classvgl__h__matrix__3d.html" title="A class to hold a 3-d projective transformation matrix and to perform common operations using it e...">vgl_h_matrix_3d</a>&amp; <span class="keyword">set</span>(vnl_matrix_fixed&lt;T,4,4&gt; <span class="keyword">const</span>&amp; M);
<a name="l00111"></a>00111 
<a name="l00112"></a>00112   <span class="comment">// various affine transformations that set the corresponding parts of the matrix</span>
<a name="l00113"></a>00113 
<a name="l00114"></a>00114   <span class="comment">//: initialize the transformation to identity</span>
<a name="l00115"></a>00115   <a class="code" href="classvgl__h__matrix__3d.html" title="A class to hold a 3-d projective transformation matrix and to perform common operations using it e...">vgl_h_matrix_3d</a>&amp; <a class="code" href="classvgl__h__matrix__3d.html#a49a1abaf04b491809448c2d7464be473" title="initialize the transformation to identity.">set_identity</a>();
<a name="l00116"></a>00116   <span class="comment">//: set H[0][3] = tx, H[1][3] = ty, and H[2][3] = tz, other elements unaltered</span>
<a name="l00117"></a>00117   <a class="code" href="classvgl__h__matrix__3d.html" title="A class to hold a 3-d projective transformation matrix and to perform common operations using it e...">vgl_h_matrix_3d</a>&amp; <a class="code" href="classvgl__h__matrix__3d.html#ab12f25a823d859e96c3df21a1794b116" title="set H[0][3] = tx, H[1][3] = ty, and H[2][3] = tz, other elements unaltered.">set_translation</a>(T tx, T ty, T tz);
<a name="l00118"></a>00118   <span class="comment">//: compose the current transform with a uniform scaling transformation, S.</span>
<a name="l00119"></a>00119   <span class="comment">// $S = \left[ \begin{array}{cccc}</span>
<a name="l00120"></a>00120   <span class="comment">//                           s &amp; 0 &amp; 0 &amp; 0 \\%</span>
<a name="l00121"></a>00121   <span class="comment">//                           0 &amp; s &amp; 0 &amp; 0 \\%</span>
<a name="l00122"></a>00122   <span class="comment">//                           0 &amp; 0 &amp; s &amp; 0 \\%</span>
<a name="l00123"></a>00123   <span class="comment">//                           0 &amp; 0 &amp; 0 &amp; 1</span>
<a name="l00124"></a>00124   <span class="comment">// \end{array}\right]$                         , Ts = S*T.</span>
<a name="l00125"></a>00125   <a class="code" href="classvgl__h__matrix__3d.html" title="A class to hold a 3-d projective transformation matrix and to perform common operations using it e...">vgl_h_matrix_3d</a>&amp; <a class="code" href="classvgl__h__matrix__3d.html#ae30d32a3aa191f57d4771c9364048dd7" title="compose the current transform with a uniform scaling transformation, S.">set_scale</a>(T scale);
<a name="l00126"></a>00126 
<a name="l00127"></a>00127   <span class="comment">//: set the transform to a general affine transform matrix</span>
<a name="l00128"></a>00128   <span class="comment">// $A = \left[ \begin{array}{ccc}</span>
<a name="l00129"></a>00129   <span class="comment">//                           a00 &amp; a01 &amp; a02 &amp; a03 \\%</span>
<a name="l00130"></a>00130   <span class="comment">//                           a10 &amp; a11 &amp; a12 &amp; a13 \\%</span>
<a name="l00131"></a>00131   <span class="comment">//                           a20 &amp; a21 &amp; a22 &amp; a23 \\%</span>
<a name="l00132"></a>00132   <span class="comment">//                           0   &amp; 0   &amp; 0   &amp; 1</span>
<a name="l00133"></a>00133   <span class="comment">// \end{array}\right]$</span>
<a name="l00134"></a>00134   <a class="code" href="classvgl__h__matrix__3d.html" title="A class to hold a 3-d projective transformation matrix and to perform common operations using it e...">vgl_h_matrix_3d</a>&amp; <a class="code" href="classvgl__h__matrix__3d.html#a978658bbbe9133432f04339a019ccd3d" title="set the transform to a general affine transform matrix.">set_affine</a>(vnl_matrix_fixed&lt;T,3,4&gt; <span class="keyword">const</span>&amp; M34);
<a name="l00135"></a>00135 
<a name="l00136"></a>00136   <span class="comment">//: Just the upper 3x3 part of the matrix is replaced by a rotation matrix.</span>
<a name="l00137"></a>00137   <a class="code" href="classvgl__h__matrix__3d.html" title="A class to hold a 3-d projective transformation matrix and to perform common operations using it e...">vgl_h_matrix_3d</a>&amp; <a class="code" href="classvgl__h__matrix__3d.html#a2a146438c5302780980aadca8d2daa4a" title="Just the upper 3x3 part of the matrix is replaced by a rotation matrix.">set_rotation_matrix</a>(vnl_matrix_fixed&lt;T,3,3&gt; <span class="keyword">const</span>&amp; R);
<a name="l00138"></a>00138   <span class="comment">//: Set to rotation about an axis</span>
<a name="l00139"></a>00139   <span class="comment">//  Just the upper 3x3 part of the matrix is replaced by a rotation matrix.</span>
<a name="l00140"></a>00140   <span class="comment">//  rotation angle theta is in radians</span>
<a name="l00141"></a>00141   <a class="code" href="classvgl__h__matrix__3d.html" title="A class to hold a 3-d projective transformation matrix and to perform common operations using it e...">vgl_h_matrix_3d</a>&amp; <a class="code" href="classvgl__h__matrix__3d.html#a39958b6609648b63bfc2f61a2fe6890d" title="Set to rotation about an axis.">set_rotation_about_axis</a>(vnl_vector_fixed&lt;T,3&gt; <span class="keyword">const</span>&amp; axis, T theta);
<a name="l00142"></a>00142   <span class="comment">//: Set to roll, pitch and yaw specified rotation.</span>
<a name="l00143"></a>00143   <span class="comment">// - roll is rotation about z</span>
<a name="l00144"></a>00144   <span class="comment">// - pitch is rotation about y</span>
<a name="l00145"></a>00145   <span class="comment">// - yaw is rotation about x</span>
<a name="l00146"></a>00146   <span class="comment">//  Just the upper 3x3 part of the matrix is replaced by a rotation matrix.</span>
<a name="l00147"></a>00147   <a class="code" href="classvgl__h__matrix__3d.html" title="A class to hold a 3-d projective transformation matrix and to perform common operations using it e...">vgl_h_matrix_3d</a>&amp; <a class="code" href="classvgl__h__matrix__3d.html#a8cd5b54ebbbaf46809a332b6fd7faa6a" title="Set to roll, pitch and yaw specified rotation.">set_rotation_roll_pitch_yaw</a>(T yaw, T pitch, T roll);
<a name="l00148"></a>00148   <span class="comment">//: Set to rotation specified by Euler angles</span>
<a name="l00149"></a>00149   <span class="comment">//  Just the upper 3x3 part of the matrix is replaced by a rotation matrix.</span>
<a name="l00150"></a>00150   <a class="code" href="classvgl__h__matrix__3d.html" title="A class to hold a 3-d projective transformation matrix and to perform common operations using it e...">vgl_h_matrix_3d</a>&amp; <a class="code" href="classvgl__h__matrix__3d.html#aa0eed0f9ce3da817b55058bedbdd1584" title="Set to rotation specified by Euler angles.">set_rotation_euler</a>(T rz1, T ry, T rz2);
<a name="l00151"></a>00151 
<a name="l00152"></a>00152   <span class="comment">//: set the transformation to a reflection about a plane</span>
<a name="l00153"></a>00153   <span class="keywordtype">void</span> <a class="code" href="classvgl__h__matrix__3d.html#a957b8d87e19a609395754b0c5e378650" title="set the transformation to a reflection about a plane.">set_reflection_plane</a>(<a class="code" href="classvgl__plane__3d.html" title="Represents a Euclidean 3D plane.">vgl_plane_3d&lt;double&gt;</a> <span class="keyword">const</span>&amp; p);
<a name="l00154"></a>00154 
<a name="l00155"></a>00155   <span class="keywordtype">bool</span> <a class="code" href="classvgl__h__matrix__3d.html#a04be39fc8a7cf2a7f2096968fe6a7375">is_rotation</a>() <span class="keyword">const</span>;
<a name="l00156"></a>00156   <span class="keywordtype">bool</span> <a class="code" href="classvgl__h__matrix__3d.html#a49741dd56cb48f76e0c0b295c0314d43">is_identity</a>() <span class="keyword">const</span>;
<a name="l00157"></a>00157   <span class="keywordtype">bool</span> <a class="code" href="classvgl__h__matrix__3d.html#a3a6cc5500d342b2ba03616514dce2600">is_euclidean</a>() <span class="keyword">const</span>;
<a name="l00158"></a>00158 
<a name="l00159"></a>00159   <span class="comment">//: Compute transform to projective basis given five points, no 4 of which coplanar</span>
<a name="l00160"></a>00160   <span class="comment">// Transformation to projective basis (canonical frame)</span>
<a name="l00161"></a>00161   <span class="comment">// Compute the homography that takes the input set of points to the</span>
<a name="l00162"></a>00162   <span class="comment">// canonical frame.  The points act as the projective basis for</span>
<a name="l00163"></a>00163   <span class="comment">// the canonical coordinate system.  In the canonical frame the points</span>
<a name="l00164"></a>00164   <span class="comment">// have coordinates:</span>
<a name="l00165"></a>00165   <span class="comment">// $\begin{array}{cccc}</span>
<a name="l00166"></a>00166   <span class="comment">//   p[0] &amp; p[1] &amp; p[2]  &amp; p[3] &amp; p[4] \\%</span>
<a name="l00167"></a>00167   <span class="comment">//     1  &amp;   0  &amp;   0   &amp;   0  &amp;   1  \\%</span>
<a name="l00168"></a>00168   <span class="comment">//     0  &amp;   1  &amp;   0   &amp;   0  &amp;   1  \\%</span>
<a name="l00169"></a>00169   <span class="comment">//     0  &amp;   0  &amp;   1   &amp;   0  &amp;   1  \\%</span>
<a name="l00170"></a>00170   <span class="comment">//     0  &amp;   0  &amp;   0   &amp;   1  &amp;   1</span>
<a name="l00171"></a>00171   <span class="comment">// \end{array}$</span>
<a name="l00172"></a>00172   <span class="keywordtype">bool</span> <a class="code" href="classvgl__h__matrix__3d.html#a1424a7255b475a336b0182dd1ed4dd54" title="Compute transform to projective basis given five points, no 4 of which coplanar.">projective_basis</a>(vcl_vector&lt;<a class="code" href="classvgl__homg__point__3d.html" title="Represents a homogeneous 3D point.">vgl_homg_point_3d&lt;T&gt;</a> &gt; <span class="keyword">const</span>&amp; five_points);
<a name="l00173"></a>00173 
<a name="l00174"></a>00174   <span class="comment">//: transformation to projective basis (canonical frame)</span>
<a name="l00175"></a>00175   <span class="comment">// Compute the homography that takes the input set of planes to the canonical</span>
<a name="l00176"></a>00176   <span class="comment">// frame.  The planes act as the dual projective basis for the canonical</span>
<a name="l00177"></a>00177   <span class="comment">// coordinate system.  In the canonical frame the planes have equations:</span>
<a name="l00178"></a>00178   <span class="comment">// x=0; y=0; z=0; w=0; x+y+z+w=0. (The latter plane is the plane at infinity.)</span>
<a name="l00179"></a>00179   <span class="keywordtype">bool</span> <a class="code" href="classvgl__h__matrix__3d.html#a1424a7255b475a336b0182dd1ed4dd54" title="Compute transform to projective basis given five points, no 4 of which coplanar.">projective_basis</a>(vcl_vector&lt;<a class="code" href="classvgl__homg__plane__3d.html">vgl_homg_plane_3d&lt;T&gt;</a> &gt; <span class="keyword">const</span>&amp; five_planes);
<a name="l00180"></a>00180 
<a name="l00181"></a>00181   <span class="comment">// ---------- extract components as transformations ----------</span>
<a name="l00182"></a>00182 
<a name="l00183"></a>00183   <span class="comment">//: corresponds to rotation for Euclidean transformations</span>
<a name="l00184"></a>00184   <a class="code" href="classvgl__h__matrix__3d.html" title="A class to hold a 3-d projective transformation matrix and to perform common operations using it e...">vgl_h_matrix_3d&lt;T&gt;</a> <a class="code" href="classvgl__h__matrix__3d.html#aabe76d8f6e180818bfefc087bd220291" title="corresponds to rotation for Euclidean transformations.">get_upper_3x3</a>() <span class="keyword">const</span>;
<a name="l00185"></a>00185   vnl_matrix_fixed&lt;T,3,3&gt; <a class="code" href="classvgl__h__matrix__3d.html#ae128829ccff8a7bf6a7e3f74572206c2">get_upper_3x3_matrix</a>() <span class="keyword">const</span>;
<a name="l00186"></a>00186 
<a name="l00187"></a>00187   <span class="comment">//: corresponds to translation for affine transformations</span>
<a name="l00188"></a>00188   <a class="code" href="classvgl__homg__point__3d.html" title="Represents a homogeneous 3D point.">vgl_homg_point_3d&lt;T&gt;</a> <a class="code" href="classvgl__h__matrix__3d.html#a69a0e87e395d950aa6ffba15cbaf84ee" title="corresponds to translation for affine transformations.">get_translation</a>() <span class="keyword">const</span>;
<a name="l00189"></a>00189   vnl_vector_fixed&lt;T,3&gt; <a class="code" href="classvgl__h__matrix__3d.html#ad62907b2e57327bc8b5a980d186d236e">get_translation_vector</a>() <span class="keyword">const</span>;
<a name="l00190"></a>00190 
<a name="l00191"></a>00191   <span class="comment">//: Load H from ASCII file.</span>
<a name="l00192"></a>00192   <span class="keywordtype">bool</span> <a class="code" href="classvgl__h__matrix__3d.html#a56d8be2ef1467df1715172fbf85e0f36" title="Load H from ASCII file.">read</a>(vcl_istream&amp; s);
<a name="l00193"></a>00193   <span class="comment">//: Read H from file</span>
<a name="l00194"></a>00194   <span class="keywordtype">bool</span> <a class="code" href="classvgl__h__matrix__3d.html#a56d8be2ef1467df1715172fbf85e0f36" title="Load H from ASCII file.">read</a>(<span class="keywordtype">char</span> <span class="keyword">const</span>* filename);
<a name="l00195"></a>00195 };
<a name="l00196"></a>00196 
<a name="l00197"></a>00197 <span class="comment">//: Print H on vcl_ostream</span>
<a name="l00198"></a>00198 <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; vcl_ostream&amp; operator&lt;&lt;(vcl_ostream&amp; s, vgl_h_matrix_3d&lt;T&gt; <span class="keyword">const</span>&amp; H);
<a name="l00199"></a>00199 <span class="comment">//: Load H from ASCII file.</span>
<a name="l00200"></a><a class="code" href="vgl__h__matrix__3d_8h.html#ab41523ea8ee3b74522bd1bca50ad8e52">00200</a> <span class="keyword">template</span> &lt;<span class="keyword">class</span> T&gt; vcl_istream&amp; <a class="code" href="classvgl__box__3d.html#a6554d474542c5ddc9c1887b487021818" title="Read box from stream.">operator&gt;&gt;</a>(vcl_istream&amp; s, <a class="code" href="classvgl__h__matrix__3d.html" title="A class to hold a 3-d projective transformation matrix and to perform common operations using it e...">vgl_h_matrix_3d&lt;T&gt;</a>&amp;       H)
<a name="l00201"></a>00201 { H.<a class="code" href="classvgl__h__matrix__3d.html#a56d8be2ef1467df1715172fbf85e0f36" title="Load H from ASCII file.">read</a>(s); <span class="keywordflow">return</span> s; }
<a name="l00202"></a>00202 
<a name="l00203"></a><a class="code" href="vgl__h__matrix__3d_8h.html#ae80013b66804246b6ee4800f168acf42">00203</a> <span class="preprocessor">#define VGL_H_MATRIX_3D_INSTANTIATE(T) extern &quot;please include vgl/algo/vgl_h_matrix_3d.txx first&quot;</span>
<a name="l00204"></a>00204 <span class="preprocessor"></span>
<a name="l00205"></a>00205 <span class="preprocessor">#endif // vgl_h_matrix_3d_h_</span>
</pre></div></div>
</div>


<hr class="footer"/><address class="footer"><small>
Generated on Wed May 1 2013 17:31:23 for core/vgl by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
