<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <title>core/vgl/algo/vgl_conic_2d_regression.h File Reference</title>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="tabs.css" rel="stylesheet" type="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Defines</a>  </div>
  <div class="headertitle">
<div class="title">core/vgl/algo/vgl_conic_2d_regression.h File Reference</div>  </div>
</div>
<div class="contents">

<p>Fits a conic to a set of points using linear regression.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;vcl_vector.h&gt;</code><br/>
<code>#include &lt;vcl_iostream.h&gt;</code><br/>
<code>#include &lt;vnl/vnl_matrix_fixed.h&gt;</code><br/>
<code>#include &lt;<a class="el" href="vgl__point__2d_8h_source.html">vgl/vgl_point_2d.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="vgl__homg__point__2d_8h_source.html">vgl/vgl_homg_point_2d.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="vgl__conic_8h_source.html">vgl/vgl_conic.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="vgl__norm__trans__2d_8h_source.html">vgl/algo/vgl_norm_trans_2d.h</a>&gt;</code><br/>
</div>
<p><a href="vgl__conic__2d__regression_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classvgl__conic__2d__regression.html">vgl_conic_2d_regression&lt; T &gt;</a></td></tr>
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vgl__conic__2d__regression_8h.html#afa24536a14df0337af71237feecd7fa4">VGL_CONIC_2D_REGRESSION_INSTANTIATE</a>(T)&#160;&#160;&#160;extern &quot;please include vgl/algo/vgl_conic_2d_regression.txx first&quot;</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Fits a conic to a set of points using linear regression. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>J.L. Mundy </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>June 17, 2005</dd></dl>
<p>Since conic fitting is rather ill-conditioned it is necessary to normalize the point coordinates so that they have equal standard deviations with respect to the center (mean) of the pointset. The points are transformed to have zero mean. The resulting conic is transformed back to the original frame for computing the Sampson approximation to fitting error.</p>
<p>The regression uses the Bookstein algorithm which constrains the conic norm, <img class="formulaInl" alt="$ |ax^2 + bxy + cy^2 + dx + ey +f|^2 $" src="form_0.png"/>, so that <img class="formulaInl" alt="$ a^2 + 0.5*b^2 + c^2 = 2 $" src="form_1.png"/> With this normalization, the resulting fit is invariant up to a similarity transform of the pointset. The solution is formulated as an eigenvalue problem as follows:</p>
<p>The scatter matrix S is decomposed as</p>
<p>$ S = {array}{cc} S_{11} &amp; S_{12} \ S_{21} &amp; S_{22} {array}$ note <img class="formulaInl" alt="$S_{21} = S_{12}^t$" src="form_2.png"/></p>
<p>The conic coefficients are <img class="formulaInl" alt="$v_1 = \{a,b,c\}^t$" src="form_3.png"/> and <img class="formulaInl" alt="$v_2 = \{d,e,f\}^t$" src="form_4.png"/> The Bookstein constraint is expressed by the diagonal matrix D = Diag{1, 0.5, 1, 0, 0, 0} The Lagrangian to be minimized is $ L = v_1^t S_{11} v_1 + 2 v_2^t S_{21} v_1 + v_2^t S_{22} v_2</p>
<ul>
<li>(v_1^t D v_1 -2) $.</li>
</ul>
<p>Minimizing with respect to v2 gives <img class="formulaInl" alt="$ dL/dv_2 = 2 S_{21} v_1 + 2 S_{22} v_2 = 0 $" src="form_5.png"/></p>
<p>So, <img class="formulaInl" alt="$ v_2 = -S_{22}^-1 S_{21} v_1 $" src="form_6.png"/>.</p>
<p>Substituting for v2 in L,</p>
<p>$ L = v_1^t ( S_{11} - S_{12} * S_{22}^-1 * S_{21}) v_1 - (v_1^t D v_1 -2) = v_1^t ( (S_{11} - S_{12} * S_{22}^-1 * S_{21}) -  D ) v_1 - 2  $,</p>
<p><img class="formulaInl" alt="$ dL/dv_1 = ( (S_{11} - S_{12} * S_{22}^-1 * S_{21}) - \lambda D ) v_1 = 0 $" src="form_7.png"/>.</p>
<p>So, <img class="formulaInl" alt="$ \lambda v_1 = D^-1 (S_{11} - S_{12} * S_{22}^-1 * S_{21}) v_1 $" src="form_8.png"/>.</p>
<p>This eigenvalue problem is solved using singular value decomposition.</p>
<div class="fragment"><pre class="fragment">
    Modifications
     none
   </pre></div> 
<p>Definition in file <a class="el" href="vgl__conic__2d__regression_8h_source.html">vgl_conic_2d_regression.h</a>.</p>
</div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="afa24536a14df0337af71237feecd7fa4"></a><!-- doxytag: member="vgl_conic_2d_regression.h::VGL_CONIC_2D_REGRESSION_INSTANTIATE" ref="afa24536a14df0337af71237feecd7fa4" args="(T)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VGL_CONIC_2D_REGRESSION_INSTANTIATE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">T</td><td>)</td>
          <td>&#160;&#160;&#160;extern &quot;please include vgl/algo/vgl_conic_2d_regression.txx first&quot;</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vgl__conic__2d__regression_8h_source.html#l00149">149</a> of file <a class="el" href="vgl__conic__2d__regression_8h_source.html">vgl_conic_2d_regression.h</a>.</p>

</div>
</div>
</div>


<hr class="footer"/><address class="footer"><small>
Generated on Wed May 1 2013 17:31:24 for core/vgl by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
