<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <title>core/vil/algo/vil_suppress_non_max_edges.txx File Reference</title>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="tabs.css" rel="stylesheet" type="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#define-members">Defines</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">core/vil/algo/vil_suppress_non_max_edges.txx File Reference</div>  </div>
</div>
<div class="contents">

<p>Given gradient image, compute magnitude and zero any non-maximal values.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="vil__suppress__non__max__edges_8h_source.html">vil_suppress_non_max_edges.h</a>&quot;</code><br/>
<code>#include &lt;<a class="el" href="vil__bilin__interp_8h_source.html">vil/vil_bilin_interp.h</a>&gt;</code><br/>
<code>#include &lt;<a class="el" href="vil__fill_8h_source.html">vil/vil_fill.h</a>&gt;</code><br/>
<code>#include &lt;vcl_cmath.h&gt;</code><br/>
<code>#include &lt;vcl_cassert.h&gt;</code><br/>
</div>
<p><a href="vil__suppress__non__max__edges_8txx_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="define-members"></a>
Defines</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vil__suppress__non__max__edges_8txx.html#a3333f9ec53ee23c219baec3b9ebe9097">vil_suppress_non_max_edges_txx_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vil__suppress__non__max__edges_8txx.html#a291a0358164751d427d877964b6883f6">VIL_SUPPRESS_NON_MAX_EDGES_INSTANTIATE</a>(srcT, destT)</td></tr>
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class srcT , class destT &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="vil__suppress__non__max__edges_8txx.html#a02036763ef9ed122f647a37297218bab">vil_suppress_non_max_edges</a> (const <a class="el" href="classvil__image__view.html">vil_image_view</a>&lt; srcT &gt; &amp;grad_i, const <a class="el" href="classvil__image__view.html">vil_image_view</a>&lt; srcT &gt; &amp;grad_j, double grad_mag_threshold, <a class="el" href="classvil__image__view.html">vil_image_view</a>&lt; destT &gt; &amp;grad_mag)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Given gradient images, computes magnitude image containing maximal edges.  <a href="#a02036763ef9ed122f647a37297218bab"></a><br/></td></tr>
<tr><td class="memTemplParams" colspan="2">template&lt;class srcT , class destT &gt; </td></tr>
<tr><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="vil__suppress__non__max__edges_8txx.html#a93b79e442b4f38520194b22c8e30676f">vil_suppress_non_max_edges_subpixel</a> (const <a class="el" href="classvil__image__view.html">vil_image_view</a>&lt; srcT &gt; &amp;grad_i, const <a class="el" href="classvil__image__view.html">vil_image_view</a>&lt; srcT &gt; &amp;grad_j, double grad_mag_threshold, <a class="el" href="classvil__image__view.html">vil_image_view</a>&lt; destT &gt; &amp;grad_moo)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Given gradient images, computes a subpixel edgemap with magnitudes and orientations.  <a href="#a93b79e442b4f38520194b22c8e30676f"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Given gradient image, compute magnitude and zero any non-maximal values. </p>
<dl class="author"><dt><b>Author:</b></dt><dd>Tim Cootes </dd></dl>

<p>Definition in file <a class="el" href="vil__suppress__non__max__edges_8txx_source.html">vil_suppress_non_max_edges.txx</a>.</p>
</div><hr/><h2>Define Documentation</h2>
<a class="anchor" id="a291a0358164751d427d877964b6883f6"></a><!-- doxytag: member="vil_suppress_non_max_edges.txx::VIL_SUPPRESS_NON_MAX_EDGES_INSTANTIATE" ref="a291a0358164751d427d877964b6883f6" args="(srcT, destT)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VIL_SUPPRESS_NON_MAX_EDGES_INSTANTIATE</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">srcT, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">destT&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<b>Value:</b><div class="fragment"><pre class="fragment"><span class="keyword">template</span> <span class="keywordtype">void</span> <a class="code" href="classvil__image__view.html#a02036763ef9ed122f647a37297218bab" title="Given gradient images, computes magnitude image containing maximal edges.">vil_suppress_non_max_edges</a>(<span class="keyword">const</span> <a class="code" href="classvil__image__view.html" title="Concrete view of image data of type T held in memory.">vil_image_view&lt;srcT &gt;</a>&amp; grad_i,\
                                         <span class="keyword">const</span> <a class="code" href="classvil__image__view.html" title="Concrete view of image data of type T held in memory.">vil_image_view&lt;srcT &gt;</a>&amp; grad_j,\
                                         <span class="keywordtype">double</span> grad_mag_threshold,\
                                         <a class="code" href="classvil__image__view.html" title="Concrete view of image data of type T held in memory.">vil_image_view&lt;destT &gt;</a>&amp; grad_mag);\
template <span class="keywordtype">void</span> <a class="code" href="classvil__image__view.html#a3c948cc1ded709e8aa007976a81845b6" title="Given gradient images, computes a subpixel edgemap with magnitudes and orientations.">vil_suppress_non_max_edges_subpixel</a>(<span class="keyword">const</span> <a class="code" href="classvil__image__view.html" title="Concrete view of image data of type T held in memory.">vil_image_view&lt;srcT &gt;</a>&amp; grad_i,\
                                                  <span class="keyword">const</span> <a class="code" href="classvil__image__view.html" title="Concrete view of image data of type T held in memory.">vil_image_view&lt;srcT &gt;</a>&amp; grad_j,\
                                                  <span class="keywordtype">double</span> grad_mag_threshold,\
                                                  <a class="code" href="classvil__image__view.html" title="Concrete view of image data of type T held in memory.">vil_image_view&lt;destT &gt;</a>&amp; grad_moo)
</pre></div>
<p>Definition at line <a class="el" href="vil__suppress__non__max__edges_8txx_source.html#l00229">229</a> of file <a class="el" href="vil__suppress__non__max__edges_8txx_source.html">vil_suppress_non_max_edges.txx</a>.</p>

</div>
</div>
<a class="anchor" id="a3333f9ec53ee23c219baec3b9ebe9097"></a><!-- doxytag: member="vil_suppress_non_max_edges.txx::vil_suppress_non_max_edges_txx_" ref="a3333f9ec53ee23c219baec3b9ebe9097" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define vil_suppress_non_max_edges_txx_</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="vil__suppress__non__max__edges_8txx_source.html#l00003">3</a> of file <a class="el" href="vil__suppress__non__max__edges_8txx_source.html">vil_suppress_non_max_edges.txx</a>.</p>

</div>
</div>
<hr/><h2>Function Documentation</h2>
<a class="anchor" id="a02036763ef9ed122f647a37297218bab"></a><!-- doxytag: member="vil_suppress_non_max_edges.txx::vil_suppress_non_max_edges" ref="a02036763ef9ed122f647a37297218bab" args="(const vil_image_view&lt; srcT &gt; &amp;grad_i, const vil_image_view&lt; srcT &gt; &amp;grad_j, double grad_mag_threshold, vil_image_view&lt; destT &gt; &amp;grad_mag)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class srcT , class destT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void vil_suppress_non_max_edges </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classvil__image__view.html">vil_image_view</a>&lt; srcT &gt; &amp;&#160;</td>
          <td class="paramname"><em>grad_i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classvil__image__view.html">vil_image_view</a>&lt; srcT &gt; &amp;&#160;</td>
          <td class="paramname"><em>grad_j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>grad_mag_threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classvil__image__view.html">vil_image_view</a>&lt; destT &gt; &amp;&#160;</td>
          <td class="paramname"><em>grad_mag</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Given gradient images, computes magnitude image containing maximal edges. </p>
<p>Computes magnitude image. Zeros any below a threshold. Points with magnitude above a threshold are tested against gradient along normal to the edge and retained only if they are higher than their neighbours.</p>
<p>Note: Currently assumes single plane only. 2 pixel border around output set to zero </p>

<p>Definition at line <a class="el" href="vil__suppress__non__max__edges_8txx_source.html#l00024">24</a> of file <a class="el" href="vil__suppress__non__max__edges_8txx_source.html">vil_suppress_non_max_edges.txx</a>.</p>

</div>
</div>
<a class="anchor" id="a93b79e442b4f38520194b22c8e30676f"></a><!-- doxytag: member="vil_suppress_non_max_edges.txx::vil_suppress_non_max_edges_subpixel" ref="a93b79e442b4f38520194b22c8e30676f" args="(const vil_image_view&lt; srcT &gt; &amp;grad_i, const vil_image_view&lt; srcT &gt; &amp;grad_j, double grad_mag_threshold, vil_image_view&lt; destT &gt; &amp;grad_moo)" -->
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class srcT , class destT &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void vil_suppress_non_max_edges_subpixel </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classvil__image__view.html">vil_image_view</a>&lt; srcT &gt; &amp;&#160;</td>
          <td class="paramname"><em>grad_i</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classvil__image__view.html">vil_image_view</a>&lt; srcT &gt; &amp;&#160;</td>
          <td class="paramname"><em>grad_j</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>grad_mag_threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classvil__image__view.html">vil_image_view</a>&lt; destT &gt; &amp;&#160;</td>
          <td class="paramname"><em>grad_moo</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Given gradient images, computes a subpixel edgemap with magnitudes and orientations. </p>
<p>Computes magnitude image. Zeros any below a threshold. Points with magnitude above a threshold are tested against gradient along normal to the edge and retained only if they are higher than their neighbours. The magnitude of retained points is revised using parabolic interpolation in the normal direction. The same interpolation provides a subpixel offset from the integral pixel location.</p>
<p>This algorithm returns a 3-plane image where the planes are:</p>
<ul>
<li>0 - The interpolated peak magnitude</li>
<li>1 - The orientation (in radians)</li>
<li>2 - The offset to the subpixel peak in the gradient direction All non-maximal edge pixel have the value zero in all three planes. <dl class="see"><dt><b>See also:</b></dt><dd><a class="el" href="classvil__image__view.html#a58e1419a9514b18265100bc1db0b762d" title="Compute discrete orientation and gradient magnitude at edge pixels.">vil_orientations_at_edges</a></dd></dl>
The subpixel location for pixel (i,j) is computed as <div class="fragment"><pre class="fragment">    <span class="keywordtype">double</span> theta = grad_mag_orient_offset(i,j,1);
    <span class="keywordtype">double</span> offset = grad_mag_orient_offset(i,j,2);
    <span class="keywordtype">double</span> x = i + vcl_cos(theta)*offset;
    <span class="keywordtype">double</span> y = j + vcl_sin(theta)*offset;
</pre></div></li>
</ul>
<p>Note: Currently assumes single plane only. 2 pixel border around output set to zero. If two neighbouring edges have exactly the same strength, it retains both (ie an edge is eliminated if it is strictly lower than a neighbour, but not if it is the same as two neighbours). </p>

<p>Definition at line <a class="el" href="vil__suppress__non__max__edges_8txx_source.html#l00139">139</a> of file <a class="el" href="vil__suppress__non__max__edges_8txx_source.html">vil_suppress_non_max_edges.txx</a>.</p>

</div>
</div>
</div>


<hr class="footer"/><address class="footer"><small>
Generated on Wed May 1 2013 17:31:49 for core/vil by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
