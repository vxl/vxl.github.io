<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <title>gevd_step Class Reference</title>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="tabs.css" rel="stylesheet" type="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">gevd_step Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="gevd_step" -->
<p><code>#include &lt;<a class="el" href="gevd__step_8h_source.html">gevd_step.h</a>&gt;</code></p>

<p><a href="classgevd__step-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgevd__step.html#aa29f1a9ec616eb8cc43991985f871556">gevd_step</a> (float smooth_sigma=1, float noise_sigma=-0.5, float contour_factor=1.0, float junction_factor=1.5)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">threshold factor for junction edgels  <a href="#aa29f1a9ec616eb8cc43991985f871556"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgevd__step.html#a59d551713bc25f189af87e446b2016cd">~gevd_step</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Free space allocated for detecting step profiles. Does nothing.  <a href="#a59d551713bc25f189af87e446b2016cd"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgevd__step.html#ac5fb9961448408eb5c06b9f124589c3d">DetectEdgels</a> (const <a class="el" href="classgevd__bufferxy.html">gevd_bufferxy</a> &amp;image, <a class="el" href="classgevd__bufferxy.html">gevd_bufferxy</a> *&amp;edgels, <a class="el" href="classgevd__bufferxy.html">gevd_bufferxy</a> *&amp;direction, <a class="el" href="classgevd__bufferxy.html">gevd_bufferxy</a> *&amp;locationx, <a class="el" href="classgevd__bufferxy.html">gevd_bufferxy</a> *&amp;locationy, <a class="el" href="classgevd__bufferxy.html">gevd_bufferxy</a> *&amp;grad_mag, <a class="el" href="classgevd__bufferxy.html">gevd_bufferxy</a> *&amp;<a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/vnl__vector__fixed__ref_8h.html#a0a73c08cb73355598c69dfa10add389a">angle</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Gradient orientation.  <a href="#ac5fb9961448408eb5c06b9f124589c3d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgevd__step.html#aef16af297ce05f6c20f2efbaba766876">RecoverJunctions</a> (const <a class="el" href="classgevd__bufferxy.html">gevd_bufferxy</a> &amp;image, <a class="el" href="classgevd__bufferxy.html">gevd_bufferxy</a> &amp;edgels, <a class="el" href="classgevd__bufferxy.html">gevd_bufferxy</a> &amp;direction, <a class="el" href="classgevd__bufferxy.html">gevd_bufferxy</a> &amp;locationx, <a class="el" href="classgevd__bufferxy.html">gevd_bufferxy</a> &amp;locationy, int *&amp;junctionx, int *&amp;junctiony)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Find junctions by searching for extensions of contours from their dangling end points.  <a href="#aef16af297ce05f6c20f2efbaba766876"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgevd__step.html#a85eacc42e6b97a1a69a65643f58d1fa6">NoiseSigma</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">query stored/estimated noise sigma  <a href="#a85eacc42e6b97a1a69a65643f58d1fa6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgevd__step.html#a1a144f8207e9a474357b53b046d73145">NoiseResponse</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">response of noise sigma to filter ddG  <a href="#a1a144f8207e9a474357b53b046d73145"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgevd__step.html#a9bb4ada822d88ddaec207bf5c2a6fd7a">NoiseThreshold</a> (bool shortp=false) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">elongated/directional?  <a href="#a9bb4ada822d88ddaec207bf5c2a6fd7a"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgevd__step.html#acde52ac19f2410d137e3bda589e9f44a">NoiseResponseToFilter</a> (const float <a class="el" href="classgevd__step.html#a414f38cecc1ccffa67de250fb2ebda33">noiseSigma</a>, const float <a class="el" href="classgevd__step.html#a9460e5c95d65054e23ff8cf1886d3d09">smoothSigma</a>, const float <a class="el" href="classgevd__step.html#a5d3f551de0180a11b6c6d520f477d310">filterFactor</a>)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Compute response of white noise through the filter dG, or first-derivative of the Gaussian.  <a href="#acde52ac19f2410d137e3bda589e9f44a"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgevd__step.html#a9460e5c95d65054e23ff8cf1886d3d09">smoothSigma</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">spatial smoothing  <a href="#a9460e5c95d65054e23ff8cf1886d3d09"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgevd__step.html#a414f38cecc1ccffa67de250fb2ebda33">noiseSigma</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">sensor/texture noise  <a href="#a414f38cecc1ccffa67de250fb2ebda33"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgevd__step.html#a654ea1fe7a30a6e64b53e09137197c25">contourFactor</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgevd__step.html#a7f2664ac6d3865b14b2060e77df2a099">junctionFactor</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">threshold factor for edgels  <a href="#a7f2664ac6d3865b14b2060e77df2a099"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgevd__step.html#a5d3f551de0180a11b6c6d520f477d310">filterFactor</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">factor in convolution filter  <a href="#a5d3f551de0180a11b6c6d520f477d310"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="friends"></a>
Friends</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vcl_ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgevd__step.html#aa74bf4b8bb7ede4c21592c1249bccbe5">operator&lt;&lt;</a> (vcl_ostream &amp;os, const <a class="el" href="classgevd__step.html">gevd_step</a> &amp;st)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Output a snapshot of current control parameters.  <a href="#aa74bf4b8bb7ede4c21592c1249bccbe5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vcl_ostream &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classgevd__step.html#a4953957ebbd38f98e2b90f3726f74ab1">operator&lt;&lt;</a> (vcl_ostream &amp;os, <a class="el" href="classgevd__step.html">gevd_step</a> &amp;st)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Output a snapshot of current control parameters.  <a href="#a4953957ebbd38f98e2b90f3726f74ab1"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="gevd__step_8h_source.html#l00063">63</a> of file <a class="el" href="gevd__step_8h_source.html">gevd_step.h</a>.</p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa29f1a9ec616eb8cc43991985f871556"></a><!-- doxytag: member="gevd_step::gevd_step" ref="aa29f1a9ec616eb8cc43991985f871556" args="(float smooth_sigma=1, float noise_sigma=&#45;0.5, float contour_factor=1.0, float junction_factor=1.5)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gevd_step::gevd_step </td>
          <td>(</td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>smooth_sigma</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>noise_sigma</em> = <code>-0.5</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>contour_factor</em> = <code>1.0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float&#160;</td>
          <td class="paramname"><em>junction_factor</em> = <code>1.5</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>threshold factor for junction edgels </p>
<p>Save parameters and create workspace for detecting step profiles.</p>
<p>High frequency features are smoothed away by smooth_sigma. Texture or white noise less than noise_sigma are not detected. smooth_sigma = 0.5-2.0, 1.0 insures separation of independent steps &gt;= 2.</p>
<p>If noise_sigma &gt; 0, noise_sigma = is interpreted as the standard deviation of intensity z(x,y) in a uniform region. If -1 &lt;= noise_sigma &lt;= 0, then noise_sigma is interpreted as a factor -k, where k is a weighting factor between two estimates: sensorNoise and textureNoise.</p>
<p>noiseSigma = ((1-k)*sensorNoise + k*textureNoise)/K</p>
<p>The values of sensorNoise and textureNoise are computed from the shape of the histogram of gradient magnitude values, in the neighborhood of low gradients. The value of K is computed in NoiseResponseToFilter and defined by:</p>
<p>1/(smoothSigma^1.5)*(.5/M_PI^.25)*filterFactor.</p>
<p>Given the defaults: smoothSigma =1 and filterFactor = 2, K = .75</p>
<p>The threshold used to delete weak edges is modified depending on the context. For edgels along a contour, shortp = false, and the threshold is given by:</p>
<p>NoiseThreshold(shortp) = 3*K*noiseSigma</p>
<p>For edgels at junctions, shortp = true, the threshold is computed using different factors. The difference is controlled by the parameters: contour_factor and junction_factor. smoothSigma when extending the boundary at junctions is 1/2 the value along contours. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">smooth_sigma</td><td>spatial smoothing [0.5 2.0] </td></tr>
    <tr><td class="paramname">noise_sigma</td><td>sensor/texture intensity noise -[0 1] </td></tr>
    <tr><td class="paramname">contour_factor</td><td>threshold factor for contour edgels </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="gevd__step_8cxx_source.html#l00079">79</a> of file <a class="el" href="gevd__step_8cxx_source.html">gevd_step.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="a59d551713bc25f189af87e446b2016cd"></a><!-- doxytag: member="gevd_step::~gevd_step" ref="a59d551713bc25f189af87e446b2016cd" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gevd_step::~gevd_step </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Free space allocated for detecting step profiles. Does nothing. </p>

<p>Definition at line <a class="el" href="gevd__step_8cxx_source.html#l00103">103</a> of file <a class="el" href="gevd__step_8cxx_source.html">gevd_step.cxx</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ac5fb9961448408eb5c06b9f124589c3d"></a><!-- doxytag: member="gevd_step::DetectEdgels" ref="ac5fb9961448408eb5c06b9f124589c3d" args="(const gevd_bufferxy &amp;image, gevd_bufferxy *&amp;edgels, gevd_bufferxy *&amp;direction, gevd_bufferxy *&amp;locationx, gevd_bufferxy *&amp;locationy, gevd_bufferxy *&amp;grad_mag, gevd_bufferxy *&amp;angle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool gevd_step::DetectEdgels </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgevd__bufferxy.html">gevd_bufferxy</a> &amp;&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgevd__bufferxy.html">gevd_bufferxy</a> *&amp;&#160;</td>
          <td class="paramname"><em>contour</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgevd__bufferxy.html">gevd_bufferxy</a> *&amp;&#160;</td>
          <td class="paramname"><em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgevd__bufferxy.html">gevd_bufferxy</a> *&amp;&#160;</td>
          <td class="paramname"><em>locationx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgevd__bufferxy.html">gevd_bufferxy</a> *&amp;&#160;</td>
          <td class="paramname"><em>locationy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgevd__bufferxy.html">gevd_bufferxy</a> *&amp;&#160;</td>
          <td class="paramname"><em>grad_mag</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgevd__bufferxy.html">gevd_bufferxy</a> *&amp;&#160;</td>
          <td class="paramname"><em>angle</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Gradient orientation. </p>
<p>Detect step profiles with Canny edge detector.</p>
<p>The image is convolved with a Gaussian to smooth away high frequency noise, and insure separation of step responses. Then local gradient magnitude and direction is detected using first difference [-1 0 +1]. Optionally estimate sensor/texture sigma and set threshold. Finally, non maximum suppression is done to find strict local maxima of slope. The Canny edge detector finds elongated contours only. These contours are typically broken at junctions because non maximum suppression is done along only the strongest direction. Return contour (float), direction (byte), location (float) images. Return true if no exception. J. Canny, A Computational Approach to Edge Detection, IEEE Trans on PAMI, vol 8, no 6, Nov 1986. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td>float image </td></tr>
    <tr><td class="paramname">contour</td><td>strength = dG * I </td></tr>
    <tr><td class="paramname">direction</td><td>direction % PI/4 </td></tr>
    <tr><td class="paramname">locationx</td><td>subpixel loc </td></tr>
    <tr><td class="paramname">grad_mag</td><td>Gradient magnitude </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="gevd__step_8cxx_source.html#l00121">121</a> of file <a class="el" href="gevd__step_8cxx_source.html">gevd_step.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="a1a144f8207e9a474357b53b046d73145"></a><!-- doxytag: member="gevd_step::NoiseResponse" ref="a1a144f8207e9a474357b53b046d73145" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float gevd_step::NoiseResponse </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>response of noise sigma to filter ddG </p>
<p>Compute response of white noise through the filter dG, or second-derivative of the Gaussian.</p>
<p>Using a threshold of 3 times this noise response would eliminate 99% of the noise edges. </p>

<p>Definition at line <a class="el" href="gevd__step_8cxx_source.html#l00487">487</a> of file <a class="el" href="gevd__step_8cxx_source.html">gevd_step.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="acde52ac19f2410d137e3bda589e9f44a"></a><!-- doxytag: member="gevd_step::NoiseResponseToFilter" ref="acde52ac19f2410d137e3bda589e9f44a" args="(const float noiseSigma, const float smoothSigma, const float filterFactor)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float gevd_step::NoiseResponseToFilter </td>
          <td>(</td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>noiseSigma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>smoothSigma</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const float&#160;</td>
          <td class="paramname"><em>filterFactor</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [static]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Compute response of white noise through the filter dG, or first-derivative of the Gaussian. </p>
<p>Using a threshold of 3 times this noise response would eliminate 99% of the noise edges. </p>

<p>Definition at line <a class="el" href="gevd__step_8cxx_source.html#l00518">518</a> of file <a class="el" href="gevd__step_8cxx_source.html">gevd_step.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="a85eacc42e6b97a1a69a65643f58d1fa6"></a><!-- doxytag: member="gevd_step::NoiseSigma" ref="a85eacc42e6b97a1a69a65643f58d1fa6" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float gevd_step::NoiseSigma </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>query stored/estimated noise sigma </p>
<p>Return the standard deviation of raw noise, in the original image, either estimated or given by the user.</p>
<p>If the noise has not been estimated, return 0. </p>

<p>Definition at line <a class="el" href="gevd__step_8cxx_source.html#l00476">476</a> of file <a class="el" href="gevd__step_8cxx_source.html">gevd_step.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="a9bb4ada822d88ddaec207bf5c2a6fd7a"></a><!-- doxytag: member="gevd_step::NoiseThreshold" ref="a9bb4ada822d88ddaec207bf5c2a6fd7a" args="(bool shortp=false) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float gevd_step::NoiseThreshold </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>shortp</em> = <code>false</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>elongated/directional? </p>
<p>Return threshold for detecting contour or junction, which is response of white gaussian noise, noise_sigma, to step edge detector, i.e.</p>
<p>first-order derivative of Gaussian, smooth_sigma. noise_sigma can be estimated by finding the standard deviation in a region of constant intensity, and no texture patterns. Use short_factor*noise_sigma and smooth_sigma/2, when detecting junctions, to account for multiple responses to step edge detector. </p>

<p>Definition at line <a class="el" href="gevd__step_8cxx_source.html#l00504">504</a> of file <a class="el" href="gevd__step_8cxx_source.html">gevd_step.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="aef16af297ce05f6c20f2efbaba766876"></a><!-- doxytag: member="gevd_step::RecoverJunctions" ref="aef16af297ce05f6c20f2efbaba766876" args="(const gevd_bufferxy &amp;image, gevd_bufferxy &amp;edgels, gevd_bufferxy &amp;direction, gevd_bufferxy &amp;locationx, gevd_bufferxy &amp;locationy, int *&amp;junctionx, int *&amp;junctiony)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int gevd_step::RecoverJunctions </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classgevd__bufferxy.html">gevd_bufferxy</a> &amp;&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgevd__bufferxy.html">gevd_bufferxy</a> &amp;&#160;</td>
          <td class="paramname"><em>contour</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgevd__bufferxy.html">gevd_bufferxy</a> &amp;&#160;</td>
          <td class="paramname"><em>direction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgevd__bufferxy.html">gevd_bufferxy</a> &amp;&#160;</td>
          <td class="paramname"><em>locationx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgevd__bufferxy.html">gevd_bufferxy</a> &amp;&#160;</td>
          <td class="paramname"><em>locationy</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&amp;&#160;</td>
          <td class="paramname"><em>junctionx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&amp;&#160;</td>
          <td class="paramname"><em>junctiony</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find junctions by searching for extensions of contours from their dangling end points. </p>
<p>Non maximum suppression insures that contours have width &lt; 2, and so we can find the left/right neighbors, and deduce end points. By using a minimally smoothed image, we find step profiles up to joining with a stronger contour, thus recovering the missing junction caused by NMS along only 1 direction. The junctions are returned but are not set in the contour image, to prevent incorrect tracing of stronger contours first. The search is extended outward for a distance of kmax which is currently 4*smoothSigma + 2. </p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">image</td><td>iterative extension </td></tr>
    <tr><td class="paramname">contour</td><td>from end points of contours </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="gevd__step_8cxx_source.html#l00355">355</a> of file <a class="el" href="gevd__step_8cxx_source.html">gevd_step.cxx</a>.</p>

</div>
</div>
<hr/><h2>Friends And Related Function Documentation</h2>
<a class="anchor" id="aa74bf4b8bb7ede4c21592c1249bccbe5"></a><!-- doxytag: member="gevd_step::operator&lt;&lt;" ref="aa74bf4b8bb7ede4c21592c1249bccbe5" args="(vcl_ostream &amp;os, const gevd_step &amp;st)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vcl_ostream&amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">vcl_ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classgevd__step.html">gevd_step</a> &amp;&#160;</td>
          <td class="paramname"><em>st</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Output a snapshot of current control parameters. </p>

<p>Definition at line <a class="el" href="gevd__step_8cxx_source.html#l00530">530</a> of file <a class="el" href="gevd__step_8cxx_source.html">gevd_step.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="a4953957ebbd38f98e2b90f3726f74ab1"></a><!-- doxytag: member="gevd_step::operator&lt;&lt;" ref="a4953957ebbd38f98e2b90f3726f74ab1" args="(vcl_ostream &amp;os, gevd_step &amp;st)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vcl_ostream&amp; operator&lt;&lt; </td>
          <td>(</td>
          <td class="paramtype">vcl_ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classgevd__step.html">gevd_step</a> &amp;&#160;</td>
          <td class="paramname"><em>st</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [friend]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Output a snapshot of current control parameters. </p>

<p>Definition at line <a class="el" href="gevd__step_8cxx_source.html#l00543">543</a> of file <a class="el" href="gevd__step_8cxx_source.html">gevd_step.cxx</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a654ea1fe7a30a6e64b53e09137197c25"></a><!-- doxytag: member="gevd_step::contourFactor" ref="a654ea1fe7a30a6e64b53e09137197c25" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="classgevd__step.html#a654ea1fe7a30a6e64b53e09137197c25">gevd_step::contourFactor</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="gevd__step_8h_source.html#l00099">99</a> of file <a class="el" href="gevd__step_8h_source.html">gevd_step.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5d3f551de0180a11b6c6d520f477d310"></a><!-- doxytag: member="gevd_step::filterFactor" ref="a5d3f551de0180a11b6c6d520f477d310" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="classgevd__step.html#a5d3f551de0180a11b6c6d520f477d310">gevd_step::filterFactor</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>factor in convolution filter </p>

<p>Definition at line <a class="el" href="gevd__step_8h_source.html#l00100">100</a> of file <a class="el" href="gevd__step_8h_source.html">gevd_step.h</a>.</p>

</div>
</div>
<a class="anchor" id="a7f2664ac6d3865b14b2060e77df2a099"></a><!-- doxytag: member="gevd_step::junctionFactor" ref="a7f2664ac6d3865b14b2060e77df2a099" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="classgevd__step.html#a7f2664ac6d3865b14b2060e77df2a099">gevd_step::junctionFactor</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>threshold factor for edgels </p>

<p>Definition at line <a class="el" href="gevd__step_8h_source.html#l00099">99</a> of file <a class="el" href="gevd__step_8h_source.html">gevd_step.h</a>.</p>

</div>
</div>
<a class="anchor" id="a414f38cecc1ccffa67de250fb2ebda33"></a><!-- doxytag: member="gevd_step::noiseSigma" ref="a414f38cecc1ccffa67de250fb2ebda33" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="classgevd__step.html#a414f38cecc1ccffa67de250fb2ebda33">gevd_step::noiseSigma</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>sensor/texture noise </p>

<p>Definition at line <a class="el" href="gevd__step_8h_source.html#l00098">98</a> of file <a class="el" href="gevd__step_8h_source.html">gevd_step.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9460e5c95d65054e23ff8cf1886d3d09"></a><!-- doxytag: member="gevd_step::smoothSigma" ref="a9460e5c95d65054e23ff8cf1886d3d09" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float <a class="el" href="classgevd__step.html#a9460e5c95d65054e23ff8cf1886d3d09">gevd_step::smoothSigma</a><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>spatial smoothing </p>

<p>Definition at line <a class="el" href="gevd__step_8h_source.html#l00097">97</a> of file <a class="el" href="gevd__step_8h_source.html">gevd_step.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>contrib/gel/gevd/<a class="el" href="gevd__step_8h_source.html">gevd_step.h</a></li>
<li>contrib/gel/gevd/<a class="el" href="gevd__step_8cxx_source.html">gevd_step.cxx</a></li>
</ul>
</div>


<hr class="footer"/><address class="footer"><small>
Generated on Wed May 1 2013 17:37:55 for contrib/gel/gevd by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
