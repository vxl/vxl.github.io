<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <title>contrib/gel/gevd/gevd_edgel_regions.h Source File</title>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="tabs.css" rel="stylesheet" type="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">contrib/gel/gevd/gevd_edgel_regions.h</div>  </div>
</div>
<div class="contents">
<a href="gevd__edgel__regions_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// This is gel/gevd/gevd_edgel_regions.h</span>
<a name="l00002"></a>00002 <span class="preprocessor">#ifndef gevd_edgel_regions_h_</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span><span class="preprocessor">#define gevd_edgel_regions_h_</span>
<a name="l00004"></a>00004 <span class="preprocessor"></span><span class="comment">//:</span>
<a name="l00005"></a>00005 <span class="comment">// \file</span>
<a name="l00006"></a>00006 <span class="comment">// \brief generation of regions bounded by gevd_edgel chains</span>
<a name="l00007"></a>00007 <span class="comment">// \verbatim</span>
<a name="l00008"></a>00008 <span class="comment">//     Inputs:  Image, EdgelGroup</span>
<a name="l00009"></a>00009 <span class="comment">//     Output: CoolListP&lt;IntensityFace*&gt;</span>
<a name="l00010"></a>00010 <span class="comment">// \endverbatim</span>
<a name="l00011"></a>00011 <span class="comment">//  The idea is to generate regions by inserting boundaries into an</span>
<a name="l00012"></a>00012 <span class="comment">//  array.  The boundaries are defined by a set of edgel chains and</span>
<a name="l00013"></a>00013 <span class="comment">//  a boundary location is inserted at each edgel.  The array is</span>
<a name="l00014"></a>00014 <span class="comment">//  assumed to have a boundary at the perimeter of the ROI.</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">//  The array is scanned with a 2x2 neighborhood to form connected</span>
<a name="l00017"></a>00017 <span class="comment">//  components in the usual way. Each of the connected component labels are</span>
<a name="l00018"></a>00018 <span class="comment">//  reduced to the lowest equivalent label id by a transitive closure</span>
<a name="l00019"></a>00019 <span class="comment">//  on the equivalence table.</span>
<a name="l00020"></a>00020 <span class="comment">//</span>
<a name="l00021"></a>00021 <span class="comment">// A second scan of the label array is made to determine adjacency to</span>
<a name="l00022"></a>00022 <span class="comment">//  a given edge.  This process is enabled by a companion class,</span>
<a name="l00023"></a>00023 <span class="comment">//  the gevd_region_edge which has storage for two labels, corresponding to</span>
<a name="l00024"></a>00024 <span class="comment">//  each side of the edge.</span>
<a name="l00025"></a>00025 <span class="comment">//</span>
<a name="l00026"></a>00026 <span class="comment">//  The region edges are then used to collect the input edges which are</span>
<a name="l00027"></a>00027 <span class="comment">//  adjacent to a given region.  The set of edges adjacent to a region</span>
<a name="l00028"></a>00028 <span class="comment">//  are used to construct a multiply-connected sub-class of Face, the</span>
<a name="l00029"></a>00029 <span class="comment">//  IntensityFace.  The IntensityFace maintains a scatter matrix of</span>
<a name="l00030"></a>00030 <span class="comment">//  a planar fit to the intensity distribution over the corresponding</span>
<a name="l00031"></a>00031 <span class="comment">//  region.</span>
<a name="l00032"></a>00032 <span class="comment">//</span>
<a name="l00033"></a>00033 <span class="comment">// \author Author J. L. Mundy - January 14, 1999</span>
<a name="l00034"></a>00034 <span class="comment">// \verbatim</span>
<a name="l00035"></a>00035 <span class="comment">// Modifications</span>
<a name="l00036"></a>00036 <span class="comment">//  25 April 2000 - collinsr@cs.rpi.edu - switched region_edges_</span>
<a name="l00037"></a>00037 <span class="comment">//                  to key on the Id() rather than the pointer value</span>
<a name="l00038"></a>00038 <span class="comment">//                  to avoid different hash tables (and different</span>
<a name="l00039"></a>00039 <span class="comment">//                  segmentations) for identical inputs (leaving the</span>
<a name="l00040"></a>00040 <span class="comment">//                  question of why the hash table order matters for</span>
<a name="l00041"></a>00041 <span class="comment">//                  another day)</span>
<a name="l00042"></a>00042 <span class="comment">// 24 April 2002 - Peter Vanroose - replaced GetLeftLabel and GetRightLabel</span>
<a name="l00043"></a>00043 <span class="comment">//                  by GetLabel, in accordance with gevd_region_edge change</span>
<a name="l00044"></a>00044 <span class="comment">// \endverbatim</span>
<a name="l00045"></a>00045 <span class="comment">//</span>
<a name="l00046"></a>00046 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00047"></a>00047 <span class="preprocessor">#include &lt;vcl_vector.h&gt;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &lt;vcl_map.h&gt;</span>
<a name="l00049"></a>00049 
<a name="l00050"></a>00050 <span class="preprocessor">#include &lt;<a class="codeRef" doxygen="contrib_gel_vtol.tag:../../../../contrib/gel/vtol/html" href="../../../../contrib/gel/vtol/html/vtol__vertex__sptr_8h.html">vtol/vtol_vertex_sptr.h</a>&gt;</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include &lt;<a class="codeRef" doxygen="contrib_gel_vtol.tag:../../../../contrib/gel/vtol/html" href="../../../../contrib/gel/vtol/html/vtol__edge__2d__sptr_8h.html">vtol/vtol_edge_2d_sptr.h</a>&gt;</span>
<a name="l00052"></a>00052 <span class="preprocessor">#include &lt;<a class="code" href="gevd__region__edge_8h.html" title="An edge with extract information to support constructing regions from an edgel segmentation.">gevd/gevd_region_edge.h</a>&gt;</span>
<a name="l00053"></a>00053 <span class="preprocessor">#include &lt;<a class="code" href="gevd__bufferxy_8h.html" title="This object is a block of memory which may be accessed by an (x,y) coordinate.">gevd/gevd_bufferxy.h</a>&gt;</span>
<a name="l00054"></a>00054 <span class="preprocessor">#include &lt;<a class="codeRef" doxygen="contrib_gel_vtol.tag:../../../../contrib/gel/vtol/html" href="../../../../contrib/gel/vtol/html/vtol__intensity__face__sptr_8h.html">vtol/vtol_intensity_face_sptr.h</a>&gt;</span>
<a name="l00055"></a>00055 <span class="preprocessor">#include &lt;vil1/vil1_image.h&gt;</span>
<a name="l00056"></a>00056 
<a name="l00057"></a><a class="code" href="classgevd__edgel__regions.html">00057</a> 
<a name="l00058"></a>00058 <span class="keyword">class </span><a class="code" href="classgevd__edgel__regions.html">gevd_edgel_regions</a>
<a name="l00059"></a>00059 {
<a name="l00060"></a><a class="code" href="classgevd__edgel__regions.html#a4783af377f2e59eea255ca6f16538135a8e819d4f3d9da7fe4bb125f70752d12f">00060</a>  <span class="keyword">public</span>:
<a name="l00061"></a>00061   <span class="keyword">enum</span> <a class="code" href="classgevd__edgel__regions.html#a4783af377f2e59eea255ca6f16538135">RegionLabel</a> {<a class="code" href="classgevd__edgel__regions.html#a4783af377f2e59eea255ca6f16538135a8e819d4f3d9da7fe4bb125f70752d12f">UNLABELED</a>=0, <a class="code" href="classgevd__edgel__regions.html#a4783af377f2e59eea255ca6f16538135aa4930efb0b7044c49a5e6474bd419ba9">EDGE</a>, <a class="code" href="classgevd__edgel__regions.html#a4783af377f2e59eea255ca6f16538135aeb0ffa65846ca4d94dac1da1d397df3f">LABEL</a>};
<a name="l00062"></a>00062   <span class="comment">//Constructors/Destructors</span>
<a name="l00063"></a>00063   <a class="code" href="classgevd__edgel__regions.html#a44c3f2340ad26472181af9ede00e0cb2" title="Default constructor.">gevd_edgel_regions</a>(<span class="keywordtype">bool</span> debug = <span class="keyword">false</span>);
<a name="l00064"></a>00064   <a class="code" href="classgevd__edgel__regions.html#ac33b3482c5cf92370005ff77a1de135a" title="Default destructor.">~gevd_edgel_regions</a>();
<a name="l00065"></a>00065   <span class="comment">//Main process method</span>
<a name="l00066"></a>00066   <span class="keywordtype">bool</span> <a class="code" href="classgevd__edgel__regions.html#a185d392051a3b425c237908816299067" title="The key process loop.">compute_edgel_regions</a>(vil1_image* image,
<a name="l00067"></a>00067                              vcl_vector&lt;vtol_edge_2d_sptr&gt;&amp; sgrp,
<a name="l00068"></a>00068                              vcl_vector&lt;vtol_intensity_face_sptr&gt;&amp; faces);
<a name="l00069"></a>00069 
<a name="l00070"></a>00070   <span class="keywordtype">bool</span> <a class="code" href="classgevd__edgel__regions.html#a185d392051a3b425c237908816299067" title="The key process loop.">compute_edgel_regions</a>(<a class="code" href="classgevd__bufferxy.html">gevd_bufferxy</a>* buf,
<a name="l00071"></a>00071                              vcl_vector&lt;vtol_edge_2d_sptr&gt;&amp; sgrp,
<a name="l00072"></a>00072                              vcl_vector&lt;vtol_intensity_face_sptr&gt;&amp; faces);
<a name="l00073"></a><a class="code" href="classgevd__edgel__regions.html#ab1380877dc37c4d14cc934d3d18a5ac4">00073</a>   <span class="comment">//Acessors</span>
<a name="l00074"></a><a class="code" href="classgevd__edgel__regions.html#ac8e936fbb43009d4aaedc6d1e6b01e1c">00074</a>   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#ab1380877dc37c4d14cc934d3d18a5ac4">SetVerbose</a>() {<a class="code" href="classgevd__edgel__regions.html#ac430756215cecedcb769831873a59cfb">verbose_</a> = <span class="keyword">true</span>;}
<a name="l00075"></a><a class="code" href="classgevd__edgel__regions.html#a185308a3addd687fdaf7cd9392d92249">00075</a>   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#ac8e936fbb43009d4aaedc6d1e6b01e1c">ClearVerbose</a>() {<a class="code" href="classgevd__edgel__regions.html#ac430756215cecedcb769831873a59cfb">verbose_</a> = <span class="keyword">false</span>;}
<a name="l00076"></a><a class="code" href="classgevd__edgel__regions.html#a08ebf34f64e9f94df1e4b67118af4aee">00076</a>   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#a185308a3addd687fdaf7cd9392d92249">SetDebug</a>() {<a class="code" href="classgevd__edgel__regions.html#a6b03bf521ba8582978cf9dc84a981b15">debug_</a> = <span class="keyword">true</span>;}
<a name="l00077"></a><a class="code" href="classgevd__edgel__regions.html#acb72e68a761b4d0b9162b10eab65d774">00077</a>   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#a08ebf34f64e9f94df1e4b67118af4aee">ClearDebug</a>() {<a class="code" href="classgevd__edgel__regions.html#a6b03bf521ba8582978cf9dc84a981b15">debug_</a> = <span class="keyword">false</span>;}
<a name="l00078"></a>00078   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#acb72e68a761b4d0b9162b10eab65d774">set_magnification</a>(<span class="keywordtype">float</span> magnification){<a class="code" href="classgevd__edgel__regions.html#a0f5904c638f94ef60707bb51fe20351a">magnification_</a>=magnification;}
<a name="l00079"></a><a class="code" href="classgevd__edgel__regions.html#a95a02aa8ae1372ab58bda735eaf0b0e6">00079</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classgevd__edgel__regions.html#a618d8a80fbbe2744fe9335821324049a" title="Get the most basic label equivalent to a given label.">BaseLabel</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> label);
<a name="l00080"></a><a class="code" href="classgevd__edgel__regions.html#ac82d8613545e58509a0e122a4d85e7d9">00080</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classgevd__edgel__regions.html#a95a02aa8ae1372ab58bda735eaf0b0e6">GetMaxRegionLabel</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classgevd__edgel__regions.html#ad9dda0b8023cea83043f70dd2016af98">max_region_label_</a>;}
<a name="l00081"></a><a class="code" href="classgevd__edgel__regions.html#a976b61e080a0ccde1fcc99bf586eb08c">00081</a>   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#ac82d8613545e58509a0e122a4d85e7d9">SetMaxRegionLabel</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> label){<a class="code" href="classgevd__edgel__regions.html#ad9dda0b8023cea83043f70dd2016af98">max_region_label_</a> = label;}
<a name="l00082"></a><a class="code" href="classgevd__edgel__regions.html#aba752185059469bd4e6a2188eb926301">00082</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>** <a class="code" href="classgevd__edgel__regions.html#a976b61e080a0ccde1fcc99bf586eb08c">GetRegionArray</a>(){<span class="keywordflow">return</span> <a class="code" href="classgevd__edgel__regions.html#a3f7a3b0171c5718cdf3ede00b2807d0f">region_label_array_</a>;}
<a name="l00083"></a><a class="code" href="classgevd__edgel__regions.html#a9dd67fd31214fc48884253a5d1412b9f">00083</a>   <span class="keywordtype">int</span> <a class="code" href="classgevd__edgel__regions.html#aba752185059469bd4e6a2188eb926301">GetXSize</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classgevd__edgel__regions.html#a926f06b93637ca9b78f670cdbf7f12aa">xend_</a> - <a class="code" href="classgevd__edgel__regions.html#a4e400627fcbc5325eee01400f2df8a98">xo_</a> + 1;}
<a name="l00084"></a>00084   <span class="keywordtype">int</span> <a class="code" href="classgevd__edgel__regions.html#a9dd67fd31214fc48884253a5d1412b9f">GetYSize</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classgevd__edgel__regions.html#a99a4b5fae282a31bbeaf27b88e3ae2f6">yend_</a> - <a class="code" href="classgevd__edgel__regions.html#a8190de2a9c3dbe4b4e079eb69dda8698">yo_</a> + 1;}
<a name="l00085"></a>00085   vil1_image* <a class="code" href="classgevd__edgel__regions.html#a258d269fbb2940894c144242477900da" title="Paint the edgels into the region label array and then output an image where the value is 255 if the p...">GetEdgeImage</a>(vcl_vector&lt;vtol_edge_2d_sptr&gt;&amp; edgels);
<a name="l00086"></a>00086 <span class="preprocessor">#if 0</span>
<a name="l00087"></a>00087 <span class="preprocessor"></span>  topo_debug_data_ref get_topo_debug_data() {<span class="keywordflow">return</span> debug_data_;}
<a name="l00088"></a>00088 <span class="preprocessor">#endif</span>
<a name="l00089"></a>00089 <span class="preprocessor"></span>  <span class="comment">// Utilities (especially for testing)</span>
<a name="l00090"></a>00090   <span class="keywordtype">bool</span> <a class="code" href="classgevd__edgel__regions.html#a0f2455e65f6927d8d42ab0a095685f5f" title="assign equivalence of region label b to region label a.">InsertRegionEquivalence</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> label_b, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> label_a);
<a name="l00091"></a>00091   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#a153d7a16ea31c2cf94ee3d5d3e671cd5" title="Form equivalence classes by transitive closure on each label.">GrowEquivalenceClasses</a>();
<a name="l00092"></a>00092   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#aad352f8395f4261c3f96a6a90df66898" title="Populate the label_map_ to reflect the equivalences between labels.">PropagateEquivalence</a>();
<a name="l00093"></a>00093   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classgevd__edgel__regions.html#adf698e9c3ffe1982af84fc16c05326e2" title="Get the a region label for an edge used to construct the boundaries.">GetLabel</a>(<a class="codeRef" doxygen="core_vbl.tag:../../../../core/vbl/html" href="../../../../core/vbl/html/classvbl__smart__ptr.html">vtol_edge_2d_sptr</a> e, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> nr);
<a name="l00094"></a>00094   <span class="comment">// Debug print methods</span>
<a name="l00095"></a>00095   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#adc5a2e79e993ba2fdcd2ab8a6958764c">print_region_array</a>();
<a name="l00096"></a>00096   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#a2f4351f8e1a8990fd7301a650610fcaf">print_region_equivalence</a>();
<a name="l00097"></a>00097   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#ad997048a0ec5bcec1f42d726a420ff12">print_reverse_region_equivalence</a>();
<a name="l00098"></a>00098   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#a860df62440872fd3a4710028a06a6524">print_base_equivalence</a>();
<a name="l00099"></a>00099   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#a79d5d187fbe87e28771d235501d5b03c">print_intensity_data</a>();
<a name="l00100"></a>00100  <span class="keyword">protected</span>:
<a name="l00101"></a>00101   <span class="comment">// Utilities</span>
<a name="l00102"></a>00102   <span class="keywordtype">bool</span> <a class="code" href="classgevd__edgel__regions.html#af2ee4854d9c3eb806e1f7a3166cb248d" title="Check if the SpatialGroup contains Edge(s).">GroupContainsEdges</a>(vcl_vector&lt;vtol_edge_2d_sptr&gt;&amp; sg);
<a name="l00103"></a>00103   <span class="keywordtype">bool</span> <a class="code" href="classgevd__edgel__regions.html#abd471f083919ffcc22fa9e43fafdc9cb" title="Initialize the region label array.">InitRegionArray</a>(vcl_vector&lt;vtol_edge_2d_sptr&gt;&amp; sg);
<a name="l00104"></a>00104   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="classgevd__edgel__regions.html#ab5e3e1802788ee38dfe0fb141636c65c" title="Get code for a given label.">label_code</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> label);
<a name="l00105"></a>00105   <span class="keywordtype">bool</span> <a class="code" href="classgevd__edgel__regions.html#a4317476c7fc13bb416b41b540b7fcb8c" title="Add a new pair to the forward equivalence list.">add_to_forward</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> value);
<a name="l00106"></a>00106   <span class="keywordtype">bool</span> <a class="code" href="classgevd__edgel__regions.html#a736b34878492cf9baa27b7bc96c884be" title="Add a new pair to the reverse equivalence list.">add_to_reverse</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> key, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> value);
<a name="l00107"></a>00107   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="classgevd__edgel__regions.html#a271d9896de38d4312c902930e28df84d" title="Encode a 2x2 neighbor hood with the state of the region array for a given location.">EncodeNeighborhood</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ul, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ur,
<a name="l00108"></a>00108                                    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ll, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> lr);
<a name="l00109"></a>00109   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#a83d4540d71ec0a4df897502a694c0e29" title="Propagate connected components.">UpdateConnectedNeighborhood</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y);
<a name="l00110"></a>00110   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#aa13a38437e68ef62fc7f72ec19df246a" title="After connected components have been generated pass over the array and assign region labels to the ge...">AssignEdgeLabels</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y);
<a name="l00111"></a>00111   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#a9f384a22719bdf43dc55caa14310b77d" title="Scan the region_label_array_ and apply the region equivalence map.">ApplyRegionEquivalence</a>();
<a name="l00112"></a>00112   <span class="keywordtype">bool</span> <a class="code" href="classgevd__edgel__regions.html#a4a9dfc256a068bec116d5299f8ef5165" title="Bounds check on region_label_array_.">out_of_bounds</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y);
<a name="l00113"></a>00113   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#aee0246fd4b01550963f4d0a617645288" title="Insert an Edge into the adjacency list for a region.">insert_adjacency</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> region, <a class="codeRef" doxygen="core_vbl.tag:../../../../core/vbl/html" href="../../../../core/vbl/html/classvbl__smart__ptr.html">vtol_edge_2d_sptr</a> e);
<a name="l00114"></a>00114   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#a971551aa1a5ab02abcc6115e2a1c9d98" title="Get the edges adjacent to each region.">CollectEdges</a>();
<a name="l00115"></a>00115   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#a2269cb440ef23f586991179aceed5f63" title="Trace through the topology network keeping regions on the left.">CollectFaceEdges</a>();
<a name="l00116"></a>00116   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#a1dc3a328757cfbfde7452a577ac5967f" title="Construct Face(s) from Edge(s) in the face_edge_index_ array.">ConstructFaces</a>();
<a name="l00117"></a>00117   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#a7af009d6fc989fa2df34b22970bd9a5a" title="Accumulate intensity statistics from each region and update the vtol_intensity_face parameters...">AccumulateMeans</a>();
<a name="l00118"></a>00118   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#a9a195e1fbe532456a3ceddf6aacecd6b" title="Insert region pixels into the vtol_intensity_face arrays.">AccumulateRegionData</a>();
<a name="l00119"></a>00119   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#a239ee60ec22ed1b048a91ea057436462" title="Do both a scatter matrix update and insertion into the region pixel arrays of each intensity face...">InsertFaceData</a>();
<a name="l00120"></a>00120   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classgevd__edgel__regions.html#aceea2c8d2eb5c94258904d367da752f9" title="The region array can be offset from the corner of the ROI.">X</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x);
<a name="l00121"></a>00121   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classgevd__edgel__regions.html#a83bbc398263eae330d077067f70a5e51">Y</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y);
<a name="l00122"></a>00122   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classgevd__edgel__regions.html#a820d09895d142de32f95421191ae3a8c" title="Casts the float x location of a point to an unsigned-int location.">Xf</a>(<span class="keywordtype">float</span> x);
<a name="l00123"></a>00123   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classgevd__edgel__regions.html#ab61fbf5fe9df92ddf407b3c0268a8778" title="Casts the float x location of a point to an unsigned-int location.">Yf</a>(<span class="keywordtype">float</span> y);
<a name="l00124"></a>00124   <span class="keywordtype">bool</span> <a class="code" href="classgevd__edgel__regions.html#a62f7b0a85b62ef2bcf199268a644ed0c" title="A utility for inserting an edgel into the region_label_array_.">insert_edgel</a>(<span class="keywordtype">float</span> pre_x, <span class="keywordtype">float</span> pre_y, <span class="keywordtype">float</span> x, <span class="keywordtype">float</span> y,
<a name="l00125"></a>00125                     <a class="code" href="classgevd__region__edge.html">gevd_region_edge</a>* e);
<a name="l00126"></a>00126   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#ae1fec1855ed16d9c9eba28b6d5020234">insert_equivalence</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ll, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> ur, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; lr);
<a name="l00127"></a>00127   <span class="keywordtype">bool</span> <a class="code" href="classgevd__edgel__regions.html#aac0a4f8be642dfa2d33fbf57ff9defaa" title="Find the set of labels equivalent to label from a given hash table and merge into the appropriate equ...">merge_equivalence</a>(vcl_map&lt;<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>, vcl_vector&lt;unsigned int&gt;* &gt;&amp; tab,
<a name="l00128"></a>00128                          <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> cur_label,
<a name="l00129"></a>00129                          <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> label);
<a name="l00130"></a>00130   <span class="keywordtype">bool</span> <a class="code" href="classgevd__edgel__regions.html#a81aaeed45b5890d21ecc017eeaadf35b" title="Find the next label not accounted for in the current equivalence set.">get_next_label</a>(vcl_vector&lt;unsigned int&gt;* labels,
<a name="l00131"></a>00131                       <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>&amp; label);
<a name="l00132"></a>00132   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#aad38d470cbf5da47a52fa0171db11cd3">print_edge_colis</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> y,
<a name="l00133"></a>00133                         <a class="code" href="classgevd__region__edge.html">gevd_region_edge</a>* r1, <a class="code" href="classgevd__region__edge.html">gevd_region_edge</a>* r2);
<a name="l00134"></a>00134   <span class="keywordtype">bool</span> <a class="code" href="classgevd__edgel__regions.html#accb48c1b9340bd60df13dbdf95973ecc" title="In a correct boundary, each vertex must appear twice, i.e., shared by two edges.">corrupt_boundary</a>(vcl_vector&lt;vtol_edge_2d_sptr&gt;&amp; edges,
<a name="l00135"></a>00135                         vcl_vector&lt;vtol_vertex_sptr&gt;&amp; bad_verts);
<a name="l00136"></a>00136   <span class="keywordtype">bool</span> <a class="code" href="classgevd__edgel__regions.html#a4ea6d0cf996a0747b5471f0cdd41cc6a" title="Remove hairs from region boundary.">remove_hairs</a>(vcl_vector&lt;vtol_edge_2d_sptr&gt;&amp; edges);
<a name="l00137"></a>00137   <span class="keywordtype">bool</span> <a class="code" href="classgevd__edgel__regions.html#a49d67a3264db8c519a02e11e68874ccb">connect_ends</a>(vcl_vector&lt;vtol_edge_2d_sptr&gt;&amp; edges,
<a name="l00138"></a>00138                     vcl_vector&lt;vtol_vertex_sptr&gt;&amp; bad_verts);
<a name="l00139"></a>00139   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#a78cf0a55b41f65f947f41c93084e3238" title="There can be some gaps in the region boundary due to missing edges caused by a high local density of ...">repair_failed_insertions</a>(vcl_vector&lt;vtol_edge_2d_sptr&gt;&amp; edges,
<a name="l00140"></a>00140                                 vcl_vector&lt;vtol_vertex_sptr&gt;&amp; bad_verts);
<a name="l00141"></a>00141   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#a4d7e85326a7a2d29b4a2538c3daa744c" title="get a row from a BufferXY.">get_buffer_row</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> row);
<a name="l00142"></a>00142   <span class="keywordtype">void</span> <a class="code" href="classgevd__edgel__regions.html#a246a7008930e74f568109eb1e69eed3b" title="Get an image row.">get_image_row</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> row);
<a name="l00143"></a>00143   <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="classgevd__edgel__regions.html#aa66207add7788474889c2e8b8bbce85b" title="Get the intensity of a single pixel.">get_intensity</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> x);
<a name="l00144"></a>00144   <span class="keywordtype">int</span> <a class="code" href="classgevd__edgel__regions.html#a1a1e3c20860e305215c0396f1eb96794">bytes_per_pix</a>();
<a name="l00145"></a>00145 
<a name="l00146"></a>00146   <span class="comment">//to be used after image or buf are set</span>
<a name="l00147"></a>00147   <span class="keywordtype">bool</span> <a class="code" href="classgevd__edgel__regions.html#a185d392051a3b425c237908816299067" title="The key process loop.">compute_edgel_regions</a>(vcl_vector&lt;vtol_edge_2d_sptr&gt;&amp; sgrp,
<a name="l00148"></a>00148                              vcl_vector&lt;vtol_intensity_face_sptr&gt;&amp; faces);
<a name="l00149"></a><a class="code" href="classgevd__edgel__regions.html#ac430756215cecedcb769831873a59cfb">00149</a>   <span class="comment">//members</span>
<a name="l00150"></a><a class="code" href="classgevd__edgel__regions.html#a6b03bf521ba8582978cf9dc84a981b15">00150</a>   <span class="keywordtype">bool</span> <a class="code" href="classgevd__edgel__regions.html#ac430756215cecedcb769831873a59cfb">verbose_</a>;
<a name="l00151"></a><a class="code" href="classgevd__edgel__regions.html#a98af3bf38c62ce0f94be76381fb4db37">00151</a>   <span class="keywordtype">bool</span> <a class="code" href="classgevd__edgel__regions.html#a6b03bf521ba8582978cf9dc84a981b15">debug_</a>;
<a name="l00152"></a><a class="code" href="classgevd__edgel__regions.html#af0b4a4aec8433002e9202cbb1ac11818">00152</a>   <span class="keywordtype">bool</span> <a class="code" href="classgevd__edgel__regions.html#a98af3bf38c62ce0f94be76381fb4db37">image_source_</a>;
<a name="l00153"></a><a class="code" href="classgevd__edgel__regions.html#a0f5904c638f94ef60707bb51fe20351a">00153</a>   <span class="keywordtype">bool</span> <a class="code" href="classgevd__edgel__regions.html#af0b4a4aec8433002e9202cbb1ac11818">buf_source_</a>;
<a name="l00154"></a><a class="code" href="classgevd__edgel__regions.html#a00e8c1217679843d6e5d51343989a6e5">00154</a>   <span class="keywordtype">float</span> <a class="code" href="classgevd__edgel__regions.html#a0f5904c638f94ef60707bb51fe20351a">magnification_</a>;
<a name="l00155"></a><a class="code" href="classgevd__edgel__regions.html#a34b7bccd312d0db8d7dd64f12db8892f">00155</a>   vil1_image* <a class="code" href="classgevd__edgel__regions.html#a00e8c1217679843d6e5d51343989a6e5">image_</a>;
<a name="l00156"></a><a class="code" href="classgevd__edgel__regions.html#a19281b4b861e6d0d512d5d67baf63d91">00156</a>   <a class="code" href="classgevd__bufferxy.html">gevd_bufferxy</a>* <a class="code" href="classgevd__edgel__regions.html#a34b7bccd312d0db8d7dd64f12db8892f">buf_</a>;
<a name="l00157"></a><a class="code" href="classgevd__edgel__regions.html#a3f7a3b0171c5718cdf3ede00b2807d0f">00157</a>   <a class="code" href="classgevd__region__edge.html">gevd_region_edge</a>*** <a class="code" href="classgevd__edgel__regions.html#a19281b4b861e6d0d512d5d67baf63d91">edge_boundary_array_</a>;
<a name="l00158"></a><a class="code" href="classgevd__edgel__regions.html#a9e5a4a3301c8537f61885920de4b5411">00158</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>** <a class="code" href="classgevd__edgel__regions.html#a3f7a3b0171c5718cdf3ede00b2807d0f">region_label_array_</a>;
<a name="l00159"></a><a class="code" href="classgevd__edgel__regions.html#ad9dda0b8023cea83043f70dd2016af98">00159</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classgevd__edgel__regions.html#a9e5a4a3301c8537f61885920de4b5411">min_region_label_</a>;
<a name="l00160"></a><a class="code" href="classgevd__edgel__regions.html#afafab7ea7ee772d2935d64dd4e7cd029">00160</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classgevd__edgel__regions.html#ad9dda0b8023cea83043f70dd2016af98">max_region_label_</a>;
<a name="l00161"></a><a class="code" href="classgevd__edgel__regions.html#a8ab25c060275e36aa501e5963db25f9b">00161</a>   <span class="keywordtype">float</span> <a class="code" href="classgevd__edgel__regions.html#afafab7ea7ee772d2935d64dd4e7cd029">Xob_</a>;<span class="comment">//buffer X origin in original image</span>
<a name="l00162"></a><a class="code" href="classgevd__edgel__regions.html#a4e400627fcbc5325eee01400f2df8a98">00162</a>   <span class="keywordtype">float</span> <a class="code" href="classgevd__edgel__regions.html#a8ab25c060275e36aa501e5963db25f9b">Yob_</a>;<span class="comment">//buffer Y origin in original image</span>
<a name="l00163"></a><a class="code" href="classgevd__edgel__regions.html#a8190de2a9c3dbe4b4e079eb69dda8698">00163</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classgevd__edgel__regions.html#a4e400627fcbc5325eee01400f2df8a98">xo_</a>;                    <span class="comment">//X coor of starting x pixel</span>
<a name="l00164"></a><a class="code" href="classgevd__edgel__regions.html#a926f06b93637ca9b78f670cdbf7f12aa">00164</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classgevd__edgel__regions.html#a8190de2a9c3dbe4b4e079eb69dda8698">yo_</a>;                    <span class="comment">//Y coor of starting y pixel</span>
<a name="l00165"></a><a class="code" href="classgevd__edgel__regions.html#a99a4b5fae282a31bbeaf27b88e3ae2f6">00165</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classgevd__edgel__regions.html#a926f06b93637ca9b78f670cdbf7f12aa">xend_</a>;                  <span class="comment">//X coor of ending x pixel</span>
<a name="l00166"></a>00166   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="classgevd__edgel__regions.html#a99a4b5fae282a31bbeaf27b88e3ae2f6">yend_</a>;                  <span class="comment">//Y coor of ending y pixel</span>
<a name="l00167"></a><a class="code" href="classgevd__edgel__regions.html#ac2268ef4a562493c20259dcaa4d7d070">00167</a>   <span class="comment">//Region label equivalency hash tables</span>
<a name="l00168"></a><a class="code" href="classgevd__edgel__regions.html#afd4fc84d64a81ed3fbf6f238ff444665">00168</a>   vcl_map&lt;unsigned int, vcl_vector&lt;unsigned int&gt;* &gt; <a class="code" href="classgevd__edgel__regions.html#ac2268ef4a562493c20259dcaa4d7d070">region_pairs_forward_</a>;
<a name="l00169"></a><a class="code" href="classgevd__edgel__regions.html#aab154a98453994d023a603f06922ca3e">00169</a>   vcl_map&lt;unsigned int, vcl_vector&lt;unsigned int&gt;* &gt; <a class="code" href="classgevd__edgel__regions.html#afd4fc84d64a81ed3fbf6f238ff444665">region_pairs_reverse_</a>;
<a name="l00170"></a><a class="code" href="classgevd__edgel__regions.html#aa5be3991c2934c2f0ca46cafc9375a0d">00170</a>   vcl_map&lt;unsigned int, vcl_vector&lt;unsigned int&gt;* &gt; <a class="code" href="classgevd__edgel__regions.html#aab154a98453994d023a603f06922ca3e">equivalence_set_</a>;
<a name="l00171"></a>00171   vcl_map&lt;unsigned int, unsigned int &gt; <a class="code" href="classgevd__edgel__regions.html#aa5be3991c2934c2f0ca46cafc9375a0d">label_map_</a>;
<a name="l00172"></a><a class="code" href="classgevd__edgel__regions.html#acc3148031b712281d799cdef140704a4">00172</a>   <span class="comment">//hash table for Edge&lt;-&gt;gevd_region_edge relationship</span>
<a name="l00173"></a><a class="code" href="classgevd__edgel__regions.html#acefef55f4354c310b11008ed4e6a8c05">00173</a>   vcl_map&lt;int, gevd_region_edge*&gt; <a class="code" href="classgevd__edgel__regions.html#acc3148031b712281d799cdef140704a4">region_edges_</a>;
<a name="l00174"></a>00174   vcl_map&lt;unsigned int, vcl_vector&lt;vtol_edge_2d_sptr&gt;* &gt; <a class="code" href="classgevd__edgel__regions.html#acefef55f4354c310b11008ed4e6a8c05">region_edge_adjacency_</a>;
<a name="l00175"></a><a class="code" href="classgevd__edgel__regions.html#a563f712046582897442edbf749d43390">00175</a>   <span class="comment">//Final output vtol_intensity_face(s) and relation to corresponding region label</span>
<a name="l00176"></a><a class="code" href="classgevd__edgel__regions.html#a411b667faa2e102ba1ac344017546967">00176</a>   vcl_vector&lt;vtol_intensity_face_sptr&gt;* <a class="code" href="classgevd__edgel__regions.html#a563f712046582897442edbf749d43390">faces_</a>;
<a name="l00177"></a><a class="code" href="classgevd__edgel__regions.html#a65f7ff7840665f7f1cd6a917d46f7b41">00177</a>   <a class="codeRef" doxygen="core_vbl.tag:../../../../core/vbl/html" href="../../../../core/vbl/html/classvbl__smart__ptr.html">vtol_intensity_face_sptr</a>* <a class="code" href="classgevd__edgel__regions.html#a411b667faa2e102ba1ac344017546967">intensity_face_index_</a>;
<a name="l00178"></a><a class="code" href="classgevd__edgel__regions.html#ab317aabc325b4150ba2bce09211c1867">00178</a>   vcl_vector&lt;vtol_edge_2d_sptr&gt;** <a class="code" href="classgevd__edgel__regions.html#a65f7ff7840665f7f1cd6a917d46f7b41">face_edge_index_</a>;
<a name="l00179"></a>00179   vcl_vector&lt;vtol_edge_2d_sptr&gt;* <a class="code" href="classgevd__edgel__regions.html#ab317aabc325b4150ba2bce09211c1867">failed_insertions_</a>; <span class="comment">//Short edges that fail</span>
<a name="l00180"></a>00180 <span class="preprocessor">#if 0</span>
<a name="l00181"></a>00181 <span class="preprocessor"></span>  topo_debug_data_ref debug_data_;
<a name="l00182"></a><a class="code" href="classgevd__edgel__regions.html#a339e24b545b7f3ba917b6df80fbac6a2">00182</a> <span class="preprocessor">#endif</span>
<a name="l00183"></a><a class="code" href="classgevd__edgel__regions.html#a738742cb8eac89ade7a4d928cf3eae69">00183</a> <span class="preprocessor"></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span>* <a class="code" href="classgevd__edgel__regions.html#a339e24b545b7f3ba917b6df80fbac6a2">ubuf_</a>;
<a name="l00184"></a>00184   <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>* <a class="code" href="classgevd__edgel__regions.html#a738742cb8eac89ade7a4d928cf3eae69">sbuf_</a>;
<a name="l00185"></a>00185 };
<a name="l00186"></a>00186 
<a name="l00187"></a>00187 <span class="preprocessor">#endif // gevd_edgel_regions_h_</span>
</pre></div></div>
</div>


<hr class="footer"/><address class="footer"><small>
Generated on Wed May 1 2013 17:37:54 for contrib/gel/gevd by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
