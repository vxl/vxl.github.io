<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <title>contrib/brl/bseg/brip/brip_vil1_float_ops.h Source File</title>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="tabs.css" rel="stylesheet" type="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">contrib/brl/bseg/brip/brip_vil1_float_ops.h</div>  </div>
</div>
<div class="contents">
<a href="brip__vil1__float__ops_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//--*-c++-*--</span>
<a name="l00002"></a>00002 <span class="comment">// This is brl/bseg/brip/brip_vil1_float_ops.h</span>
<a name="l00003"></a>00003 <span class="preprocessor">#ifndef brip_vil1_float_ops_h_</span>
<a name="l00004"></a>00004 <span class="preprocessor"></span><span class="preprocessor">#define brip_vil1_float_ops_h_</span>
<a name="l00005"></a>00005 <span class="preprocessor"></span><span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00006"></a>00006 <span class="comment">//:</span>
<a name="l00007"></a>00007 <span class="comment">// \file</span>
<a name="l00008"></a>00008 <span class="comment">// \author J.L. Mundy</span>
<a name="l00009"></a>00009 <span class="comment">// \brief operations on memory_image_of&lt;float&gt; operands</span>
<a name="l00010"></a>00010 <span class="comment">//</span>
<a name="l00011"></a>00011 <span class="comment">// These methods are similar to the VanDuc gevd_float_ops methods. However,</span>
<a name="l00012"></a>00012 <span class="comment">// they use vil1_image_of&lt;float&gt; buffers rather than the old bufferxy</span>
<a name="l00013"></a>00013 <span class="comment">// structure. The purpose is to provide efficient foundational</span>
<a name="l00014"></a>00014 <span class="comment">// segmentation routines. They are not meant to be generic.</span>
<a name="l00015"></a>00015 <span class="comment">//</span>
<a name="l00016"></a>00016 <span class="comment">// \verbatim</span>
<a name="l00017"></a>00017 <span class="comment">//  Modifications</span>
<a name="l00018"></a>00018 <span class="comment">//   Initial version February 15, 2003</span>
<a name="l00019"></a>00019 <span class="comment">//   Renamed to brip_vil1_float_ops January 24, 2004, In order to support</span>
<a name="l00020"></a>00020 <span class="comment">//   moving from vil1 to vil.</span>
<a name="l00021"></a>00021 <span class="comment">// \endverbatim</span>
<a name="l00022"></a>00022 <span class="comment">//</span>
<a name="l00023"></a>00023 <span class="comment">//-----------------------------------------------------------------------------</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;vcl_vector.h&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;vcl_complex.h&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;<a class="codeRef" doxygen="core_vnl.tag:../../../../../core/vnl/html" href="../../../../../core/vnl/html/vnl__matrix_8h.html">vnl/vnl_matrix.h</a>&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;<a class="codeRef" doxygen="core_vbl.tag:../../../../../core/vbl/html" href="../../../../../core/vbl/html/vbl__array__2d_8h.html">vbl/vbl_array_2d.h</a>&gt;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &lt;<a class="codeRef" doxygen="contrib_gel_vsol.tag:../../../../../contrib/gel/vsol/html" href="../../../../../contrib/gel/vsol/html/vsol__box__2d__sptr_8h.html">vsol/vsol_box_2d_sptr.h</a>&gt;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &lt;<a class="codeRef" doxygen="core_vgl.tag:../../../../../core/vgl/html" href="../../../../../core/vgl/html/vgl__h__matrix__2d_8h.html">vgl/algo/vgl_h_matrix_2d.h</a>&gt;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &lt;vil1/vil1_image.h&gt;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &lt;vil1/vil1_memory_image_of.h&gt;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &lt;vil1/vil1_rgb.h&gt;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &lt;<a class="code" href="brip__roi__sptr_8h.html">brip/brip_roi_sptr.h</a>&gt;</span>
<a name="l00034"></a><a class="code" href="classbrip__vil1__float__ops.html">00034</a> 
<a name="l00035"></a>00035 <span class="keyword">class </span><a class="code" href="classbrip__vil1__float__ops.html">brip_vil1_float_ops</a>
<a name="l00036"></a>00036 {
<a name="l00037"></a><a class="code" href="classbrip__vil1__float__ops.html#ac7a662c44d04a4e1e0296c27c4134b69">00037</a>  <span class="keyword">public</span>:
<a name="l00038"></a>00038   <a class="code" href="classbrip__vil1__float__ops.html#ac7a662c44d04a4e1e0296c27c4134b69">~brip_vil1_float_ops</a>() {}
<a name="l00039"></a>00039 
<a name="l00040"></a>00040   <span class="comment">//: convolves with the specified kernel</span>
<a name="l00041"></a>00041   <span class="keyword">static</span> vil1_memory_image_of&lt;float&gt;
<a name="l00042"></a>00042     <a class="code" href="classbrip__vil1__float__ops.html#af0b86fc57a2724c417e71c356967320a" title="convolves with the specified kernel.">convolve</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; input,
<a name="l00043"></a>00043              <a class="codeRef" doxygen="core_vbl.tag:../../../../../core/vbl/html" href="../../../../../core/vbl/html/classvbl__array__2d.html">vbl_array_2d&lt;float&gt;</a> <span class="keyword">const</span> &amp; kernel);
<a name="l00044"></a>00044 
<a name="l00045"></a>00045   <span class="comment">//: convolves with a Gaussian kernel</span>
<a name="l00046"></a>00046   <span class="keyword">static</span> vil1_memory_image_of&lt;float&gt;
<a name="l00047"></a>00047     <a class="code" href="classbrip__vil1__float__ops.html#aa002d476d96f3cee197d611b85f8ea8f" title="convolves with a Gaussian kernel.">gaussian</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; input, <span class="keywordtype">float</span> sigma);
<a name="l00048"></a>00048 
<a name="l00049"></a>00049   <span class="comment">//: non-maximum suppression on a NxN neighborhood, with sub-pixel location</span>
<a name="l00050"></a>00050   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classbrip__vil1__float__ops.html#a7ee806ca6238a314fbdb38d95f7727a8" title="non-maximum suppression on a NxN neighborhood, with sub-pixel location.">non_maximum_suppression</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; input,
<a name="l00051"></a>00051                                       <span class="keyword">const</span> <span class="keywordtype">int</span> n,
<a name="l00052"></a>00052                                       <span class="keyword">const</span> <span class="keywordtype">float</span> thresh,
<a name="l00053"></a>00053                                       vcl_vector&lt;float&gt;&amp; x_pos,
<a name="l00054"></a>00054                                       vcl_vector&lt;float&gt;&amp; y_pos,
<a name="l00055"></a>00055                                       vcl_vector&lt;float&gt;&amp; value);
<a name="l00056"></a>00056 
<a name="l00057"></a>00057   <span class="comment">//: downsamples the input using the Bert-Adelson algorithm</span>
<a name="l00058"></a>00058   <span class="keyword">static</span> vil1_memory_image_of&lt;float&gt;
<a name="l00059"></a>00059   <a class="code" href="classbrip__vil1__float__ops.html#ab7053e53d3ee78c9a1564bc5f4471530" title="downsamples the input using the Bert-Adelson algorithm.">half_resolution</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; input,
<a name="l00060"></a>00060                   <span class="keywordtype">float</span> filter_coef=0.359375);
<a name="l00061"></a>00061 
<a name="l00062"></a>00062   <span class="comment">//: downsamples the color input image using the Bert-Adelson algorithm</span>
<a name="l00063"></a>00063   <span class="keyword">static</span> vil1_memory_image_of&lt;vil1_rgb&lt;unsigned char&gt; &gt;
<a name="l00064"></a>00064   <a class="code" href="classbrip__vil1__float__ops.html#ab7053e53d3ee78c9a1564bc5f4471530" title="downsamples the input using the Bert-Adelson algorithm.">half_resolution</a>(vil1_memory_image_of&lt;vil1_rgb&lt;unsigned char&gt; &gt; <span class="keyword">const</span> &amp; input,
<a name="l00065"></a>00065                   <span class="keywordtype">float</span> filter_coef=0.359375);
<a name="l00066"></a>00066 
<a name="l00067"></a>00067 
<a name="l00068"></a>00068 <span class="preprocessor">#if 0</span>
<a name="l00069"></a>00069 <span class="preprocessor"></span>  <span class="comment">//: interpolates the input using the Bert-Adelson algorithm</span>
<a name="l00070"></a>00070   <span class="keyword">static</span> vil1_memory_image_of&lt;float&gt;
<a name="l00071"></a>00071     double_resolution(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; input,
<a name="l00072"></a>00072                       <span class="keywordtype">float</span> filter_coef=0.359375);
<a name="l00073"></a>00073 <span class="preprocessor">#endif</span>
<a name="l00074"></a>00074 <span class="preprocessor"></span>
<a name="l00075"></a>00075   <span class="comment">//: subtracts image_1 from image_2</span>
<a name="l00076"></a>00076   <span class="keyword">static</span> vil1_memory_image_of&lt;float&gt;
<a name="l00077"></a>00077     <a class="code" href="classbrip__vil1__float__ops.html#a9179bb60c67952e28adfc7110dd7b74d" title="subtracts image_1 from image_2.">difference</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; image_1,
<a name="l00078"></a>00078                vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; image_2);
<a name="l00079"></a>00079 
<a name="l00080"></a>00080   <span class="comment">//: sets absolute values greater than thresh to specified level</span>
<a name="l00081"></a>00081   <span class="keyword">static</span> vil1_memory_image_of&lt;float&gt;
<a name="l00082"></a>00082     <a class="code" href="classbrip__vil1__float__ops.html#a4ecf1029abd3cc10487452fd7bba1422" title="sets absolute values greater than thresh to specified level.">abs_clip_to_level</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; image,
<a name="l00083"></a>00083                       <span class="keyword">const</span> <span class="keywordtype">float</span> thresh, <span class="keyword">const</span> <span class="keywordtype">float</span> level = 0.0);
<a name="l00084"></a>00084 
<a name="l00085"></a>00085   <span class="comment">//: The gradient using a 3x3 kernel</span>
<a name="l00086"></a>00086   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classbrip__vil1__float__ops.html#aec84e5cc2efbae9c61d08c306ae467ed" title="The gradient using a 3x3 kernel.">gradient_3x3</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; input,
<a name="l00087"></a>00087                            vil1_memory_image_of&lt;float&gt;&amp; grad_x,
<a name="l00088"></a>00088                            vil1_memory_image_of&lt;float&gt;&amp; grad_y);
<a name="l00089"></a>00089 
<a name="l00090"></a>00090   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classbrip__vil1__float__ops.html#a181dd7e4a432696a1ecd694d8abbc240">hessian_3x3</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; input,
<a name="l00091"></a>00091                           vil1_memory_image_of&lt;float&gt;&amp; Ixx,
<a name="l00092"></a>00092                           vil1_memory_image_of&lt;float&gt;&amp; Ixy,
<a name="l00093"></a>00093                           vil1_memory_image_of&lt;float&gt;&amp; Iyy);
<a name="l00094"></a>00094 
<a name="l00095"></a>00095   <span class="keyword">static</span> vil1_memory_image_of&lt;float&gt;
<a name="l00096"></a>00096   <a class="code" href="classbrip__vil1__float__ops.html#a6f57a2dc606b6d369dd1d55b916ee631">beaudet</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; Ixx,
<a name="l00097"></a>00097           vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; Ixy,
<a name="l00098"></a>00098           vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; Iyy);
<a name="l00099"></a>00099 
<a name="l00100"></a>00100 
<a name="l00101"></a>00101   <span class="comment">//: IxIx.transpose gradient matrix elements (N = 2n+1)</span>
<a name="l00102"></a>00102   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classbrip__vil1__float__ops.html#a913334f267170e8cf0c76ef122911590" title="IxIx.transpose gradient matrix elements (N = 2n+1).">grad_matrix_NxN</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; input,
<a name="l00103"></a>00103                               <span class="keyword">const</span> <span class="keywordtype">int</span> n,
<a name="l00104"></a>00104                               vil1_memory_image_of&lt;float&gt;&amp; IxIx,
<a name="l00105"></a>00105                               vil1_memory_image_of&lt;float&gt;&amp; IxIy,
<a name="l00106"></a>00106                               vil1_memory_image_of&lt;float&gt;&amp; IyIy);
<a name="l00107"></a>00107 
<a name="l00108"></a>00108   <span class="comment">//: Computes the Harris corner measure</span>
<a name="l00109"></a>00109   <span class="keyword">static</span> vil1_memory_image_of&lt;float&gt;
<a name="l00110"></a>00110   <a class="code" href="classbrip__vil1__float__ops.html#a59388e61679ddfdce70ce9b558c764d3" title="Computes the Harris corner measure.">harris</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; IxIx,
<a name="l00111"></a>00111          vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; IxIy,
<a name="l00112"></a>00112          vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; IyIy,
<a name="l00113"></a>00113          <span class="keywordtype">double</span> scale=0.04);
<a name="l00114"></a>00114 
<a name="l00115"></a>00115 
<a name="l00116"></a>00116   <span class="comment">//: computes the conditioning of the 2n+1 x 2n+1 gradient neighborhood</span>
<a name="l00117"></a>00117   <span class="keyword">static</span> vil1_memory_image_of&lt;float&gt;
<a name="l00118"></a>00118     <a class="code" href="classbrip__vil1__float__ops.html#a11929c9d41e4eb1eeeb827fdfc95b6f8" title="computes the conditioning of the 2n+1 x 2n+1 gradient neighborhood.">sqrt_grad_singular_values</a>(vil1_memory_image_of&lt;float&gt; &amp; input, <span class="keywordtype">int</span> n);
<a name="l00119"></a>00119 
<a name="l00120"></a>00120   <span class="comment">//: computes Lucas-Kanade optical flow on a 2n+1 neighborhood</span>
<a name="l00121"></a>00121   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classbrip__vil1__float__ops.html#a80dea910cd8941b769fa9a2c33b8238b" title="computes Lucas-Kanade optical flow on a 2n+1 neighborhood.">Lucas_KanadeMotion</a>(vil1_memory_image_of&lt;float&gt; &amp; current_frame,
<a name="l00122"></a>00122                                  vil1_memory_image_of&lt;float&gt; &amp; previous_frame,
<a name="l00123"></a>00123                                  <span class="keywordtype">int</span> n, <span class="keywordtype">double</span> thresh,
<a name="l00124"></a>00124                                  vil1_memory_image_of&lt;float&gt;&amp; vx,
<a name="l00125"></a>00125                                  vil1_memory_image_of&lt;float&gt;&amp; vy);
<a name="l00126"></a>00126 
<a name="l00127"></a>00127   <span class="comment">//: fills a border of width w on left and right of image with value</span>
<a name="l00128"></a>00128   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classbrip__vil1__float__ops.html#acd2c4ad0e93c5492b3990008361dbf66" title="fills a border of width w on left and right of image with value.">fill_x_border</a>(vil1_memory_image_of&lt;float&gt; &amp; image,
<a name="l00129"></a>00129                             <span class="keywordtype">int</span> w, <span class="keywordtype">float</span> value);
<a name="l00130"></a>00130 
<a name="l00131"></a>00131   <span class="comment">//: fills a border of width h on top and bottom of image with value</span>
<a name="l00132"></a>00132   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classbrip__vil1__float__ops.html#ae30290a2a51bd446d7cde72c3dd58294" title="fills a border of width h on top and bottom of image with value.">fill_y_border</a>(vil1_memory_image_of&lt;float&gt; &amp; image,
<a name="l00133"></a>00133                             <span class="keywordtype">int</span> h, <span class="keywordtype">float</span> value);
<a name="l00134"></a>00134 
<a name="l00135"></a>00135   <span class="comment">//: converts a float image to a byte value range</span>
<a name="l00136"></a>00136   <span class="keyword">static</span> vil1_memory_image_of&lt;unsigned char&gt;
<a name="l00137"></a>00137     <a class="code" href="classbrip__vil1__float__ops.html#a8c280ca5933effd5217f76a1e4e73947" title="converts a float image to a byte value range.">convert_to_byte</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; image);
<a name="l00138"></a>00138 
<a name="l00139"></a>00139   <span class="comment">//: converts a float image to a byte value range within a specified range</span>
<a name="l00140"></a>00140   <span class="keyword">static</span> vil1_memory_image_of&lt;unsigned char&gt;
<a name="l00141"></a>00141     <a class="code" href="classbrip__vil1__float__ops.html#a8c280ca5933effd5217f76a1e4e73947" title="converts a float image to a byte value range.">convert_to_byte</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; image,
<a name="l00142"></a>00142                     <span class="keyword">const</span> <span class="keywordtype">float</span> min_val, <span class="keyword">const</span> <span class="keywordtype">float</span> max_val);
<a name="l00143"></a>00143 
<a name="l00144"></a>00144   <span class="comment">//: converts a float image to an unsigned short image within a range</span>
<a name="l00145"></a>00145   <span class="keyword">static</span> vil1_memory_image_of&lt;unsigned short&gt;
<a name="l00146"></a>00146     <a class="code" href="classbrip__vil1__float__ops.html#a81b88a75f199932f76a5fb278c9822fa" title="converts a float image to an unsigned short image within a range.">convert_to_short</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; image,
<a name="l00147"></a>00147                      <span class="keyword">const</span> <span class="keywordtype">float</span> min_val, <span class="keyword">const</span> <span class="keywordtype">float</span> max_val);
<a name="l00148"></a>00148 
<a name="l00149"></a>00149   <span class="comment">//: converts a float image to a color rgb image with all equal planes</span>
<a name="l00150"></a>00150   <span class="keyword">static</span> vil1_memory_image_of&lt;vil1_rgb&lt;unsigned char&gt; &gt;
<a name="l00151"></a>00151     <a class="code" href="classbrip__vil1__float__ops.html#ab938a96490b91f91f636a308dba7838d" title="converts a float image to a color rgb image with all equal planes.">convert_to_rgb</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; image);
<a name="l00152"></a>00152 
<a name="l00153"></a>00153   <span class="comment">//: converts a float image with specified range to a color rgb image with all equal planes</span>
<a name="l00154"></a>00154   <span class="keyword">static</span> vil1_memory_image_of&lt;vil1_rgb&lt;unsigned char&gt; &gt;
<a name="l00155"></a>00155     <a class="code" href="classbrip__vil1__float__ops.html#ab938a96490b91f91f636a308dba7838d" title="converts a float image to a color rgb image with all equal planes.">convert_to_rgb</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; image,
<a name="l00156"></a>00156                    <span class="keyword">const</span> <span class="keywordtype">float</span> min_val, <span class="keyword">const</span> <span class="keywordtype">float</span> max_val);
<a name="l00157"></a>00157 
<a name="l00158"></a>00158 
<a name="l00159"></a>00159   <span class="comment">//: converts a vil1_image to a float image</span>
<a name="l00160"></a>00160   <span class="keyword">static</span> vil1_memory_image_of&lt;float&gt;
<a name="l00161"></a>00161     <a class="code" href="classbrip__vil1__float__ops.html#ad72be5f2d266971edde5ec8fcaebb9d9" title="converts a vil1_image to a float image.">convert_to_float</a>(vil1_image <span class="keyword">const</span> &amp; image);
<a name="l00162"></a>00162 
<a name="l00163"></a>00163   <span class="comment">//: converts a byte image to a float image</span>
<a name="l00164"></a>00164   <span class="keyword">static</span> vil1_memory_image_of&lt;float&gt;
<a name="l00165"></a>00165     <a class="code" href="classbrip__vil1__float__ops.html#ad72be5f2d266971edde5ec8fcaebb9d9" title="converts a vil1_image to a float image.">convert_to_float</a>(vil1_memory_image_of&lt;unsigned char&gt; <span class="keyword">const</span> &amp; image);
<a name="l00166"></a>00166 
<a name="l00167"></a>00167   <span class="comment">//: converts an RGB image to a float image</span>
<a name="l00168"></a>00168   <span class="keyword">static</span> vil1_memory_image_of&lt;float&gt;
<a name="l00169"></a>00169     <a class="code" href="classbrip__vil1__float__ops.html#ad72be5f2d266971edde5ec8fcaebb9d9" title="converts a vil1_image to a float image.">convert_to_float</a>(vil1_memory_image_of&lt;vil1_rgb&lt;unsigned char&gt; &gt; <span class="keyword">const</span>&amp; image);
<a name="l00170"></a>00170   <span class="comment">//: convert a color image to float IHS images</span>
<a name="l00171"></a>00171   <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00172"></a>00172     <a class="code" href="classbrip__vil1__float__ops.html#ac9a2cee2f0b49c0710cafe4f1089a23f" title="convert a color image to float IHS images.">convert_to_IHS</a>(vil1_memory_image_of&lt;vil1_rgb&lt;unsigned char&gt; &gt;<span class="keyword">const</span>&amp; image,
<a name="l00173"></a>00173                    vil1_memory_image_of&lt;float&gt;&amp; I,
<a name="l00174"></a>00174                    vil1_memory_image_of&lt;float&gt;&amp; H,
<a name="l00175"></a>00175                    vil1_memory_image_of&lt;float&gt;&amp; S);
<a name="l00176"></a>00176 
<a name="l00177"></a>00177   <span class="comment">//: display IHS images as RGB (not conversion from IHS to RGB)</span>
<a name="l00178"></a>00178   <span class="keyword">static</span> <span class="keywordtype">void</span>
<a name="l00179"></a>00179     <a class="code" href="classbrip__vil1__float__ops.html#a649925a76feb21c9df4917410dcb4b6e" title="display IHS images as RGB (not conversion from IHS to RGB).">display_IHS_as_RGB</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span>&amp; I,
<a name="l00180"></a>00180                        vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span>&amp; H,
<a name="l00181"></a>00181                        vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span>&amp; S,
<a name="l00182"></a>00182                        vil1_memory_image_of&lt;vil1_rgb&lt;unsigned char&gt; &gt;&amp; image);
<a name="l00183"></a>00183 
<a name="l00184"></a>00184   <span class="comment">//: converts a generic image to greyscale (RGB&lt;unsigned char&gt;)</span>
<a name="l00185"></a>00185   <span class="keyword">static</span> vil1_memory_image_of&lt;unsigned char&gt;
<a name="l00186"></a>00186   <a class="code" href="classbrip__vil1__float__ops.html#aaf71ab7cc9d1287fa039a5e07c21326b" title="converts a generic image to greyscale (RGB&lt;unsigned char&gt;).">convert_to_grey</a>(vil1_image <span class="keyword">const</span>&amp; img);
<a name="l00187"></a>00187 
<a name="l00188"></a>00188   <span class="comment">//: converts a vnl_matrix&lt;float&gt; to a float image</span>
<a name="l00189"></a>00189   <span class="keyword">static</span> vil1_memory_image_of&lt;float&gt;
<a name="l00190"></a>00190   <a class="code" href="classbrip__vil1__float__ops.html#ad72be5f2d266971edde5ec8fcaebb9d9" title="converts a vil1_image to a float image.">convert_to_float</a>(<a class="codeRef" doxygen="core_vnl.tag:../../../../../core/vnl/html" href="../../../../../core/vnl/html/classvnl__matrix.html">vnl_matrix&lt;float&gt;</a> <span class="keyword">const</span> &amp; matrix);
<a name="l00191"></a>00191 
<a name="l00192"></a>00192   <span class="comment">//: loads a 2n+1 x 2n+1 convolution kernel (see .cxx for file format)</span>
<a name="l00193"></a>00193   <span class="keyword">static</span> <a class="codeRef" doxygen="core_vbl.tag:../../../../../core/vbl/html" href="../../../../../core/vbl/html/classvbl__array__2d.html">vbl_array_2d&lt;float&gt;</a> <a class="code" href="classbrip__vil1__float__ops.html#a5d24d53b89cd063e0c87864121b50217" title="loads a 2n+1 x 2n+1 convolution kernel (see .cxx for file format).">load_kernel</a>(vcl_string <span class="keyword">const</span> &amp; file);
<a name="l00194"></a>00194 
<a name="l00195"></a>00195   <span class="comment">//: compute basis images for a set of input images</span>
<a name="l00196"></a>00196   <span class="keyword">static</span>
<a name="l00197"></a>00197     <span class="keywordtype">void</span> <a class="code" href="classbrip__vil1__float__ops.html#a7bd38a3edacf21df0f82f9a78c4fec17" title="compute basis images for a set of input images.">basis_images</a>(vcl_vector&lt;vil1_memory_image_of&lt;float&gt; &gt; <span class="keyword">const</span> &amp; input_images,
<a name="l00198"></a>00198                       vcl_vector&lt;vil1_memory_image_of&lt;float&gt; &gt; &amp; basis);
<a name="l00199"></a>00199 
<a name="l00200"></a>00200   <span class="comment">//: compute the Fourier transform using the vnl FFT algorithm</span>
<a name="l00201"></a>00201   <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classbrip__vil1__float__ops.html#abe98c2ba039e15c2441cc5e7c2821faf" title="compute the Fourier transform using the vnl FFT algorithm.">fourier_transform</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; input,
<a name="l00202"></a>00202                                 vil1_memory_image_of&lt;float&gt;&amp; mag,
<a name="l00203"></a>00203                                 vil1_memory_image_of&lt;float&gt;&amp; phase);
<a name="l00204"></a>00204 
<a name="l00205"></a>00205   <span class="comment">//: compute the inverse Fourier transform using the vnl FFT algorithm</span>
<a name="l00206"></a>00206   <span class="keyword">static</span>
<a name="l00207"></a>00207     <span class="keywordtype">bool</span> <a class="code" href="classbrip__vil1__float__ops.html#a1673f7dfd2c4acdd9b5646e63dbd9bcf" title="compute the inverse Fourier transform using the vnl FFT algorithm.">inverse_fourier_transform</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span>&amp; mag,
<a name="l00208"></a>00208                                    vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span>&amp; phase,
<a name="l00209"></a>00209                                    vil1_memory_image_of&lt;float&gt;&amp; output);
<a name="l00210"></a>00210 
<a name="l00211"></a>00211   <span class="comment">//: resize to specified dimensions, fill with zeros if output is larger</span>
<a name="l00212"></a>00212   <span class="keyword">static</span>
<a name="l00213"></a>00213     <span class="keywordtype">void</span> <a class="code" href="classbrip__vil1__float__ops.html#a19a1aa39eb7bf6cc1e6010121e0638dc" title="resize to specified dimensions, fill with zeros if output is larger.">resize</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; input,
<a name="l00214"></a>00214                 <span class="keyword">const</span> <span class="keywordtype">int</span> width, <span class="keyword">const</span> <span class="keywordtype">int</span> height,
<a name="l00215"></a>00215                 vil1_memory_image_of&lt;float&gt;&amp; output);
<a name="l00216"></a>00216 
<a name="l00217"></a>00217 
<a name="l00218"></a>00218   <span class="comment">//: resize to closest power of two larger dimensions than the input</span>
<a name="l00219"></a>00219   <span class="keyword">static</span>
<a name="l00220"></a>00220     <span class="keywordtype">bool</span> <a class="code" href="classbrip__vil1__float__ops.html#a50b5aea2998a8dc5ef3d2249f0c34b35" title="resize to closest power of two larger dimensions than the input.">resize_to_power_of_two</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; input,
<a name="l00221"></a>00221                                 vil1_memory_image_of&lt;float&gt;&amp; output);
<a name="l00222"></a>00222 
<a name="l00223"></a>00223   <span class="comment">//: filter the input image with a Gaussian blocking filter</span>
<a name="l00224"></a>00224   <span class="keyword">static</span> <span class="keywordtype">bool</span>
<a name="l00225"></a>00225     <a class="code" href="classbrip__vil1__float__ops.html#acaeb9ad6fd0fb79bf82a67d81494c067" title="filter the input image with a Gaussian blocking filter.">spatial_frequency_filter</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; input,
<a name="l00226"></a>00226                              <span class="keyword">const</span> <span class="keywordtype">float</span> dir_fx, <span class="keyword">const</span> <span class="keywordtype">float</span> dir_fy,
<a name="l00227"></a>00227                              <span class="keyword">const</span> <span class="keywordtype">float</span> f0, <span class="keyword">const</span> <span class="keywordtype">float</span> radius,
<a name="l00228"></a>00228                              <span class="keyword">const</span> <span class="keywordtype">bool</span> output_fourier_mag,
<a name="l00229"></a>00229                              vil1_memory_image_of&lt;float&gt; &amp; output);
<a name="l00230"></a>00230   <span class="comment">//: 2x2 bilinear interpolation of image at specified location</span>
<a name="l00231"></a>00231   <span class="keyword">static</span> <span class="keywordtype">float</span>
<a name="l00232"></a>00232     <a class="code" href="classbrip__vil1__float__ops.html#a4d992743001e0d246f66a812a79bad62" title="2x2 bilinear interpolation of image at specified location.">bilinear_interpolation</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; input,
<a name="l00233"></a>00233                            <span class="keyword">const</span> <span class="keywordtype">double</span> x, <span class="keyword">const</span> <span class="keywordtype">double</span> y);
<a name="l00234"></a>00234   <span class="comment">//: map the input to the output by a homography.</span>
<a name="l00235"></a>00235   <span class="comment">// \note if the output size is fixed then only the corresponding</span>
<a name="l00236"></a>00236   <span class="comment">// input image space is transformed.</span>
<a name="l00237"></a>00237   <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classbrip__vil1__float__ops.html#ab6881089e3e1827923ed32003563f0ee" title="map the input to the output by a homography.">homography</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; input,
<a name="l00238"></a>00238                          <a class="codeRef" doxygen="core_vgl.tag:../../../../../core/vgl/html" href="../../../../../core/vgl/html/classvgl__h__matrix__2d.html">vgl_h_matrix_2d&lt;double&gt;</a><span class="keyword">const</span>&amp; H,
<a name="l00239"></a>00239                          vil1_memory_image_of&lt;float&gt;&amp; output,
<a name="l00240"></a>00240                          <span class="keywordtype">bool</span> output_size_fixed = <span class="keyword">false</span>,
<a name="l00241"></a>00241                          <span class="keywordtype">float</span> output_fill_value = 0.0);
<a name="l00242"></a>00242 
<a name="l00243"></a>00243   <span class="comment">//: rotate the input image counter-clockwise about the image origin</span>
<a name="l00244"></a>00244   <span class="keyword">static</span>
<a name="l00245"></a>00245   vil1_memory_image_of&lt;float&gt; <a class="code" href="classbrip__vil1__float__ops.html#ab40f2f48d8a2d67d9d7b6d2a02fde58d" title="rotate the input image counter-clockwise about the image origin.">rotate</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; input,
<a name="l00246"></a>00246                                      <span class="keyword">const</span> <span class="keywordtype">double</span> theta_deg);
<a name="l00247"></a>00247 
<a name="l00248"></a>00248   <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classbrip__vil1__float__ops.html#ab3244c3751cbf2b0ab8f20522c6fec65">chip</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; input,
<a name="l00249"></a>00249                    <a class="codeRef" doxygen="core_vbl.tag:../../../../../core/vbl/html" href="../../../../../core/vbl/html/classvbl__smart__ptr.html">vsol_box_2d_sptr</a> <span class="keyword">const</span>&amp; roi,
<a name="l00250"></a>00250                    vil1_memory_image_of&lt;float&gt;&amp; <a class="code" href="classbrip__vil1__float__ops.html#ab3244c3751cbf2b0ab8f20522c6fec65">chip</a>);
<a name="l00251"></a>00251 
<a name="l00252"></a>00252   <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classbrip__vil1__float__ops.html#ab3244c3751cbf2b0ab8f20522c6fec65">chip</a>(vil1_image <span class="keyword">const</span> &amp; input,
<a name="l00253"></a>00253                    <a class="codeRef" doxygen="core_vbl.tag:../../../../../core/vbl/html" href="../../../../../core/vbl/html/classvbl__smart__ptr.html">brip_roi_sptr</a> <span class="keyword">const</span>&amp; roi,
<a name="l00254"></a>00254                    vil1_image&amp; <a class="code" href="classbrip__vil1__float__ops.html#ab3244c3751cbf2b0ab8f20522c6fec65">chip</a>);
<a name="l00255"></a>00255 
<a name="l00256"></a>00256   <span class="keyword">static</span> vil1_image <a class="code" href="classbrip__vil1__float__ops.html#a0c9e8e7e162c52587945791339fbb377" title="assumes that the chip and image have the same pixel types. Only works for.">insert_chip_in_image</a>(vil1_image <span class="keyword">const</span> &amp; image,
<a name="l00257"></a>00257                                          vil1_image <span class="keyword">const</span> &amp; <a class="code" href="classbrip__vil1__float__ops.html#ab3244c3751cbf2b0ab8f20522c6fec65">chip</a>,
<a name="l00258"></a>00258                                          <a class="codeRef" doxygen="core_vbl.tag:../../../../../core/vbl/html" href="../../../../../core/vbl/html/classvbl__smart__ptr.html">brip_roi_sptr</a> <span class="keyword">const</span>&amp; roi);
<a name="l00259"></a>00259 
<a name="l00260"></a>00260   <span class="comment">//: cross-correlate two images at a given sub-pixel location</span>
<a name="l00261"></a>00261   <span class="keyword">static</span> <span class="keywordtype">float</span>
<a name="l00262"></a>00262   <a class="code" href="classbrip__vil1__float__ops.html#a9cc711a4482a50c4eadb5043df1d8c94" title="cross-correlate two images at a given sub-pixel location.">cross_correlate</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; image1,
<a name="l00263"></a>00263                   vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; image2,
<a name="l00264"></a>00264                   <span class="keyword">const</span> <span class="keywordtype">float</span> x, <span class="keyword">const</span> <span class="keywordtype">float</span> y,
<a name="l00265"></a>00265                   <span class="keyword">const</span> <span class="keywordtype">int</span> radius = 5,
<a name="l00266"></a>00266                   <span class="keyword">const</span> <span class="keywordtype">float</span> intensity_thresh=25.0);
<a name="l00267"></a>00267 
<a name="l00268"></a>00268   <span class="comment">//: Cross-correlate two images using faster running sums</span>
<a name="l00269"></a>00269   <span class="keyword">static</span> <span class="keywordtype">bool</span>
<a name="l00270"></a>00270   <a class="code" href="classbrip__vil1__float__ops.html#a9cc711a4482a50c4eadb5043df1d8c94" title="cross-correlate two images at a given sub-pixel location.">cross_correlate</a>(vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; image1,
<a name="l00271"></a>00271                   vil1_memory_image_of&lt;float&gt; <span class="keyword">const</span> &amp; image2,
<a name="l00272"></a>00272                   vil1_memory_image_of&lt;float&gt;&amp; out,
<a name="l00273"></a>00273                   <span class="keyword">const</span> <span class="keywordtype">int</span> radius = 5,
<a name="l00274"></a>00274                   <span class="keyword">const</span> <span class="keywordtype">float</span> intensity_thresh=25.0);
<a name="l00275"></a>00275 
<a name="l00276"></a>00276  <span class="keyword">private</span>:
<a name="l00277"></a>00277 
<a name="l00278"></a>00278   <span class="comment">//: find if the center pixel of a neighborhood is the maximum value</span>
<a name="l00279"></a>00279   <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classbrip__vil1__float__ops.html#a26f2854e44baa9346a991ec22729ccb7" title="find if the center pixel of a neighborhood is the maximum value.">local_maximum</a>(<a class="codeRef" doxygen="core_vbl.tag:../../../../../core/vbl/html" href="../../../../../core/vbl/html/classvbl__array__2d.html">vbl_array_2d&lt;float&gt;</a> <span class="keyword">const</span> &amp; nighborhood,
<a name="l00280"></a>00280                             <span class="keywordtype">int</span> n, <span class="keywordtype">float</span>&amp; value);
<a name="l00281"></a>00281 
<a name="l00282"></a>00282   <span class="comment">//: find the sub-pixel offset to the maximum using a 3x3 quad interpolation</span>
<a name="l00283"></a>00283   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classbrip__vil1__float__ops.html#ac3a45b800c9e4abc09ba4866adfd6671" title="find the sub-pixel offset to the maximum using a 3x3 quad interpolation.">interpolate_center</a>(<a class="codeRef" doxygen="core_vbl.tag:../../../../../core/vbl/html" href="../../../../../core/vbl/html/classvbl__array__2d.html">vbl_array_2d&lt;float&gt;</a> <span class="keyword">const</span> &amp; neighborhood,
<a name="l00284"></a>00284                                  <span class="keywordtype">float</span>&amp; dx, <span class="keywordtype">float</span>&amp; dy);
<a name="l00285"></a>00285 
<a name="l00286"></a>00286   <span class="comment">//: sub-sample a 1-d array using the Bert-Adelson algorithm</span>
<a name="l00287"></a>00287   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classbrip__vil1__float__ops.html#a6f238424040162b76b1048f39d6d75ef" title="sub-sample a 1-d array using the Bert-Adelson algorithm.">half_resolution_1d</a>(<span class="keyword">const</span> <span class="keywordtype">float</span>* input, <span class="keywordtype">int</span> n,
<a name="l00288"></a>00288                                  <span class="keyword">const</span> <span class="keywordtype">float</span> k0, <span class="keyword">const</span> <span class="keywordtype">float</span> k1,
<a name="l00289"></a>00289                                  <span class="keyword">const</span> <span class="keywordtype">float</span> k2, <span class="keywordtype">float</span>* output);
<a name="l00290"></a>00290 
<a name="l00291"></a>00291   <span class="comment">//: One-dimensional fft</span>
<a name="l00292"></a>00292   <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classbrip__vil1__float__ops.html#a13769b750efa7c9fe54412adf8b9978d" title="One-dimensional fft.">fft_1d</a>(<span class="keywordtype">int</span> dir, <span class="keywordtype">int</span> m, <span class="keywordtype">double</span>* x, <span class="keywordtype">double</span>* y);
<a name="l00293"></a>00293 
<a name="l00294"></a>00294   <span class="comment">//: Two-dimensional fft</span>
<a name="l00295"></a>00295   <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classbrip__vil1__float__ops.html#aa33839a37f709d4df78b8e5ccb62a7dc" title="Two-dimensional fft.">fft_2d</a>(<a class="codeRef" doxygen="core_vnl.tag:../../../../../core/vnl/html" href="../../../../../core/vnl/html/classvnl__matrix.html">vnl_matrix</a>&lt;vcl_complex&lt;double&gt; &gt;&amp; c, <span class="keywordtype">int</span> nx,<span class="keywordtype">int</span> ny,<span class="keywordtype">int</span> dir);
<a name="l00296"></a>00296   <span class="comment">//: Transform the fft coefficients from/to fft/frequency order(self inverse).</span>
<a name="l00297"></a>00297   <span class="keyword">static</span>
<a name="l00298"></a>00298     <span class="keywordtype">void</span> <a class="code" href="classbrip__vil1__float__ops.html#a29af65234efff96e5a3d78687bfb615e" title="Transform the fft coefficients from/to fft/frequency order(self inverse).">ftt_fourier_2d_reorder</a>(<a class="codeRef" doxygen="core_vnl.tag:../../../../../core/vnl/html" href="../../../../../core/vnl/html/classvnl__matrix.html">vnl_matrix</a>&lt;vcl_complex&lt;double&gt; &gt; <span class="keyword">const</span>&amp; F1,
<a name="l00299"></a>00299                                 <a class="codeRef" doxygen="core_vnl.tag:../../../../../core/vnl/html" href="../../../../../core/vnl/html/classvnl__matrix.html">vnl_matrix</a>&lt;vcl_complex&lt;double&gt; &gt; &amp; F2);
<a name="l00300"></a>00300   <span class="comment">//: Blocking filter function</span>
<a name="l00301"></a>00301   <span class="keyword">static</span> <span class="keywordtype">float</span> <a class="code" href="classbrip__vil1__float__ops.html#ae824911c3feeafa60379bebc0b47af1a" title="Blocking filter function.">gaussian_blocking_filter</a>(<span class="keyword">const</span> <span class="keywordtype">float</span> dir_fx,
<a name="l00302"></a>00302                                         <span class="keyword">const</span> <span class="keywordtype">float</span> dir_fy,
<a name="l00303"></a>00303                                         <span class="keyword">const</span> <span class="keywordtype">float</span> f0, <span class="keyword">const</span> <span class="keywordtype">float</span> radius,
<a name="l00304"></a>00304                                         <span class="keyword">const</span> <span class="keywordtype">float</span> fx, <span class="keyword">const</span> <span class="keywordtype">float</span> fy);
<a name="l00305"></a><a class="code" href="classbrip__vil1__float__ops.html#a3ec736caf09ae03cf4c851a4aadaf29e">00305</a>   <span class="comment">//: Default constructor is private</span>
<a name="l00306"></a>00306   <a class="code" href="classbrip__vil1__float__ops.html#a3ec736caf09ae03cf4c851a4aadaf29e" title="Default constructor is private.">brip_vil1_float_ops</a>() {}
<a name="l00307"></a>00307 };
<a name="l00308"></a>00308 
<a name="l00309"></a>00309 <span class="preprocessor">#endif // brip_vil1_float_ops_h_</span>
</pre></div></div>
</div>


<hr class="footer"/><address class="footer"><small>
Generated on Thu May 2 2013 08:53:09 for contrib/brl/bseg/brip by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
