<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <title>contrib/brl/bseg/bbgm/bbgm_features.h Source File</title>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="tabs.css" rel="stylesheet" type="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div class="header">
  <div class="headertitle">
<div class="title">contrib/brl/bseg/bbgm/bbgm_features.h</div>  </div>
</div>
<div class="contents">
<a href="bbgm__features_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">// This is brl/bseg/bbgm/bbgm_features.h</span>
<a name="l00002"></a>00002 <span class="preprocessor">#ifndef bbgm_features_h_</span>
<a name="l00003"></a>00003 <span class="preprocessor"></span><span class="preprocessor">#define bbgm_features_h_</span>
<a name="l00004"></a>00004 <span class="preprocessor"></span><span class="comment">//:</span>
<a name="l00005"></a>00005 <span class="comment">// \file</span>
<a name="l00006"></a>00006 <span class="comment">// \brief A set of features for probability image processing</span>
<a name="l00007"></a>00007 <span class="comment">// \author J.L. Mundy</span>
<a name="l00008"></a>00008 <span class="comment">// \date May 3, 2008</span>
<a name="l00009"></a>00009 <span class="comment">//</span>
<a name="l00010"></a>00010 <span class="comment">// \verbatim</span>
<a name="l00011"></a>00011 <span class="comment">//  Modifications</span>
<a name="l00012"></a>00012 <span class="comment">//   &lt;none yet&gt;</span>
<a name="l00013"></a>00013 <span class="comment">// \endverbatim</span>
<a name="l00014"></a>00014 
<a name="l00015"></a>00015 <span class="preprocessor">#include &lt;brip/brip_rect_mask.h&gt;</span>
<a name="l00016"></a>00016 <span class="preprocessor">#include &lt;vgl/vgl_box_2d.h&gt;</span>
<a name="l00017"></a>00017 <span class="preprocessor">#include &lt;vgl/vgl_polygon.h&gt;</span>
<a name="l00018"></a>00018 <span class="preprocessor">#include &lt;<a class="codeRef" doxygen="core_vsl.tag:../../../../../core/vsl/html" href="../../../../../core/vsl/html/vsl__binary__io_8h.html">vsl/vsl_binary_io.h</a>&gt;</span>
<a name="l00019"></a>00019 <span class="preprocessor">#include &lt;<a class="codeRef" doxygen="core_vsl.tag:../../../../../core/vsl/html" href="../../../../../core/vsl/html/vsl__set__io_8h.html">vsl/vsl_set_io.h</a>&gt;</span>
<a name="l00020"></a>00020 <span class="preprocessor">#include &lt;vcl_vector.h&gt;</span>
<a name="l00021"></a>00021 <span class="preprocessor">#include &lt;vcl_set.h&gt;</span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &lt;vcl_iosfwd.h&gt;</span> <span class="comment">// for std::ostream</span>
<a name="l00023"></a>00023 
<a name="l00024"></a>00024 <span class="comment">//================================================================</span>
<a name="l00025"></a>00025 <span class="comment">//=======================  mask feature ===========================</span>
<a name="l00026"></a>00026 <span class="comment">//================================================================</span>
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 <span class="comment">//: A background-foreground mask to detect boundaries or ribbons or corners</span>
<a name="l00029"></a><a class="code" href="classbbgm__mask__feature.html">00029</a> <span class="keyword">class </span><a class="code" href="classbbgm__mask__feature.html" title="A background-foreground mask to detect boundaries or ribbons or corners.">bbgm_mask_feature</a>
<a name="l00030"></a>00030 {
<a name="l00031"></a>00031  <span class="keyword">public</span>:
<a name="l00032"></a><a class="code" href="classbbgm__mask__feature.html#aeff0464e2bf1846e1102a2a5c1f4df1f">00032</a>   <a class="code" href="classbbgm__mask__feature.html#aeff0464e2bf1846e1102a2a5c1f4df1f">bbgm_mask_feature</a>():
<a name="l00033"></a>00033     <a class="code" href="classbbgm__mask__feature.html#acdab59f25507377996290bdba58a478b">mid_</a>(static_cast&lt;unsigned char&gt;(brip_rect_mask::ntypes)),
<a name="l00034"></a>00034     <a class="code" href="classbbgm__mask__feature.html#a9f72f5c4cc117ea0f89e694eda6d9d36">aid_</a>(static_cast&lt;unsigned char&gt;(brip_rect_mask::nangles)), <a class="code" href="classbbgm__mask__feature.html#ab26f4220df961316f58d193fd5823919">p_</a>(0.0f)
<a name="l00035"></a>00035     {<a class="code" href="classbbgm__mask__feature.html#acc854cefdb2e1a11ee44314e496696bc">id_</a> = <a class="code" href="classbbgm__mask__feature.html#aaf3464300c89b0e8603140d276e4eb88">uid_</a>++;}
<a name="l00036"></a>00036 
<a name="l00037"></a><a class="code" href="classbbgm__mask__feature.html#ac45a25e5d208369d06b5308740cb03f9">00037</a>   <a class="code" href="classbbgm__mask__feature.html#aeff0464e2bf1846e1102a2a5c1f4df1f">bbgm_mask_feature</a>(brip_rect_mask::mask_id mid, brip_rect_mask::ang_id aid):
<a name="l00038"></a>00038     <a class="code" href="classbbgm__mask__feature.html#acdab59f25507377996290bdba58a478b">mid_</a>(mid),  <a class="code" href="classbbgm__mask__feature.html#a9f72f5c4cc117ea0f89e694eda6d9d36">aid_</a>(aid), <a class="code" href="classbbgm__mask__feature.html#ab26f4220df961316f58d193fd5823919">p_</a>(0.0f)
<a name="l00039"></a>00039     {<a class="code" href="classbbgm__mask__feature.html#acc854cefdb2e1a11ee44314e496696bc">id_</a> = <a class="code" href="classbbgm__mask__feature.html#aaf3464300c89b0e8603140d276e4eb88">uid_</a>++;}
<a name="l00040"></a>00040 
<a name="l00041"></a>00041   <span class="comment">//: set the probability value if the input probability is higher</span>
<a name="l00042"></a><a class="code" href="classbbgm__mask__feature.html#ace57ddc87edc32cc6ed5bd274c1699c5">00042</a>   <span class="keywordtype">void</span> <a class="code" href="classbbgm__mask__feature.html#ace57ddc87edc32cc6ed5bd274c1699c5" title="set the probability value if the input probability is higher.">set_prob</a>(brip_rect_mask::mask_id mid, brip_rect_mask::ang_id aid, <span class="keywordtype">float</span> p)
<a name="l00043"></a>00043   {
<a name="l00044"></a>00044     <span class="keywordflow">if</span> (p&gt;<a class="code" href="classbbgm__mask__feature.html#ab26f4220df961316f58d193fd5823919">p_</a>) {
<a name="l00045"></a>00045       <a class="code" href="classbbgm__mask__feature.html#acdab59f25507377996290bdba58a478b">mid_</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>(mid);
<a name="l00046"></a>00046       <a class="code" href="classbbgm__mask__feature.html#a9f72f5c4cc117ea0f89e694eda6d9d36">aid_</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">char</span><span class="keyword">&gt;</span>(aid);
<a name="l00047"></a>00047       <a class="code" href="classbbgm__mask__feature.html#ab26f4220df961316f58d193fd5823919">p_</a>=p;
<a name="l00048"></a>00048     }
<a name="l00049"></a>00049   }
<a name="l00050"></a>00050 
<a name="l00051"></a>00051   <span class="comment">//: set the probability value unconditionally</span>
<a name="l00052"></a><a class="code" href="classbbgm__mask__feature.html#a76bd2503872aea9e6146486354a573aa">00052</a>   <span class="keywordtype">void</span> <a class="code" href="classbbgm__mask__feature.html#a76bd2503872aea9e6146486354a573aa" title="set the probability value unconditionally.">force_prob</a>(<span class="keywordtype">float</span> p) {<a class="code" href="classbbgm__mask__feature.html#ab26f4220df961316f58d193fd5823919">p_</a> = p;}
<a name="l00053"></a>00053 
<a name="l00054"></a>00054   <span class="comment">//: the mask id corresponding to current probability</span>
<a name="l00055"></a><a class="code" href="classbbgm__mask__feature.html#a37e7c3f106686c5666523b19ba5b0efb">00055</a>   brip_rect_mask::mask_id <a class="code" href="classbbgm__mask__feature.html#a37e7c3f106686c5666523b19ba5b0efb" title="the mask id corresponding to current probability.">mask_id</a>()<span class="keyword"> const</span>
<a name="l00056"></a>00056 <span class="keyword">    </span>{<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>brip_rect_mask::mask_id<span class="keyword">&gt;</span>(<a class="code" href="classbbgm__mask__feature.html#acdab59f25507377996290bdba58a478b">mid_</a>);}
<a name="l00057"></a>00057 
<a name="l00058"></a>00058   <span class="comment">//: the angle id for the current mask id</span>
<a name="l00059"></a><a class="code" href="classbbgm__mask__feature.html#a76a20e168cbf80ad815f27519cefef11">00059</a>   brip_rect_mask::ang_id <a class="code" href="classbbgm__mask__feature.html#a76a20e168cbf80ad815f27519cefef11" title="the angle id for the current mask id.">ang_id</a>()<span class="keyword"> const</span>
<a name="l00060"></a>00060 <span class="keyword">    </span>{<span class="keywordflow">return</span> <span class="keyword">static_cast&lt;</span>brip_rect_mask::ang_id<span class="keyword">&gt;</span>(<a class="code" href="classbbgm__mask__feature.html#a9f72f5c4cc117ea0f89e694eda6d9d36">aid_</a>);}
<a name="l00061"></a>00061 
<a name="l00062"></a>00062   <span class="keywordtype">unsigned</span> <a class="code" href="classbbgm__mask__feature.html#ab7ee86347b37225cbcef3c052c372b62">ni</a>() <span class="keyword">const</span>;
<a name="l00063"></a>00063 
<a name="l00064"></a>00064   <span class="keywordtype">unsigned</span> <a class="code" href="classbbgm__mask__feature.html#aa70560b5566a456ff98d7b6728b15a14">nj</a>() <span class="keyword">const</span>;
<a name="l00065"></a>00065 
<a name="l00066"></a>00066   <span class="comment">//: probability for the current template mask and angle</span>
<a name="l00067"></a><a class="code" href="classbbgm__mask__feature.html#ad2ec25ba5c2f5fe963fa2ba8481d3178">00067</a>   <span class="keywordtype">float</span> <a class="code" href="classbbgm__mask__feature.html#ad2ec25ba5c2f5fe963fa2ba8481d3178" title="probability for the current template mask and angle.">operator () </a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbbgm__mask__feature.html#ab26f4220df961316f58d193fd5823919">p_</a>;}
<a name="l00068"></a>00068 
<a name="l00069"></a>00069   <span class="comment">//: mask id</span>
<a name="l00070"></a><a class="code" href="classbbgm__mask__feature.html#a7cb36d1810ee43b76789ef828ce0a762">00070</a>   <span class="keywordtype">unsigned</span> <a class="code" href="classbbgm__mask__feature.html#a7cb36d1810ee43b76789ef828ce0a762" title="mask id.">id</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classbbgm__mask__feature.html#acc854cefdb2e1a11ee44314e496696bc">id_</a>;}
<a name="l00071"></a>00071 
<a name="l00072"></a>00072   <span class="comment">//: pixels corresponding to + elements of the mask centered on (i, j)</span>
<a name="l00073"></a>00073   vcl_vector&lt;vgl_point_2d&lt;unsigned short&gt; &gt; <a class="code" href="classbbgm__mask__feature.html#a341c8256296ceb39d6fdaea6eaa27c63" title="pixels corresponding to + elements of the mask centered on (i, j).">pixels</a>(<span class="keywordtype">unsigned</span> i, <span class="keywordtype">unsigned</span> j);
<a name="l00074"></a>00074 
<a name="l00075"></a>00075   <span class="comment">//===========================================================================</span>
<a name="l00076"></a>00076   <span class="comment">// Binary I/O Methods</span>
<a name="l00077"></a>00077   <span class="comment">//===========================================================================</span>
<a name="l00078"></a>00078 
<a name="l00079"></a>00079   <span class="comment">//: Return a string name</span>
<a name="l00080"></a>00080   <span class="comment">// \note this is probably not portable</span>
<a name="l00081"></a>00081   <span class="keyword">virtual</span> vcl_string <a class="code" href="classbbgm__mask__feature.html#a677ac06b00cfedfc41d81751a8016fce" title="Return a string name.">is_a</a>() <span class="keyword">const</span>;
<a name="l00082"></a>00082 
<a name="l00083"></a>00083   <span class="keyword">virtual</span> <a class="code" href="classbbgm__mask__feature.html" title="A background-foreground mask to detect boundaries or ribbons or corners.">bbgm_mask_feature</a>* <a class="code" href="classbbgm__mask__feature.html#ad4b394026381972bfd1b73b485d3f8d6">clone</a>() <span class="keyword">const</span>;
<a name="l00084"></a>00084 
<a name="l00085"></a>00085   <span class="comment">//: Return IO version number</span>
<a name="l00086"></a>00086   <span class="keywordtype">short</span> <a class="code" href="classbbgm__mask__feature.html#adfaeadf8b4028faa3e6f8f2deeee7d3c" title="Return IO version number.">version</a>() <span class="keyword">const</span>;
<a name="l00087"></a>00087 
<a name="l00088"></a>00088   <span class="comment">//: Binary save self to stream.</span>
<a name="l00089"></a>00089   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classbbgm__mask__feature.html#a4d12f525594754afc3770141ff95e16a" title="Binary save self to stream.">b_write</a>(<a class="codeRef" doxygen="core_vsl.tag:../../../../../core/vsl/html" href="../../../../../core/vsl/html/classvsl__b__ostream.html">vsl_b_ostream</a> &amp;os) <span class="keyword">const</span>;
<a name="l00090"></a>00090 
<a name="l00091"></a>00091   <span class="comment">//: Binary load self from stream.</span>
<a name="l00092"></a>00092   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classbbgm__mask__feature.html#a41527ed70ead00774074fcca6806e1a3" title="Binary load self from stream.">b_read</a>(<a class="codeRef" doxygen="core_vsl.tag:../../../../../core/vsl/html" href="../../../../../core/vsl/html/classvsl__b__istream.html">vsl_b_istream</a> &amp;is);
<a name="l00093"></a>00093 
<a name="l00094"></a>00094  <span class="keyword">protected</span>:
<a name="l00095"></a><a class="code" href="classbbgm__mask__feature.html#aaf3464300c89b0e8603140d276e4eb88">00095</a>   <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="classbbgm__mask__feature.html#aaf3464300c89b0e8603140d276e4eb88">uid_</a>; <span class="comment">// a unique id</span>
<a name="l00096"></a><a class="code" href="classbbgm__mask__feature.html#acc854cefdb2e1a11ee44314e496696bc">00096</a>   <span class="keywordtype">unsigned</span> <a class="code" href="classbbgm__mask__feature.html#acc854cefdb2e1a11ee44314e496696bc">id_</a>;
<a name="l00097"></a><a class="code" href="classbbgm__mask__feature.html#acdab59f25507377996290bdba58a478b">00097</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="classbbgm__mask__feature.html#acdab59f25507377996290bdba58a478b">mid_</a>;
<a name="l00098"></a><a class="code" href="classbbgm__mask__feature.html#a9f72f5c4cc117ea0f89e694eda6d9d36">00098</a>   <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="classbbgm__mask__feature.html#a9f72f5c4cc117ea0f89e694eda6d9d36">aid_</a>;
<a name="l00099"></a><a class="code" href="classbbgm__mask__feature.html#ab26f4220df961316f58d193fd5823919">00099</a>   <span class="keywordtype">float</span> <a class="code" href="classbbgm__mask__feature.html#ab26f4220df961316f58d193fd5823919">p_</a>;
<a name="l00100"></a>00100 };
<a name="l00101"></a>00101 
<a name="l00102"></a>00102 
<a name="l00103"></a>00103 <span class="keywordtype">void</span> <a class="code" href="bbgm__feature__image_8h.html#a9b88cc8e064f531d7ab0c44ef32f6d3c">vsl_print_summary</a>(vcl_ostream&amp; os,
<a name="l00104"></a>00104                        <span class="keyword">const</span> <a class="code" href="classbbgm__mask__feature.html" title="A background-foreground mask to detect boundaries or ribbons or corners.">bbgm_mask_feature</a>&amp; b);
<a name="l00105"></a>00105 
<a name="l00106"></a>00106 
<a name="l00107"></a>00107 <span class="comment">//: Binary save bbgm_features</span>
<a name="l00108"></a>00108 <span class="keywordtype">void</span> <a class="code" href="bbgm__feature__image_8h.html#aee10c1b01f9c4d792f955f491daad363" title="Binary save bbgm_feature_image.">vsl_b_write</a>(<a class="codeRef" doxygen="core_vsl.tag:../../../../../core/vsl/html" href="../../../../../core/vsl/html/classvsl__b__ostream.html">vsl_b_ostream</a> &amp;os, <span class="keyword">const</span> <a class="code" href="classbbgm__mask__feature.html" title="A background-foreground mask to detect boundaries or ribbons or corners.">bbgm_mask_feature</a>&amp; b);
<a name="l00109"></a>00109 
<a name="l00110"></a>00110 
<a name="l00111"></a>00111 <span class="comment">//: Binary load bbgm_features</span>
<a name="l00112"></a>00112 <span class="keywordtype">void</span> <a class="code" href="bbgm__feature__image_8h.html#ae664f14c3388db2ec72c00649419ed43" title="Binary load bbgm_feature_image.">vsl_b_read</a>(<a class="codeRef" doxygen="core_vsl.tag:../../../../../core/vsl/html" href="../../../../../core/vsl/html/classvsl__b__istream.html">vsl_b_istream</a> &amp;is, <a class="code" href="classbbgm__mask__feature.html" title="A background-foreground mask to detect boundaries or ribbons or corners.">bbgm_mask_feature</a>&amp; b);
<a name="l00113"></a>00113 
<a name="l00114"></a>00114 <span class="comment">//================================================================</span>
<a name="l00115"></a>00115 <span class="comment">//=======================  mask pair feature =====================</span>
<a name="l00116"></a>00116 <span class="comment">//================================================================</span>
<a name="l00117"></a>00117 
<a name="l00118"></a>00118 <span class="comment">//: A pair of mask features with intervening foreground probability</span>
<a name="l00119"></a>00119 <span class="comment">// The pair is stored at each paired mask location</span>
<a name="l00120"></a><a class="code" href="classbbgm__mask__pair__feature.html">00120</a> <span class="keyword">class </span><a class="code" href="classbbgm__mask__pair__feature.html" title="A pair of mask features with intervening foreground probability.">bbgm_mask_pair_feature</a>
<a name="l00121"></a>00121 {
<a name="l00122"></a>00122  <span class="keyword">public</span>:
<a name="l00123"></a><a class="code" href="classbbgm__mask__pair__feature.html#a8c827ca97e4b07152c1f2727a7763d05">00123</a>   <a class="code" href="classbbgm__mask__pair__feature.html#a8c827ca97e4b07152c1f2727a7763d05">bbgm_mask_pair_feature</a>(): <a class="code" href="classbbgm__mask__pair__feature.html#afbcc59263cc04f6327ce16ce2bc17628" title="type of masks in the pair">mid_</a>(brip_rect_mask::ntypes),
<a name="l00124"></a>00124     <a class="code" href="classbbgm__mask__pair__feature.html#a98d85ab757fa6f254aae2d615bbb8f13" title="orientation of mask 0">ang0_</a>(brip_rect_mask::nangles), <a class="code" href="classbbgm__mask__pair__feature.html#a50b301ea36cdc55f186788a48f739b76" title="orientation of mask 1">ang1_</a>(brip_rect_mask::nangles),
<a name="l00125"></a>00125     <a class="code" href="classbbgm__mask__pair__feature.html#a797525aa42f3fd0e9c549e9b1f2bd169">i0_</a>(0),<a class="code" href="classbbgm__mask__pair__feature.html#ab79ac741321c6003d5be977768271c52" title="first mask location of the mask pair">j0_</a>(0),<a class="code" href="classbbgm__mask__pair__feature.html#a60f920b3b8ce8b196f54efe51c10a152">i1_</a>(0),<a class="code" href="classbbgm__mask__pair__feature.html#aa2169d6f0aa8d70a5fe3ef42afb90fc2" title="second mask location of the mask pair">j1_</a>(0),<a class="code" href="classbbgm__mask__pair__feature.html#a9efad30fec21c232cdb4087010725285">p_</a>(0.0f) { <a class="code" href="classbbgm__mask__pair__feature.html#a116097965100d8bb693732f752ffbde2">id_</a> = <a class="code" href="classbbgm__mask__pair__feature.html#a82fbb0d54f9bdfd8dd00b809449572bb" title="a unique id">uid_</a>++; }
<a name="l00126"></a>00126 
<a name="l00127"></a><a class="code" href="classbbgm__mask__pair__feature.html#a069183c41af9c140ec3a9aeb8eb4ad03">00127</a>   <span class="keywordtype">void</span> <a class="code" href="classbbgm__mask__pair__feature.html#a069183c41af9c140ec3a9aeb8eb4ad03">set_prob</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> i0, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> j0,
<a name="l00128"></a>00128                 <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> i1, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> j1, <span class="keywordtype">float</span> p)
<a name="l00129"></a>00129   {
<a name="l00130"></a>00130     <a class="code" href="classbbgm__mask__pair__feature.html#a797525aa42f3fd0e9c549e9b1f2bd169">i0_</a> = i0; <a class="code" href="classbbgm__mask__pair__feature.html#ab79ac741321c6003d5be977768271c52" title="first mask location of the mask pair">j0_</a> = j0;
<a name="l00131"></a>00131     <a class="code" href="classbbgm__mask__pair__feature.html#a60f920b3b8ce8b196f54efe51c10a152">i1_</a> = i1; <a class="code" href="classbbgm__mask__pair__feature.html#aa2169d6f0aa8d70a5fe3ef42afb90fc2" title="second mask location of the mask pair">j1_</a> = j1;
<a name="l00132"></a>00132     <a class="code" href="classbbgm__mask__pair__feature.html#a9efad30fec21c232cdb4087010725285">p_</a>=p;
<a name="l00133"></a>00133   }
<a name="l00134"></a><a class="code" href="classbbgm__mask__pair__feature.html#a83a15e97094a5b746faab81853e5c6de">00134</a>   <span class="keywordtype">void</span> <a class="code" href="classbbgm__mask__pair__feature.html#a83a15e97094a5b746faab81853e5c6de">set_mask_type</a>(brip_rect_mask::mask_id mid) { <a class="code" href="classbbgm__mask__pair__feature.html#afbcc59263cc04f6327ce16ce2bc17628" title="type of masks in the pair">mid_</a> = mid; }
<a name="l00135"></a><a class="code" href="classbbgm__mask__pair__feature.html#ad374db1998624781375f58d2a0152a63">00135</a>   <span class="keywordtype">void</span> <a class="code" href="classbbgm__mask__pair__feature.html#ad374db1998624781375f58d2a0152a63">set_angles</a>(brip_rect_mask::ang_id <a class="code" href="classbbgm__mask__pair__feature.html#a9727ba9b958827c6d1a3b35b67aa19aa" title="the orientation of mask 0.">ang0</a>,
<a name="l00136"></a>00136                   brip_rect_mask::ang_id <a class="code" href="classbbgm__mask__pair__feature.html#a77e86e50b0288f3f1b642076600e5d7d" title="the orientation of mask 1.">ang1</a>)
<a name="l00137"></a>00137   {<a class="code" href="classbbgm__mask__pair__feature.html#a98d85ab757fa6f254aae2d615bbb8f13" title="orientation of mask 0">ang0_</a> = <a class="code" href="classbbgm__mask__pair__feature.html#a9727ba9b958827c6d1a3b35b67aa19aa" title="the orientation of mask 0.">ang0</a>; <a class="code" href="classbbgm__mask__pair__feature.html#a50b301ea36cdc55f186788a48f739b76" title="orientation of mask 1">ang1_</a> = <a class="code" href="classbbgm__mask__pair__feature.html#a77e86e50b0288f3f1b642076600e5d7d" title="the orientation of mask 1.">ang1</a>;}
<a name="l00138"></a>00138 
<a name="l00139"></a>00139   <span class="comment">//: set the unique id of each mask</span>
<a name="l00140"></a><a class="code" href="classbbgm__mask__pair__feature.html#aca5f5843e186e918bb1eac70e5d718ce">00140</a>   <span class="keywordtype">void</span> <a class="code" href="classbbgm__mask__pair__feature.html#aca5f5843e186e918bb1eac70e5d718ce" title="set the unique id of each mask.">set_ids</a>( <span class="keywordtype">unsigned</span> <a class="code" href="classbbgm__mask__pair__feature.html#a953dd01c540420c23eec93935d9b2ac8" title="the id of mask 0.">id0</a>, <span class="keywordtype">unsigned</span> <a class="code" href="classbbgm__mask__pair__feature.html#af3ac044ebcd22bcc29027e0baf991408" title="the id of mask 1.">id1</a>) { <a class="code" href="classbbgm__mask__pair__feature.html#adf8a3145d6410903da1ff929f2b55e62">id0_</a> = <a class="code" href="classbbgm__mask__pair__feature.html#a953dd01c540420c23eec93935d9b2ac8" title="the id of mask 0.">id0</a>; <a class="code" href="classbbgm__mask__pair__feature.html#af76877b86738e27f6fe94e1ec0ba18f1">id1_</a> = <a class="code" href="classbbgm__mask__pair__feature.html#af3ac044ebcd22bcc29027e0baf991408" title="the id of mask 1.">id1</a>; }
<a name="l00141"></a>00141 
<a name="l00142"></a>00142   <span class="comment">//: location of each mask in the pair</span>
<a name="l00143"></a><a class="code" href="classbbgm__mask__pair__feature.html#a093a9136e0388a4cdcd745f51e6b4567">00143</a>   <span class="keywordtype">void</span> <a class="code" href="classbbgm__mask__pair__feature.html#a093a9136e0388a4cdcd745f51e6b4567" title="location of each mask in the pair.">x0</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>&amp; i0, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>&amp; j0)<span class="keyword"> const </span>{ i0 = <a class="code" href="classbbgm__mask__pair__feature.html#a797525aa42f3fd0e9c549e9b1f2bd169">i0_</a>; j0 = <a class="code" href="classbbgm__mask__pair__feature.html#ab79ac741321c6003d5be977768271c52" title="first mask location of the mask pair">j0_</a>; }
<a name="l00144"></a><a class="code" href="classbbgm__mask__pair__feature.html#aec9bdab0a98d4dcb17e996e68908c8c7">00144</a>   <span class="keywordtype">void</span> <a class="code" href="classbbgm__mask__pair__feature.html#aec9bdab0a98d4dcb17e996e68908c8c7">x1</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>&amp; i1, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>&amp; j1)<span class="keyword"> const </span>{ i1 = <a class="code" href="classbbgm__mask__pair__feature.html#a60f920b3b8ce8b196f54efe51c10a152">i1_</a>; j1 = <a class="code" href="classbbgm__mask__pair__feature.html#aa2169d6f0aa8d70a5fe3ef42afb90fc2" title="second mask location of the mask pair">j1_</a>; }
<a name="l00145"></a>00145 
<a name="l00146"></a>00146   <span class="comment">//: the type of the mask pair</span>
<a name="l00147"></a><a class="code" href="classbbgm__mask__pair__feature.html#ad42d2b30c4062347c08d28d389a4472a">00147</a>   brip_rect_mask::mask_id <a class="code" href="classbbgm__mask__pair__feature.html#ad42d2b30c4062347c08d28d389a4472a" title="the type of the mask pair.">mask_id</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classbbgm__mask__pair__feature.html#afbcc59263cc04f6327ce16ce2bc17628" title="type of masks in the pair">mid_</a>;}
<a name="l00148"></a>00148 
<a name="l00149"></a>00149   <span class="comment">//: the orientation of mask 0</span>
<a name="l00150"></a><a class="code" href="classbbgm__mask__pair__feature.html#a9727ba9b958827c6d1a3b35b67aa19aa">00150</a>   brip_rect_mask::ang_id <a class="code" href="classbbgm__mask__pair__feature.html#a9727ba9b958827c6d1a3b35b67aa19aa" title="the orientation of mask 0.">ang0</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classbbgm__mask__pair__feature.html#a98d85ab757fa6f254aae2d615bbb8f13" title="orientation of mask 0">ang0_</a>;}
<a name="l00151"></a>00151 
<a name="l00152"></a>00152   <span class="comment">//: the orientation of mask 1</span>
<a name="l00153"></a><a class="code" href="classbbgm__mask__pair__feature.html#a77e86e50b0288f3f1b642076600e5d7d">00153</a>   brip_rect_mask::ang_id <a class="code" href="classbbgm__mask__pair__feature.html#a77e86e50b0288f3f1b642076600e5d7d" title="the orientation of mask 1.">ang1</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classbbgm__mask__pair__feature.html#a50b301ea36cdc55f186788a48f739b76" title="orientation of mask 1">ang1_</a>;}
<a name="l00154"></a>00154 
<a name="l00155"></a>00155   <span class="comment">//: the id of mask 0</span>
<a name="l00156"></a><a class="code" href="classbbgm__mask__pair__feature.html#a953dd01c540420c23eec93935d9b2ac8">00156</a>   <span class="keywordtype">unsigned</span> <a class="code" href="classbbgm__mask__pair__feature.html#a953dd01c540420c23eec93935d9b2ac8" title="the id of mask 0.">id0</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classbbgm__mask__pair__feature.html#adf8a3145d6410903da1ff929f2b55e62">id0_</a>;}
<a name="l00157"></a>00157 
<a name="l00158"></a>00158   <span class="comment">//: the id of mask 1</span>
<a name="l00159"></a><a class="code" href="classbbgm__mask__pair__feature.html#af3ac044ebcd22bcc29027e0baf991408">00159</a>   <span class="keywordtype">unsigned</span> <a class="code" href="classbbgm__mask__pair__feature.html#af3ac044ebcd22bcc29027e0baf991408" title="the id of mask 1.">id1</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classbbgm__mask__pair__feature.html#af76877b86738e27f6fe94e1ec0ba18f1">id1_</a>;}
<a name="l00160"></a>00160 
<a name="l00161"></a><a class="code" href="classbbgm__mask__pair__feature.html#a8dc8ed5735079da657410ccf0f053f27">00161</a>   <span class="keywordtype">void</span> <a class="code" href="classbbgm__mask__pair__feature.html#a8dc8ed5735079da657410ccf0f053f27">center</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>&amp; ic, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>&amp; jc)<span class="keyword"> const</span>
<a name="l00162"></a>00162 <span class="keyword">  </span>{
<a name="l00163"></a>00163     ic  = (<span class="keywordtype">unsigned</span> short)((<a class="code" href="classbbgm__mask__pair__feature.html#a797525aa42f3fd0e9c549e9b1f2bd169">i0_</a>+<a class="code" href="classbbgm__mask__pair__feature.html#a60f920b3b8ce8b196f54efe51c10a152">i1_</a>)/2);
<a name="l00164"></a>00164     jc  = (<span class="keywordtype">unsigned</span> short)((<a class="code" href="classbbgm__mask__pair__feature.html#ab79ac741321c6003d5be977768271c52" title="first mask location of the mask pair">j0_</a>+<a class="code" href="classbbgm__mask__pair__feature.html#aa2169d6f0aa8d70a5fe3ef42afb90fc2" title="second mask location of the mask pair">j1_</a>)/2);
<a name="l00165"></a>00165   }
<a name="l00166"></a>00166   <span class="comment">//: probability for the mask pair</span>
<a name="l00167"></a><a class="code" href="classbbgm__mask__pair__feature.html#a0015dbf58aae0bc005657b7ebc441798">00167</a>   <span class="keywordtype">float</span> <a class="code" href="classbbgm__mask__pair__feature.html#a0015dbf58aae0bc005657b7ebc441798" title="probability for the mask pair.">operator () </a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbbgm__mask__pair__feature.html#a9efad30fec21c232cdb4087010725285">p_</a>;}
<a name="l00168"></a>00168 
<a name="l00169"></a>00169   <span class="comment">//: pair id</span>
<a name="l00170"></a><a class="code" href="classbbgm__mask__pair__feature.html#a20b57e1e3bd3e87b764ac26fa4920ad8">00170</a>   <span class="keywordtype">unsigned</span> <a class="code" href="classbbgm__mask__pair__feature.html#a20b57e1e3bd3e87b764ac26fa4920ad8" title="pair id.">id</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classbbgm__mask__pair__feature.html#a116097965100d8bb693732f752ffbde2">id_</a>;}
<a name="l00171"></a>00171 
<a name="l00172"></a>00172   <span class="comment">//: The pixels in the pair (positive mask elements + path pixels)</span>
<a name="l00173"></a>00173   vcl_vector&lt;vgl_point_2d&lt;unsigned short&gt; &gt; <a class="code" href="classbbgm__mask__pair__feature.html#aa9d59b117baf9d35104d97330ded66f0" title="The pixels in the pair (positive mask elements + path pixels).">pixels</a>();
<a name="l00174"></a>00174 
<a name="l00175"></a>00175   <span class="comment">//======================================================================</span>
<a name="l00176"></a>00176   <span class="comment">// Binary I/O Methods</span>
<a name="l00177"></a>00177   <span class="comment">//======================================================================</span>
<a name="l00178"></a>00178 
<a name="l00179"></a>00179   <span class="comment">//: Return a string name</span>
<a name="l00180"></a>00180   <span class="comment">// \note this is probably not portable</span>
<a name="l00181"></a>00181   <span class="keyword">virtual</span> vcl_string <a class="code" href="classbbgm__mask__pair__feature.html#a30be116d1f87027653dbb33c49554ee7" title="Return a string name.">is_a</a>() <span class="keyword">const</span>;
<a name="l00182"></a>00182 
<a name="l00183"></a>00183   <span class="keyword">virtual</span> <a class="code" href="classbbgm__mask__pair__feature.html" title="A pair of mask features with intervening foreground probability.">bbgm_mask_pair_feature</a>* <a class="code" href="classbbgm__mask__pair__feature.html#a5113ea8d9b7547fc7f0a2244ccec0961">clone</a>() <span class="keyword">const</span>;
<a name="l00184"></a>00184 
<a name="l00185"></a>00185   <span class="comment">//: Return IO version number;</span>
<a name="l00186"></a>00186   <span class="keywordtype">short</span> <a class="code" href="classbbgm__mask__pair__feature.html#a7384478bfae9374572e303d80625dc31" title="Return IO version number;.">version</a>() <span class="keyword">const</span>;
<a name="l00187"></a>00187 
<a name="l00188"></a>00188   <span class="comment">//: Binary save self to stream.</span>
<a name="l00189"></a>00189   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classbbgm__mask__pair__feature.html#a3450db96ec17ac74e3bc66bbe21c3d3a" title="Binary save self to stream.">b_write</a>(<a class="codeRef" doxygen="core_vsl.tag:../../../../../core/vsl/html" href="../../../../../core/vsl/html/classvsl__b__ostream.html">vsl_b_ostream</a> &amp;os) <span class="keyword">const</span>;
<a name="l00190"></a>00190 
<a name="l00191"></a>00191   <span class="comment">//: Binary load self from stream.</span>
<a name="l00192"></a>00192   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classbbgm__mask__pair__feature.html#ace4f176fb17cab9781dcb1b30e3a67d7" title="Binary load self from stream.">b_read</a>(<a class="codeRef" doxygen="core_vsl.tag:../../../../../core/vsl/html" href="../../../../../core/vsl/html/classvsl__b__istream.html">vsl_b_istream</a> &amp;is);
<a name="l00193"></a>00193 
<a name="l00194"></a>00194  <span class="keyword">protected</span>:
<a name="l00195"></a><a class="code" href="classbbgm__mask__pair__feature.html#a82fbb0d54f9bdfd8dd00b809449572bb">00195</a>   <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="classbbgm__mask__pair__feature.html#a82fbb0d54f9bdfd8dd00b809449572bb" title="a unique id">uid_</a>; <span class="comment">//!&lt; a unique id</span>
<a name="l00196"></a><a class="code" href="classbbgm__mask__pair__feature.html#a116097965100d8bb693732f752ffbde2">00196</a> <span class="comment"></span>  <span class="keywordtype">unsigned</span> <a class="code" href="classbbgm__mask__pair__feature.html#a116097965100d8bb693732f752ffbde2">id_</a>;
<a name="l00197"></a><a class="code" href="classbbgm__mask__pair__feature.html#afbcc59263cc04f6327ce16ce2bc17628">00197</a>   brip_rect_mask::mask_id <a class="code" href="classbbgm__mask__pair__feature.html#afbcc59263cc04f6327ce16ce2bc17628" title="type of masks in the pair">mid_</a>;  <span class="comment">//!&lt; type of masks in the pair</span>
<a name="l00198"></a><a class="code" href="classbbgm__mask__pair__feature.html#a98d85ab757fa6f254aae2d615bbb8f13">00198</a> <span class="comment"></span>  brip_rect_mask::ang_id <a class="code" href="classbbgm__mask__pair__feature.html#a98d85ab757fa6f254aae2d615bbb8f13" title="orientation of mask 0">ang0_</a>;  <span class="comment">//!&lt; orientation of mask 0</span>
<a name="l00199"></a><a class="code" href="classbbgm__mask__pair__feature.html#a50b301ea36cdc55f186788a48f739b76">00199</a> <span class="comment"></span>  brip_rect_mask::ang_id <a class="code" href="classbbgm__mask__pair__feature.html#a50b301ea36cdc55f186788a48f739b76" title="orientation of mask 1">ang1_</a>;  <span class="comment">//!&lt; orientation of mask 1</span>
<a name="l00200"></a><a class="code" href="classbbgm__mask__pair__feature.html#ab79ac741321c6003d5be977768271c52">00200</a> <span class="comment"></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="classbbgm__mask__pair__feature.html#a797525aa42f3fd0e9c549e9b1f2bd169">i0_</a>, <a class="code" href="classbbgm__mask__pair__feature.html#ab79ac741321c6003d5be977768271c52" title="first mask location of the mask pair">j0_</a>;       <span class="comment">//!&lt; first mask location of the mask pair</span>
<a name="l00201"></a><a class="code" href="classbbgm__mask__pair__feature.html#aa2169d6f0aa8d70a5fe3ef42afb90fc2">00201</a> <span class="comment"></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="classbbgm__mask__pair__feature.html#a60f920b3b8ce8b196f54efe51c10a152">i1_</a>, <a class="code" href="classbbgm__mask__pair__feature.html#aa2169d6f0aa8d70a5fe3ef42afb90fc2" title="second mask location of the mask pair">j1_</a>;       <span class="comment">//!&lt; second mask location of the mask pair</span>
<a name="l00202"></a><a class="code" href="classbbgm__mask__pair__feature.html#af76877b86738e27f6fe94e1ec0ba18f1">00202</a> <span class="comment"></span>  <span class="keywordtype">unsigned</span> <a class="code" href="classbbgm__mask__pair__feature.html#adf8a3145d6410903da1ff929f2b55e62">id0_</a>, <a class="code" href="classbbgm__mask__pair__feature.html#af76877b86738e27f6fe94e1ec0ba18f1">id1_</a>;
<a name="l00203"></a><a class="code" href="classbbgm__mask__pair__feature.html#a9efad30fec21c232cdb4087010725285">00203</a>   <span class="keywordtype">float</span> <a class="code" href="classbbgm__mask__pair__feature.html#a9efad30fec21c232cdb4087010725285">p_</a>;
<a name="l00204"></a>00204 };
<a name="l00205"></a>00205 
<a name="l00206"></a>00206 
<a name="l00207"></a>00207 <span class="keywordtype">void</span> <a class="code" href="bbgm__feature__image_8h.html#a9b88cc8e064f531d7ab0c44ef32f6d3c">vsl_print_summary</a>(vcl_ostream&amp; os,
<a name="l00208"></a>00208                        <span class="keyword">const</span> <a class="code" href="classbbgm__mask__pair__feature.html" title="A pair of mask features with intervening foreground probability.">bbgm_mask_pair_feature</a>&amp; b);
<a name="l00209"></a>00209 
<a name="l00210"></a>00210 
<a name="l00211"></a>00211 <span class="comment">//: Binary save bbgm_features</span>
<a name="l00212"></a>00212 <span class="keywordtype">void</span> <a class="code" href="bbgm__feature__image_8h.html#aee10c1b01f9c4d792f955f491daad363" title="Binary save bbgm_feature_image.">vsl_b_write</a>(<a class="codeRef" doxygen="core_vsl.tag:../../../../../core/vsl/html" href="../../../../../core/vsl/html/classvsl__b__ostream.html">vsl_b_ostream</a> &amp;os, <span class="keyword">const</span> <a class="code" href="classbbgm__mask__pair__feature.html" title="A pair of mask features with intervening foreground probability.">bbgm_mask_pair_feature</a>&amp; b);
<a name="l00213"></a>00213 
<a name="l00214"></a>00214 
<a name="l00215"></a>00215 <span class="comment">//: Binary load bbgm_features</span>
<a name="l00216"></a>00216 <span class="keywordtype">void</span> <a class="code" href="bbgm__feature__image_8h.html#ae664f14c3388db2ec72c00649419ed43" title="Binary load bbgm_feature_image.">vsl_b_read</a>(<a class="codeRef" doxygen="core_vsl.tag:../../../../../core/vsl/html" href="../../../../../core/vsl/html/classvsl__b__istream.html">vsl_b_istream</a> &amp;is, <a class="code" href="classbbgm__mask__pair__feature.html" title="A pair of mask features with intervening foreground probability.">bbgm_mask_pair_feature</a>&amp; b);
<a name="l00217"></a>00217 
<a name="l00218"></a>00218 <span class="comment">//====================== global pair functions ==================</span>
<a name="l00219"></a>00219 
<a name="l00220"></a>00220 <span class="keywordtype">bool</span> <a class="code" href="bbgm__features_8cxx.html#a946b09da2b0e148f64ec28e8122f33b3">pair_intersect</a>(<a class="code" href="classbbgm__mask__pair__feature.html" title="A pair of mask features with intervening foreground probability.">bbgm_mask_pair_feature</a> <span class="keyword">const</span>&amp; mp0,
<a name="l00221"></a>00221                     <a class="code" href="classbbgm__mask__pair__feature.html" title="A pair of mask features with intervening foreground probability.">bbgm_mask_pair_feature</a> <span class="keyword">const</span>&amp; mp1,
<a name="l00222"></a>00222                     <span class="keywordtype">bool</span> plus_intersect_only = <span class="keyword">true</span>);
<a name="l00223"></a>00223 
<a name="l00224"></a>00224 <span class="comment">//================================================================</span>
<a name="l00225"></a>00225 <span class="comment">//=======================  pair group feature ====================</span>
<a name="l00226"></a>00226 <span class="comment">//================================================================</span>
<a name="l00227"></a>00227 
<a name="l00228"></a>00228 <span class="comment">//: functor to order the bbgm_pair_group_feature set</span>
<a name="l00229"></a><a class="code" href="classfless.html">00229</a> <span class="keyword">class </span><a class="code" href="classfless.html" title="functor to order the bbgm_pair_group_feature set.">fless</a>
<a name="l00230"></a>00230 {
<a name="l00231"></a>00231  <span class="keyword">public</span>:
<a name="l00232"></a><a class="code" href="classfless.html#a90468fe7c9d1cc0259a32a7a532e099b">00232</a>   <a class="code" href="classfless.html#a90468fe7c9d1cc0259a32a7a532e099b">fless</a>() {}
<a name="l00233"></a><a class="code" href="classfless.html#af5a4734279db0119ccd00caee3dbec85">00233</a>   <span class="keywordtype">bool</span> <a class="code" href="classfless.html#af5a4734279db0119ccd00caee3dbec85">operator ()</a>(<a class="code" href="classbbgm__mask__pair__feature.html" title="A pair of mask features with intervening foreground probability.">bbgm_mask_pair_feature</a> <span class="keyword">const</span>&amp; fa,
<a name="l00234"></a>00234                    <a class="code" href="classbbgm__mask__pair__feature.html" title="A pair of mask features with intervening foreground probability.">bbgm_mask_pair_feature</a> <span class="keyword">const</span>&amp; fb) {
<a name="l00235"></a>00235     <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> ica, jca, icb, jcb;
<a name="l00236"></a>00236     fa.<a class="code" href="classbbgm__mask__pair__feature.html#a8dc8ed5735079da657410ccf0f053f27">center</a>(ica, jca);
<a name="l00237"></a>00237     fb.<a class="code" href="classbbgm__mask__pair__feature.html#a8dc8ed5735079da657410ccf0f053f27">center</a>(icb, jcb);
<a name="l00238"></a>00238     <span class="keywordflow">if</span> (ica!=icb)
<a name="l00239"></a>00239       <span class="keywordflow">return</span> ica&lt;icb;
<a name="l00240"></a>00240     <span class="keywordflow">return</span> jca&lt;jcb;
<a name="l00241"></a>00241   }
<a name="l00242"></a>00242 };
<a name="l00243"></a>00243 
<a name="l00244"></a>00244 <span class="comment">//: A group of mask pair features with centers within a neighborhood</span>
<a name="l00245"></a>00245 <span class="comment">// The set is defined by the pair center locations</span>
<a name="l00246"></a><a class="code" href="classbbgm__pair__group__feature.html">00246</a> <span class="keyword">class </span><a class="code" href="classbbgm__pair__group__feature.html" title="A group of mask pair features with centers within a neighborhood.">bbgm_pair_group_feature</a>
<a name="l00247"></a>00247 {
<a name="l00248"></a>00248  <span class="keyword">public</span>:
<a name="l00249"></a><a class="code" href="classbbgm__pair__group__feature.html#a26d292d85aeb0525b274da1e118ff61a">00249</a>   <a class="code" href="classbbgm__pair__group__feature.html#a26d292d85aeb0525b274da1e118ff61a">bbgm_pair_group_feature</a>(): <a class="code" href="classbbgm__pair__group__feature.html#ae6d36f446cd542b6597b2d908c2440c6" title="the mask type of the group">mid_</a>(brip_rect_mask::ntypes), <a class="code" href="classbbgm__pair__group__feature.html#a36499ace0b6a0616797b8f4fb83ab01e" title="the center of the group">ci_</a>(0), <a class="code" href="classbbgm__pair__group__feature.html#a67b3ef8bf8aa303b043ba8237e9c7c52">cj_</a>(0), <a class="code" href="classbbgm__pair__group__feature.html#a4804664983683e46dc03b1554a15205a">p_</a>(0) { <a class="code" href="classbbgm__pair__group__feature.html#aa6b1b7c4c67a1d47817a6b6cd2f10748">id_</a> = <a class="code" href="classbbgm__pair__group__feature.html#a2f888a87dd886e48c977e7360f7cb9da" title="a unique id">uid_</a>++; }
<a name="l00250"></a>00250   <span class="comment">//: A group with a single pair</span>
<a name="l00251"></a>00251   <a class="code" href="classbbgm__pair__group__feature.html#a26d292d85aeb0525b274da1e118ff61a">bbgm_pair_group_feature</a>(<a class="code" href="classbbgm__mask__pair__feature.html" title="A pair of mask features with intervening foreground probability.">bbgm_mask_pair_feature</a> <span class="keyword">const</span>&amp; mp);
<a name="l00252"></a>00252   <span class="comment">//: set probability and vertices</span>
<a name="l00253"></a><a class="code" href="classbbgm__pair__group__feature.html#a1181e7542021ab2fbabc6e5714edef9b">00253</a>   <span class="keywordtype">void</span> <a class="code" href="classbbgm__pair__group__feature.html#a1181e7542021ab2fbabc6e5714edef9b" title="set probability and vertices.">set_prob</a>(vcl_set&lt;bbgm_mask_pair_feature, fless &gt;<span class="keyword">const</span>&amp; <a class="code" href="classbbgm__pair__group__feature.html#a01a73b13f9deea933211896c2732ecfc">pairs</a>, <span class="keywordtype">float</span> p)
<a name="l00254"></a>00254   {
<a name="l00255"></a>00255     <a class="code" href="classbbgm__pair__group__feature.html#a105fc8947491dfed7e6a4656478dc25c">pairs_</a> = <a class="code" href="classbbgm__pair__group__feature.html#a01a73b13f9deea933211896c2732ecfc">pairs</a>;
<a name="l00256"></a>00256     vcl_set&lt;bbgm_mask_pair_feature, fless &gt;::const_iterator pit = pairs.begin();
<a name="l00257"></a>00257     <span class="keywordtype">float</span> cif = 0.0f, cjf = 0.0f;
<a name="l00258"></a>00258     <span class="keywordtype">unsigned</span> np = 0;
<a name="l00259"></a>00259     <span class="keywordflow">for</span> (; pit != pairs.end(); ++pit, ++np)
<a name="l00260"></a>00260     {
<a name="l00261"></a>00261       <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> ci, cj;
<a name="l00262"></a>00262       pit-&gt;center(ci, cj);
<a name="l00263"></a>00263       cif += (float)ci;
<a name="l00264"></a>00264       cjf += (float)cj;
<a name="l00265"></a>00265     }
<a name="l00266"></a>00266     <span class="keywordflow">if</span> (!np) <span class="keywordflow">return</span>;
<a name="l00267"></a>00267     <a class="code" href="classbbgm__pair__group__feature.html#a36499ace0b6a0616797b8f4fb83ab01e" title="the center of the group">ci_</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">short</span><span class="keyword">&gt;</span>(cif/(float)np);
<a name="l00268"></a>00268     <a class="code" href="classbbgm__pair__group__feature.html#a67b3ef8bf8aa303b043ba8237e9c7c52">cj_</a> = <span class="keyword">static_cast&lt;</span><span class="keywordtype">unsigned</span> <span class="keywordtype">short</span><span class="keyword">&gt;</span>(cjf/(float)np);
<a name="l00269"></a>00269     <a class="code" href="classbbgm__pair__group__feature.html#a4804664983683e46dc03b1554a15205a">p_</a>=p;
<a name="l00270"></a>00270   }
<a name="l00271"></a>00271   <span class="comment">//: set probability with existing vertices</span>
<a name="l00272"></a><a class="code" href="classbbgm__pair__group__feature.html#ae77e3384536f575d0eeec0e65dc1f83f">00272</a>   <span class="keywordtype">void</span> <a class="code" href="classbbgm__pair__group__feature.html#ae77e3384536f575d0eeec0e65dc1f83f" title="set probability with existing vertices.">set_prob</a>(<span class="keywordtype">float</span> p) { <a class="code" href="classbbgm__pair__group__feature.html#a4804664983683e46dc03b1554a15205a">p_</a> = p; }
<a name="l00273"></a>00273 
<a name="l00274"></a>00274   <span class="comment">//: set the mask type of the group</span>
<a name="l00275"></a><a class="code" href="classbbgm__pair__group__feature.html#a8b0f1d7f07f22fb2ee296bb538705ea2">00275</a>   <span class="keywordtype">void</span> <a class="code" href="classbbgm__pair__group__feature.html#a8b0f1d7f07f22fb2ee296bb538705ea2" title="set the mask type of the group.">set_mask_id</a>(brip_rect_mask::mask_id mid) { <a class="code" href="classbbgm__pair__group__feature.html#ae6d36f446cd542b6597b2d908c2440c6" title="the mask type of the group">mid_</a> = mid; }
<a name="l00276"></a>00276 
<a name="l00277"></a><a class="code" href="classbbgm__pair__group__feature.html#adc3f22af3b7e60076f5733d7de5fdb26">00277</a>   <span class="keywordtype">unsigned</span> <a class="code" href="classbbgm__pair__group__feature.html#adc3f22af3b7e60076f5733d7de5fdb26">n_pairs</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classbbgm__pair__group__feature.html#a105fc8947491dfed7e6a4656478dc25c">pairs_</a>.size();}
<a name="l00278"></a>00278 
<a name="l00279"></a><a class="code" href="classbbgm__pair__group__feature.html#a01a73b13f9deea933211896c2732ecfc">00279</a>   <span class="keyword">const</span> vcl_set&lt;bbgm_mask_pair_feature, fless&gt;&amp; <a class="code" href="classbbgm__pair__group__feature.html#a01a73b13f9deea933211896c2732ecfc">pairs</a>()<span class="keyword"> const</span>
<a name="l00280"></a>00280 <span class="keyword">  </span>{ <span class="keywordflow">return</span> <a class="code" href="classbbgm__pair__group__feature.html#a105fc8947491dfed7e6a4656478dc25c">pairs_</a>; }
<a name="l00281"></a>00281 
<a name="l00282"></a>00282   <span class="comment">//: probability for the pair group</span>
<a name="l00283"></a><a class="code" href="classbbgm__pair__group__feature.html#a71d38ce312259058f08f77dc8df7ff03">00283</a>   <span class="keywordtype">float</span> <a class="code" href="classbbgm__pair__group__feature.html#a71d38ce312259058f08f77dc8df7ff03" title="probability for the pair group.">operator () </a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> <a class="code" href="classbbgm__pair__group__feature.html#a4804664983683e46dc03b1554a15205a">p_</a>;}
<a name="l00284"></a>00284 
<a name="l00285"></a><a class="code" href="classbbgm__pair__group__feature.html#aae97f3d2189787c44ffe5c6386838cf6">00285</a>   <span class="keywordtype">unsigned</span> <a class="code" href="classbbgm__pair__group__feature.html#aae97f3d2189787c44ffe5c6386838cf6">id</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classbbgm__pair__group__feature.html#aa6b1b7c4c67a1d47817a6b6cd2f10748">id_</a>;}
<a name="l00286"></a>00286 
<a name="l00287"></a>00287   <span class="comment">//: the type of the mask group</span>
<a name="l00288"></a><a class="code" href="classbbgm__pair__group__feature.html#aca210630aabe0e49dfc1b0f37352f2d6">00288</a>   brip_rect_mask::mask_id <a class="code" href="classbbgm__pair__group__feature.html#aca210630aabe0e49dfc1b0f37352f2d6" title="the type of the mask group.">mask_id</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classbbgm__pair__group__feature.html#ae6d36f446cd542b6597b2d908c2440c6" title="the mask type of the group">mid_</a>;}
<a name="l00289"></a>00289 
<a name="l00290"></a><a class="code" href="classbbgm__pair__group__feature.html#a5c1bc6a6191a36f2b817cc55e020fc9d">00290</a>   <span class="keywordtype">void</span> <a class="code" href="classbbgm__pair__group__feature.html#a5c1bc6a6191a36f2b817cc55e020fc9d">center</a>(<span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>&amp; ci, <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span>&amp; cj)<span class="keyword"> const</span>
<a name="l00291"></a>00291 <span class="keyword">  </span>{ ci = <a class="code" href="classbbgm__pair__group__feature.html#a36499ace0b6a0616797b8f4fb83ab01e" title="the center of the group">ci_</a>; cj = <a class="code" href="classbbgm__pair__group__feature.html#a67b3ef8bf8aa303b043ba8237e9c7c52">cj_</a>; }
<a name="l00292"></a>00292 
<a name="l00293"></a>00293   <span class="comment">//: Bounding box</span>
<a name="l00294"></a>00294   vgl_box_2d&lt;unsigned&gt; <a class="code" href="classbbgm__pair__group__feature.html#ae46952a7993480aa3e8aa1f6dfbbec2b" title="Bounding box.">bounding_box</a>() <span class="keyword">const</span>;
<a name="l00295"></a>00295 
<a name="l00296"></a>00296   <span class="comment">//: Convex hull</span>
<a name="l00297"></a>00297   vgl_polygon&lt;double&gt; <a class="code" href="classbbgm__pair__group__feature.html#a7c86db760ee5acb57ba22796c066f873" title="Convex hull.">convex_hull</a>() <span class="keyword">const</span>;
<a name="l00298"></a>00298 
<a name="l00299"></a>00299   <span class="comment">//: List of pixels in group ( + mask elements and paths)</span>
<a name="l00300"></a>00300   vcl_vector&lt;vgl_point_2d&lt;unsigned short&gt; &gt; <a class="code" href="classbbgm__pair__group__feature.html#af8891f50659f8f93345c1447ff9748b4" title="List of pixels in group ( + mask elements and paths).">pixels</a>();
<a name="l00301"></a>00301 
<a name="l00302"></a>00302   <span class="comment">//===========================================================================</span>
<a name="l00303"></a>00303   <span class="comment">// Binary I/O Methods</span>
<a name="l00304"></a>00304   <span class="comment">//===========================================================================</span>
<a name="l00305"></a>00305 
<a name="l00306"></a>00306   <span class="comment">//: Return a string name</span>
<a name="l00307"></a>00307   <span class="comment">// \note this is probably not portable</span>
<a name="l00308"></a>00308   <span class="keyword">virtual</span> vcl_string <a class="code" href="classbbgm__pair__group__feature.html#a00effa7dc8057d0945acf4a8511bfdc2" title="Return a string name.">is_a</a>() <span class="keyword">const</span>;
<a name="l00309"></a>00309 
<a name="l00310"></a>00310   <span class="keyword">virtual</span> <a class="code" href="classbbgm__pair__group__feature.html" title="A group of mask pair features with centers within a neighborhood.">bbgm_pair_group_feature</a>* <a class="code" href="classbbgm__pair__group__feature.html#a467da8f610a64d1f78afe6651ea7a6f2">clone</a>() <span class="keyword">const</span>;
<a name="l00311"></a>00311 
<a name="l00312"></a>00312   <span class="comment">//: Return IO version number;</span>
<a name="l00313"></a>00313   <span class="keywordtype">short</span> <a class="code" href="classbbgm__pair__group__feature.html#ad30dd386025bd7aa4d956965e6d63cb8" title="Return IO version number;.">version</a>() <span class="keyword">const</span>;
<a name="l00314"></a>00314 
<a name="l00315"></a>00315   <span class="comment">//: Binary save self to stream.</span>
<a name="l00316"></a>00316   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classbbgm__pair__group__feature.html#af8894465e8c01117f5da548e9b9182c0" title="Binary save self to stream.">b_write</a>(<a class="codeRef" doxygen="core_vsl.tag:../../../../../core/vsl/html" href="../../../../../core/vsl/html/classvsl__b__ostream.html">vsl_b_ostream</a> &amp;os) <span class="keyword">const</span>;
<a name="l00317"></a>00317 
<a name="l00318"></a>00318   <span class="comment">//: Binary load self from stream.</span>
<a name="l00319"></a>00319   <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classbbgm__pair__group__feature.html#a9ac3c45cbd725d851197b1b7c08b7619" title="Binary load self from stream.">b_read</a>(<a class="codeRef" doxygen="core_vsl.tag:../../../../../core/vsl/html" href="../../../../../core/vsl/html/classvsl__b__istream.html">vsl_b_istream</a> &amp;is);
<a name="l00320"></a>00320 
<a name="l00321"></a><a class="code" href="classbbgm__pair__group__feature.html#a75171e25c67b557aba533f565b7f9e3a">00321</a>   <span class="keyword">virtual</span> <a class="code" href="classbbgm__pair__group__feature.html#a75171e25c67b557aba533f565b7f9e3a">~bbgm_pair_group_feature</a>() {} <span class="comment">// virtual destructor, because presence of virtual methods</span>
<a name="l00322"></a>00322  <span class="keyword">protected</span>:
<a name="l00323"></a><a class="code" href="classbbgm__pair__group__feature.html#a2f888a87dd886e48c977e7360f7cb9da">00323</a>   <span class="keyword">static</span> <span class="keywordtype">unsigned</span> <a class="code" href="classbbgm__pair__group__feature.html#a2f888a87dd886e48c977e7360f7cb9da" title="a unique id">uid_</a>; <span class="comment">//!&lt; a unique id</span>
<a name="l00324"></a><a class="code" href="classbbgm__pair__group__feature.html#aa6b1b7c4c67a1d47817a6b6cd2f10748">00324</a> <span class="comment"></span>  <span class="keywordtype">unsigned</span> <a class="code" href="classbbgm__pair__group__feature.html#aa6b1b7c4c67a1d47817a6b6cd2f10748">id_</a>;
<a name="l00325"></a><a class="code" href="classbbgm__pair__group__feature.html#ae6d36f446cd542b6597b2d908c2440c6">00325</a>   brip_rect_mask::mask_id <a class="code" href="classbbgm__pair__group__feature.html#ae6d36f446cd542b6597b2d908c2440c6" title="the mask type of the group">mid_</a>; <span class="comment">//!&lt; the mask type of the group</span>
<a name="l00326"></a><a class="code" href="classbbgm__pair__group__feature.html#a36499ace0b6a0616797b8f4fb83ab01e">00326</a> <span class="comment"></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="classbbgm__pair__group__feature.html#a36499ace0b6a0616797b8f4fb83ab01e" title="the center of the group">ci_</a>;           <span class="comment">//!&lt; the center of the group</span>
<a name="l00327"></a><a class="code" href="classbbgm__pair__group__feature.html#a67b3ef8bf8aa303b043ba8237e9c7c52">00327</a> <span class="comment"></span>  <span class="keywordtype">unsigned</span> <span class="keywordtype">short</span> <a class="code" href="classbbgm__pair__group__feature.html#a67b3ef8bf8aa303b043ba8237e9c7c52">cj_</a>;
<a name="l00328"></a><a class="code" href="classbbgm__pair__group__feature.html#a105fc8947491dfed7e6a4656478dc25c">00328</a>   vcl_set&lt;bbgm_mask_pair_feature, fless &gt; <a class="code" href="classbbgm__pair__group__feature.html#a105fc8947491dfed7e6a4656478dc25c">pairs_</a>;
<a name="l00329"></a><a class="code" href="classbbgm__pair__group__feature.html#a4804664983683e46dc03b1554a15205a">00329</a>   <span class="keywordtype">float</span> <a class="code" href="classbbgm__pair__group__feature.html#a4804664983683e46dc03b1554a15205a">p_</a>;
<a name="l00330"></a>00330 };
<a name="l00331"></a>00331 
<a name="l00332"></a>00332 
<a name="l00333"></a>00333 <span class="keywordtype">void</span> <a class="code" href="bbgm__feature__image_8h.html#a9b88cc8e064f531d7ab0c44ef32f6d3c">vsl_print_summary</a>(vcl_ostream&amp; os,
<a name="l00334"></a>00334                        <span class="keyword">const</span> <a class="code" href="classbbgm__pair__group__feature.html" title="A group of mask pair features with centers within a neighborhood.">bbgm_pair_group_feature</a>&amp; b);
<a name="l00335"></a>00335 
<a name="l00336"></a>00336 
<a name="l00337"></a>00337 <span class="comment">//: Binary save bbgm_features</span>
<a name="l00338"></a>00338 <span class="keywordtype">void</span> <a class="code" href="bbgm__feature__image_8h.html#aee10c1b01f9c4d792f955f491daad363" title="Binary save bbgm_feature_image.">vsl_b_write</a>(<a class="codeRef" doxygen="core_vsl.tag:../../../../../core/vsl/html" href="../../../../../core/vsl/html/classvsl__b__ostream.html">vsl_b_ostream</a> &amp;os, <span class="keyword">const</span> <a class="code" href="classbbgm__pair__group__feature.html" title="A group of mask pair features with centers within a neighborhood.">bbgm_pair_group_feature</a>&amp; b);
<a name="l00339"></a>00339 
<a name="l00340"></a>00340 
<a name="l00341"></a>00341 <span class="comment">//: Binary load bbgm_features</span>
<a name="l00342"></a>00342 <span class="keywordtype">void</span> <a class="code" href="bbgm__feature__image_8h.html#ae664f14c3388db2ec72c00649419ed43" title="Binary load bbgm_feature_image.">vsl_b_read</a>(<a class="codeRef" doxygen="core_vsl.tag:../../../../../core/vsl/html" href="../../../../../core/vsl/html/classvsl__b__istream.html">vsl_b_istream</a> &amp;is, <a class="code" href="classbbgm__pair__group__feature.html" title="A group of mask pair features with centers within a neighborhood.">bbgm_pair_group_feature</a>&amp; b);
<a name="l00343"></a>00343 
<a name="l00344"></a>00344 <span class="comment">//====================== global pair_group functions ==================</span>
<a name="l00345"></a>00345 
<a name="l00346"></a>00346 <a class="code" href="classbbgm__pair__group__feature.html" title="A group of mask pair features with centers within a neighborhood.">bbgm_pair_group_feature</a> <a class="code" href="bbgm__features_8cxx.html#ab50118c01f5f703506972c4db46dceb0">pair_group_merge</a>(<a class="code" href="classbbgm__pair__group__feature.html" title="A group of mask pair features with centers within a neighborhood.">bbgm_pair_group_feature</a> <span class="keyword">const</span>&amp; pg0,
<a name="l00347"></a>00347                                          <a class="code" href="classbbgm__pair__group__feature.html" title="A group of mask pair features with centers within a neighborhood.">bbgm_pair_group_feature</a> <span class="keyword">const</span>&amp; pg1,
<a name="l00348"></a>00348                                          <span class="keywordtype">float</span> p_path = 1.0f);
<a name="l00349"></a>00349 
<a name="l00350"></a>00350 <a class="code" href="classbbgm__pair__group__feature.html" title="A group of mask pair features with centers within a neighborhood.">bbgm_pair_group_feature</a>
<a name="l00351"></a>00351 <a class="code" href="bbgm__features_8cxx.html#a1d8c0d1465a97131704c78b7ca37d728">pair_group_max_union</a>(<a class="code" href="classbbgm__pair__group__feature.html" title="A group of mask pair features with centers within a neighborhood.">bbgm_pair_group_feature</a> <span class="keyword">const</span>&amp; pg0,
<a name="l00352"></a>00352                      <a class="code" href="classbbgm__pair__group__feature.html" title="A group of mask pair features with centers within a neighborhood.">bbgm_pair_group_feature</a> <span class="keyword">const</span>&amp; pg1);
<a name="l00353"></a>00353 
<a name="l00354"></a>00354 
<a name="l00355"></a>00355 <span class="preprocessor">#endif // bbgm_features to bbgm_features_h_</span>
</pre></div></div>
</div>


<hr class="footer"/><address class="footer"><small>
Generated on Thu May 2 2013 08:53:56 for contrib/brl/bseg/bbgm by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
