<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <title>contrib/brl/bbas/bsol/bsol_hough_line_index.h File Reference</title>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="tabs.css" rel="stylesheet" type="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a>  </div>
  <div class="headertitle">
<div class="title">contrib/brl/bbas/bsol/bsol_hough_line_index.h File Reference</div>  </div>
</div>
<div class="contents">

<p>Hough transform for fast queries on line sets.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;vcl_vector.h&gt;</code><br/>
<code>#include &lt;<a class="elRef" doxygen="core_vbl.tag:../../../../../core/vbl/html" href="../../../../../core/vbl/html/vbl__ref__count_8h.html">vbl/vbl_ref_count.h</a>&gt;</code><br/>
<code>#include &lt;<a class="elRef" doxygen="core_vbl.tag:../../../../../core/vbl/html" href="../../../../../core/vbl/html/vbl__bounding__box_8h.html">vbl/vbl_bounding_box.h</a>&gt;</code><br/>
<code>#include &lt;<a class="elRef" doxygen="core_vbl.tag:../../../../../core/vbl/html" href="../../../../../core/vbl/html/vbl__array__2d_8h.html">vbl/vbl_array_2d.h</a>&gt;</code><br/>
<code>#include &lt;<a class="elRef" doxygen="contrib_gel_vsol.tag:../../../../../contrib/gel/vsol/html" href="../../../../../contrib/gel/vsol/html/vsol__line__2d__sptr_8h.html">vsol/vsol_line_2d_sptr.h</a>&gt;</code><br/>
</div>
<p><a href="bsol__hough__line__index_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classbsol__hough__line__index.html">bsol_hough_line_index</a></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Hough transform for fast queries on line sets. </p>
<p><a class="el" href="classbsol__hough__line__index.html">bsol_hough_line_index</a> is a class for indexing 2-d lines and tangent vectors in the space of orientation and distance to the origin.</p>
<p>The line index space is defined as follows: </p>
<div class="fragment"><pre class="fragment">
                              o
                             /
                   line --&gt; /\                  .
                           /  |theta
      &lt;-------------------o--/-----------------&gt;
   </pre></div><p>The angle, theta, corresponding to the line tangent direction ranges from 0 to 180 degrees. The perpendicular distance to the origin, r, is defined as: </p>
<div class="fragment"><pre class="fragment">
                     .           /
                         .      / Line
                   Line /   .  /
                   Normal     /^ .
                             /      r
                            /           .
                                           x Origin
   </pre></div><p> r can be expressed as r = N.(M - O) where N is the line normal, O is the origin position vector and M is the line midpoint. Note that N = (-Sin(theta), Cos(theta)). The values of theta and r for a <a class="elRef" doxygen="contrib_gel_vsol.tag:../../../../../contrib/gel/vsol/html" href="../../../../../contrib/gel/vsol/html/classvsol__line__2d.html">vsol_line_2d</a> are computed by the method ::array_loc(..). If the line is translated by (tx, ty), then the r for the translated line is given by r' = r - Sin(theta)tx + Cos(theta)ty. The value of r for a given translation is computed by ::trans_loc(..).</p>
<p>The lines are stored in a two dimensional array of r_dim_ by th_dim_ bins of vector&lt;vsol_line_2d_sptr&gt;. The theta dimension of the array is typically 180/5, or 36. The r dimension is defined by the diagonal of the bounding box of the space containing the lines. The resolution in r is assumed to be 1. It is necessary to specify the bounding box of the line coordinate space at construction time, so that new lines entered into the index do not exceed array bounds.</p>
<p>Internally, the r space is defined on an origin at the center of the bounding box diagonal. This choice minimizes the error in normal distance due to variations in line orientation.</p>
<p>Typical usage:</p>
<ul>
<li>Create a new index for a 100x100 coordinate space with 5 degree angular res. <div class="fragment"><pre class="fragment">      index = <span class="keyword">new</span> <a class="code" href="classbsol__hough__line__index.html">bsol_hough_line_index</a>(0.0, 0.0, 100.0, 100.0, 180.0, 5.0)
</pre></div></li>
<li>Add a line to the index <div class="fragment"><pre class="fragment">      ...
      <a class="codeRef" doxygen="core_vbl.tag:../../../../../core/vbl/html" href="../../../../../core/vbl/html/classvbl__smart__ptr.html">vsol_line_2d_sptr</a> <a class="codeRef" doxygen="core_vgl.tag:../../../../../core/vgl/html" href="../../../../../core/vgl/html/vgl__homg__line__2d_8h.html#a1cb503ddd20ff3cf9588d2b5abd202d8">l</a>(p1, p2);
      index-&gt;index(l);
</pre></div></li>
<li>find collinear lines (lines in a 2-d region in Hough space centered on the parameters defined by line l) <div class="fragment"><pre class="fragment">      ...
      vcl_vector&lt;vsol_line_2d_sptr&gt; lines;
      index-&gt;lines_in_interval(lines, l, 1.0, 5.0);<span class="comment">//dr = 1.0, dtheta = 5.0</span>
                                                   <span class="comment">//i.e. +- 1.0 and +- 5.0</span>
</pre></div></li>
<li>find lines at a particular orientation <div class="fragment"><pre class="fragment">      index-&gt;parallel_lines(lines, 45.0, 5.0); <span class="comment">//Lines parallel to 45 deg.</span>
                                               <span class="comment">//+- 5 deg.</span>
</pre></div></li>
</ul>
<dl class="author"><dt><b>Author:</b></dt><dd>J.L. Mundy December 1997 </dd></dl>
<dl class="date"><dt><b>Date:</b></dt><dd>ported to VXL April 11, 2003</dd></dl>
<div class="fragment"><pre class="fragment">
    Modifications
     10-sep-2004 Peter Vanroose Added copy ctor with explicit vbl_ref_count init
   </pre></div> 
<p>Definition in file <a class="el" href="bsol__hough__line__index_8h_source.html">bsol_hough_line_index.h</a>.</p>
</div></div>


<hr class="footer"/><address class="footer"><small>
Generated on Thu May 2 2013 08:52:00 for contrib/brl/bbas/bsol by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
