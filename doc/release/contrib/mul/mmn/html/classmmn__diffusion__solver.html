<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <title>mmn_diffusion_solver Class Reference</title>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="tabs.css" rel="stylesheet" type="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">mmn_diffusion_solver Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="mmn_diffusion_solver" -->
<p>Run diffusion algorithm to solve max sum problem.  
 <a href="classmmn__diffusion__solver.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a>&gt;</code></p>

<p><a href="classmmn__diffusion__solver-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#a698c7e184e9f7e4380f8e1f8935d5eac">mmn_diffusion_solver</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#a698c7e184e9f7e4380f8e1f8935d5eac"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#a8e6c1f81fa1cc2c17d12bcad2cd7d27e">mmn_diffusion_solver</a> (unsigned num_nodes, const vcl_vector&lt; <a class="el" href="classmmn__arc.html">mmn_arc</a> &gt; &amp;arcs)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct with arcs.  <a href="#a8e6c1f81fa1cc2c17d12bcad2cd7d27e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#aed0a6bd1f0414d8931fbc4be4c57de1b">set_arcs</a> (unsigned num_nodes, const vcl_vector&lt; <a class="el" href="classmmn__arc.html">mmn_arc</a> &gt; &amp;arcs)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Input the arcs that define the graph.  <a href="#aed0a6bd1f0414d8931fbc4be4c57de1b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vcl_pair&lt; bool, double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#a2cb05e75bf0e5a3a1622f3b7ab6039aa">operator()</a> (const vcl_vector&lt; <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt; double &gt; &gt; &amp;node_cost, const vcl_vector&lt; <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__matrix.html">vnl_matrix</a>&lt; double &gt; &gt; &amp;arc_cost, vcl_vector&lt; unsigned &gt; &amp;x)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Find values for each node with minimise the total cost.  <a href="#a2cb05e75bf0e5a3a1622f3b7ab6039aa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#a3ff8c61cf5eefaa29e17603285f8fd5b">count</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">final iteration count.  <a href="#a3ff8c61cf5eefaa29e17603285f8fd5b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#ac8e91b864415bf42aa5f79a12ca81d8a">set_verbose</a> (bool verbose)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Produce shed loads of debug output.  <a href="#ac8e91b864415bf42aa5f79a12ca81d8a"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef vcl_map&lt; unsigned, <br class="typebreak"/>
<a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt; double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#aa90ff19c86258415b667a1d33cd373e9">potential_set_t</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">in below the map is indexed by the neighbour's node id.  <a href="#aa90ff19c86258415b667a1d33cd373e9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef vcl_map&lt; unsigned, <br class="typebreak"/>
<a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__matrix.html">vnl_matrix</a>&lt; double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#a1c4312fd28e9d5f4e8d0816781ef1fde">neigh_arc_cost_t</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Matrix referenced by [source node state ID][target node state ID].  <a href="#a1c4312fd28e9d5f4e8d0816781ef1fde"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#a2cedf9d1b0eeb36c0c0da116d39ad806">continue_diffusion</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if we carry on.  <a href="#a2cedf9d1b0eeb36c0c0da116d39ad806"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#a01a98273cc41123257e63208fe5d836d">update_potentials_to_neighbours</a> (unsigned inode, const <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt; double &gt; &amp;node_cost)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Update all messages from input node to its neighbours.  <a href="#a01a98273cc41123257e63208fe5d836d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#aa4356a74afe3c099bdc91e0a7f19e7a2">transform_costs</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Update all node and arc costs (equivalent transform) given phi (potentials).  <a href="#aa4356a74afe3c099bdc91e0a7f19e7a2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#a3a11257638bd7287e2afbcfee3abb239">transform_costs</a> (unsigned inode)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Update node and arc costs (equivalent transform) given phi (potentials) for given node.  <a href="#a3a11257638bd7287e2afbcfee3abb239"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#abab832469bcf6bff6ab49a6288b81e94">arc_consistent_solution</a> (vcl_vector&lt; unsigned &gt; &amp;x)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Find maximal nodes and arcs and check if arc consistent.  <a href="#abab832469bcf6bff6ab49a6288b81e94"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#a9109622d4fcbc5b139c4fa37b4da74ab">init</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset iteration counters.  <a href="#a9109622d4fcbc5b139c4fa37b4da74ab"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#aabea7de91a98083183bc0b702ac5d17c">solution_cost</a> (vcl_vector&lt; unsigned &gt; &amp;x)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate final sum of node and arc values.  <a href="#aabea7de91a98083183bc0b702ac5d17c"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmmn__graph__rep1.html">mmn_graph_rep1</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#aad62fb38efecce7431e153d32b537b24">graph_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Store in graph form (so each node's neighbours are conveniently to hand).  <a href="#aad62fb38efecce7431e153d32b537b24"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vcl_vector&lt; <a class="el" href="classmmn__arc.html">mmn_arc</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#a72da66f429e7da91b57c7852dd254f46">arcs_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The arcs from which graph was generated.  <a href="#a72da66f429e7da91b57c7852dd254f46"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#a12195f2d72ef333e7e2da288ea8a4770">nnodes_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of nodes.  <a href="#a12195f2d72ef333e7e2da288ea8a4770"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vcl_vector&lt; <a class="el" href="classmmn__diffusion__solver.html#a1c4312fd28e9d5f4e8d0816781ef1fde">neigh_arc_cost_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#a9f4888418433773ee7811a9966c8480d">arc_costs_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Workspace for costs of each arc.  <a href="#a9f4888418433773ee7811a9966c8480d"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vcl_vector&lt; <a class="el" href="classmmn__diffusion__solver.html#a1c4312fd28e9d5f4e8d0816781ef1fde">neigh_arc_cost_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#a63113c53fa7ae0698a726de8df7ab1f9">arc_costs_phi_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Workspace for transformed costs of each arc.  <a href="#a63113c53fa7ae0698a726de8df7ab1f9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vcl_vector&lt; <a class="el" href="classmmn__diffusion__solver.html#aa90ff19c86258415b667a1d33cd373e9">potential_set_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#af0cf476868ff18f236a47e0f2e07c689">phi_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">All the potentials at previous iteration (vector index is source node).  <a href="#af0cf476868ff18f236a47e0f2e07c689"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vcl_vector&lt; <a class="el" href="classmmn__diffusion__solver.html#aa90ff19c86258415b667a1d33cd373e9">potential_set_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#a23c825c89caaa306aa4774d5f2b1a738">phi_upd_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Update potentials calculated during this iteration (vector index is source node).  <a href="#a23c825c89caaa306aa4774d5f2b1a738"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vcl_vector&lt; <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt; double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#ad00e6e862369b8a38138f1096df6a8f2">node_costs_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Node costs (outer vector is node ID, inner <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a> is by state value).  <a href="#ad00e6e862369b8a38138f1096df6a8f2"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vcl_vector&lt; <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt; double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#aa7ee1419cdc5b4701638b5b09f56026c">node_costs_phi_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Node costs after phi transform (outer vector is node ID, inner <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a> is by state value).  <a href="#aa7ee1419cdc5b4701638b5b09f56026c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vcl_vector&lt; vcl_map&lt; unsigned, <br class="typebreak"/>
<a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt; double &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#a308d388ca023789da7fa93d17a00d0d4">u_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Workspace for adjustment to potential.  <a href="#a308d388ca023789da7fa93d17a00d0d4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#a8cff1ee312eae393753178c61c18f470">count_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Current iteration count.  <a href="#a8cff1ee312eae393753178c61c18f470"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#a5b57474068c0e4f3ea080c2fd1a342b5">max_delta_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Max change in any potential value over this iteration.  <a href="#a5b57474068c0e4f3ea080c2fd1a342b5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#a5b4f4721aedf99c90d8af7a9dac31850">max_iterations_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">max number of iterations allowed.  <a href="#a5b4f4721aedf99c90d8af7a9dac31850"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#ad493196daf294ddb59eb9a6321266511">min_iterations_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">min iterations allowed before additional convergence checks.  <a href="#ad493196daf294ddb59eb9a6321266511"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#a8312c4e502a6ea80a473800bd29d8607">epsilon_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Convergence criterion on max_delta_.  <a href="#a8312c4e502a6ea80a473800bd29d8607"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#a0a5d8be26e683cbf368bd300af8d80a1">verbose_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">verbose debug output.  <a href="#a0a5d8be26e683cbf368bd300af8d80a1"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#aac629416f09ed1435a4eba0f1d241064">soln_val_prev_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Previous solution value at arc consistency check.  <a href="#aac629416f09ed1435a4eba0f1d241064"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#a8bb4e77b601501faf0c4c363e182a015">nConverging_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Count of number of times solution value was unchanged.  <a href="#a8bb4e77b601501faf0c4c363e182a015"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#a9ae50f8f9e19f2a7eded2e87eea39781">gNCONVERGED</a> = 3</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Max count of nConverging_.  <a href="#a9ae50f8f9e19f2a7eded2e87eea39781"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__diffusion__solver.html#a3b2ff2618a4054914f4a109fe05f132e">gACS_CHECK_PERIOD</a> = 10</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Period at which arc consistency of solution is checked for.  <a href="#a3b2ff2618a4054914f4a109fe05f132e"></a><br/></td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Run diffusion algorithm to solve max sum problem. </p>
<p>See T Werner. A Linear Programming Approach to Max-sum problem: A review; IEEE Trans on Pattern Recog &amp; Machine Intell, July 2007 Try and solve the max-sum problem by performing node-pencil averaging over the graph I.e. transform to equivalent problem by adding "potentials" to nodes and subtracting them from arcs. This is done to equalise node costs and the cost of the maximal connecting arcs If this converges the solution is to take the maximal nodes (which will then be arc-consistent). </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8h_source.html#l00023">23</a> of file <a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a>.</p>
</div><hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="a1c4312fd28e9d5f4e8d0816781ef1fde"></a><!-- doxytag: member="mmn_diffusion_solver::neigh_arc_cost_t" ref="a1c4312fd28e9d5f4e8d0816781ef1fde" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef vcl_map&lt;unsigned, <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__matrix.html">vnl_matrix</a>&lt;double &gt; &gt; <a class="el" href="classmmn__diffusion__solver.html#a1c4312fd28e9d5f4e8d0816781ef1fde">mmn_diffusion_solver::neigh_arc_cost_t</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Matrix referenced by [source node state ID][target node state ID]. </p>
<p>Map ID is target node ID </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8h_source.html#l00033">33</a> of file <a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa90ff19c86258415b667a1d33cd373e9"></a><!-- doxytag: member="mmn_diffusion_solver::potential_set_t" ref="aa90ff19c86258415b667a1d33cd373e9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef vcl_map&lt;unsigned,<a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt;double &gt; &gt; <a class="el" href="classmmn__diffusion__solver.html#aa90ff19c86258415b667a1d33cd373e9">mmn_diffusion_solver::potential_set_t</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>in below the map is indexed by the neighbour's node id. </p>
<p>Inner vector indexed by source node state ID, map by neighbour node (t'). </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8h_source.html#l00029">29</a> of file <a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a698c7e184e9f7e4380f8e1f8935d5eac"></a><!-- doxytag: member="mmn_diffusion_solver::mmn_diffusion_solver" ref="a698c7e184e9f7e4380f8e1f8935d5eac" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mmn_diffusion_solver::mmn_diffusion_solver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Default constructor. </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8cxx_source.html#l00025">25</a> of file <a class="el" href="mmn__diffusion__solver_8cxx_source.html">mmn_diffusion_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="a8e6c1f81fa1cc2c17d12bcad2cd7d27e"></a><!-- doxytag: member="mmn_diffusion_solver::mmn_diffusion_solver" ref="a8e6c1f81fa1cc2c17d12bcad2cd7d27e" args="(unsigned num_nodes, const vcl_vector&lt; mmn_arc &gt; &amp;arcs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mmn_diffusion_solver::mmn_diffusion_solver </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>num_nodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vcl_vector&lt; <a class="el" href="classmmn__arc.html">mmn_arc</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>arcs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Construct with arcs. </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8cxx_source.html#l00033">33</a> of file <a class="el" href="mmn__diffusion__solver_8cxx_source.html">mmn_diffusion_solver.cxx</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="abab832469bcf6bff6ab49a6288b81e94"></a><!-- doxytag: member="mmn_diffusion_solver::arc_consistent_solution" ref="abab832469bcf6bff6ab49a6288b81e94" args="(vcl_vector&lt; unsigned &gt; &amp;x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mmn_diffusion_solver::arc_consistent_solution </td>
          <td>(</td>
          <td class="paramtype">vcl_vector&lt; unsigned &gt; &amp;&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find maximal nodes and arcs and check if arc consistent. </p>
<p>Find (possibly non-unique) maximal label value.</p>
<p>Then compile vector of all node indices with label value "near" this.</p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8cxx_source.html#l00292">292</a> of file <a class="el" href="mmn__diffusion__solver_8cxx_source.html">mmn_diffusion_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="a2cedf9d1b0eeb36c0c0da116d39ad806"></a><!-- doxytag: member="mmn_diffusion_solver::continue_diffusion" ref="a2cedf9d1b0eeb36c0c0da116d39ad806" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mmn_diffusion_solver::continue_diffusion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if we carry on. </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8cxx_source.html#l00389">389</a> of file <a class="el" href="mmn__diffusion__solver_8cxx_source.html">mmn_diffusion_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="a3ff8c61cf5eefaa29e17603285f8fd5b"></a><!-- doxytag: member="mmn_diffusion_solver::count" ref="a3ff8c61cf5eefaa29e17603285f8fd5b" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned mmn_diffusion_solver::count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>final iteration count. </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8h_source.html#l00147">147</a> of file <a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9109622d4fcbc5b139c4fa37b4da74ab"></a><!-- doxytag: member="mmn_diffusion_solver::init" ref="a9109622d4fcbc5b139c4fa37b4da74ab" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mmn_diffusion_solver::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reset iteration counters. </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8cxx_source.html#l00040">40</a> of file <a class="el" href="mmn__diffusion__solver_8cxx_source.html">mmn_diffusion_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="a2cb05e75bf0e5a3a1622f3b7ab6039aa"></a><!-- doxytag: member="mmn_diffusion_solver::operator()" ref="a2cb05e75bf0e5a3a1622f3b7ab6039aa" args="(const vcl_vector&lt; vnl_vector&lt; double &gt; &gt; &amp;node_cost, const vcl_vector&lt; vnl_matrix&lt; double &gt; &gt; &amp;arc_cost, vcl_vector&lt; unsigned &gt; &amp;x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vcl_pair&lt; bool, double &gt; mmn_diffusion_solver::operator() </td>
          <td>(</td>
          <td class="paramtype">const vcl_vector&lt; <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt; double &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>node_cost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vcl_vector&lt; <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__matrix.html">vnl_matrix</a>&lt; double &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>arc_cost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vcl_vector&lt; unsigned &gt; &amp;&#160;</td>
          <td class="paramname"><em>x</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find values for each node with minimise the total cost. </p>
<p>Run the algorithm.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">node_cost,:</td><td>node_cost[i][j] is cost of selecting value j for node i </td></tr>
    <tr><td class="paramname">pair_cost,:</td><td>pair_cost[a](i,j) is cost of selecting values (i,j) for nodes at end of arc a. </td></tr>
    <tr><td class="paramname">x,:</td><td>On exit, x[i] gives choice for node i NOTE: If arc a connects nodes v1,v2, the associated pair_cost is ordered with the node with the lowest index being the first parameter. Thus if v1 has value i1, v2 has value i2, then the cost of this choice is (v1&lt;v2?pair_cost(i1,i2):pair_cost(i2,i1))</td></tr>
  </table>
  </dd>
</dl>
<p>Returns the minimum cost. Note that internally we deal with a maximisation after negating the input costs, which are assumed to represent -log probabilities In the return the boolean returns whether the algorithm was successful in converging to an arc-consistent solution, and the double is the cost (negative minimum, i.e. -internal max) Even if the solution is not arc-consistent a solution is still returned given by the local node first maxima, but this may not then be optimal. </p>
<p>Negate costs to convert to log prob (i.e. internally we do maximisation).</p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8cxx_source.html#l00086">86</a> of file <a class="el" href="mmn__diffusion__solver_8cxx_source.html">mmn_diffusion_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="aed0a6bd1f0414d8931fbc4be4c57de1b"></a><!-- doxytag: member="mmn_diffusion_solver::set_arcs" ref="aed0a6bd1f0414d8931fbc4be4c57de1b" args="(unsigned num_nodes, const vcl_vector&lt; mmn_arc &gt; &amp;arcs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mmn_diffusion_solver::set_arcs </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>num_nodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vcl_vector&lt; <a class="el" href="classmmn__arc.html">mmn_arc</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>arcs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Input the arcs that define the graph. </p>
<p>Pass in the arcs, which are then used to build the graph object. </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8cxx_source.html#l00049">49</a> of file <a class="el" href="mmn__diffusion__solver_8cxx_source.html">mmn_diffusion_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="ac8e91b864415bf42aa5f79a12ca81d8a"></a><!-- doxytag: member="mmn_diffusion_solver::set_verbose" ref="ac8e91b864415bf42aa5f79a12ca81d8a" args="(bool verbose)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mmn_diffusion_solver::set_verbose </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>verbose</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Produce shed loads of debug output. </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8h_source.html#l00150">150</a> of file <a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="aabea7de91a98083183bc0b702ac5d17c"></a><!-- doxytag: member="mmn_diffusion_solver::solution_cost" ref="aabea7de91a98083183bc0b702ac5d17c" args="(vcl_vector&lt; unsigned &gt; &amp;x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double mmn_diffusion_solver::solution_cost </td>
          <td>(</td>
          <td class="paramtype">vcl_vector&lt; unsigned &gt; &amp;&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calculate final sum of node and arc values. </p>
<p>Calculate objective function for solution x.</p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8cxx_source.html#l00224">224</a> of file <a class="el" href="mmn__diffusion__solver_8cxx_source.html">mmn_diffusion_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="aa4356a74afe3c099bdc91e0a7f19e7a2"></a><!-- doxytag: member="mmn_diffusion_solver::transform_costs" ref="aa4356a74afe3c099bdc91e0a7f19e7a2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mmn_diffusion_solver::transform_costs </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update all node and arc costs (equivalent transform) given phi (potentials). </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8cxx_source.html#l00184">184</a> of file <a class="el" href="mmn__diffusion__solver_8cxx_source.html">mmn_diffusion_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="a3a11257638bd7287e2afbcfee3abb239"></a><!-- doxytag: member="mmn_diffusion_solver::transform_costs" ref="a3a11257638bd7287e2afbcfee3abb239" args="(unsigned inode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mmn_diffusion_solver::transform_costs </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>inode</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update node and arc costs (equivalent transform) given phi (potentials) for given node. </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8cxx_source.html#l00192">192</a> of file <a class="el" href="mmn__diffusion__solver_8cxx_source.html">mmn_diffusion_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="a01a98273cc41123257e63208fe5d836d"></a><!-- doxytag: member="mmn_diffusion_solver::update_potentials_to_neighbours" ref="a01a98273cc41123257e63208fe5d836d" args="(unsigned inode, const vnl_vector&lt; double &gt; &amp;node_cost)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mmn_diffusion_solver::update_potentials_to_neighbours </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>node_cost</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update all messages from input node to its neighbours. </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8cxx_source.html#l00254">254</a> of file <a class="el" href="mmn__diffusion__solver_8cxx_source.html">mmn_diffusion_solver.cxx</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="a9f4888418433773ee7811a9966c8480d"></a><!-- doxytag: member="mmn_diffusion_solver::arc_costs_" ref="a9f4888418433773ee7811a9966c8480d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vcl_vector&lt;<a class="el" href="classmmn__diffusion__solver.html#a1c4312fd28e9d5f4e8d0816781ef1fde">neigh_arc_cost_t</a> &gt; <a class="el" href="classmmn__diffusion__solver.html#a9f4888418433773ee7811a9966c8480d">mmn_diffusion_solver::arc_costs_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Workspace for costs of each arc. </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8h_source.html#l00045">45</a> of file <a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a63113c53fa7ae0698a726de8df7ab1f9"></a><!-- doxytag: member="mmn_diffusion_solver::arc_costs_phi_" ref="a63113c53fa7ae0698a726de8df7ab1f9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vcl_vector&lt;<a class="el" href="classmmn__diffusion__solver.html#a1c4312fd28e9d5f4e8d0816781ef1fde">neigh_arc_cost_t</a> &gt; <a class="el" href="classmmn__diffusion__solver.html#a63113c53fa7ae0698a726de8df7ab1f9">mmn_diffusion_solver::arc_costs_phi_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Workspace for transformed costs of each arc. </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8h_source.html#l00048">48</a> of file <a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a72da66f429e7da91b57c7852dd254f46"></a><!-- doxytag: member="mmn_diffusion_solver::arcs_" ref="a72da66f429e7da91b57c7852dd254f46" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vcl_vector&lt;<a class="el" href="classmmn__arc.html">mmn_arc</a>&gt; <a class="el" href="classmmn__diffusion__solver.html#a72da66f429e7da91b57c7852dd254f46">mmn_diffusion_solver::arcs_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The arcs from which graph was generated. </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8h_source.html#l00039">39</a> of file <a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8cff1ee312eae393753178c61c18f470"></a><!-- doxytag: member="mmn_diffusion_solver::count_" ref="a8cff1ee312eae393753178c61c18f470" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classmmn__diffusion__solver.html#a8cff1ee312eae393753178c61c18f470">mmn_diffusion_solver::count_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Current iteration count. </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8h_source.html#l00067">67</a> of file <a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8312c4e502a6ea80a473800bd29d8607"></a><!-- doxytag: member="mmn_diffusion_solver::epsilon_" ref="a8312c4e502a6ea80a473800bd29d8607" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classmmn__diffusion__solver.html#a8312c4e502a6ea80a473800bd29d8607">mmn_diffusion_solver::epsilon_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convergence criterion on max_delta_. </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8h_source.html#l00079">79</a> of file <a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3b2ff2618a4054914f4a109fe05f132e"></a><!-- doxytag: member="mmn_diffusion_solver::gACS_CHECK_PERIOD" ref="a3b2ff2618a4054914f4a109fe05f132e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classmmn__diffusion__solver.html#a3b2ff2618a4054914f4a109fe05f132e">mmn_diffusion_solver::gACS_CHECK_PERIOD</a> = 10<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Period at which arc consistency of solution is checked for. </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8h_source.html#l00094">94</a> of file <a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9ae50f8f9e19f2a7eded2e87eea39781"></a><!-- doxytag: member="mmn_diffusion_solver::gNCONVERGED" ref="a9ae50f8f9e19f2a7eded2e87eea39781" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classmmn__diffusion__solver.html#a9ae50f8f9e19f2a7eded2e87eea39781">mmn_diffusion_solver::gNCONVERGED</a> = 3<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Max count of nConverging_. </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8h_source.html#l00091">91</a> of file <a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="aad62fb38efecce7431e153d32b537b24"></a><!-- doxytag: member="mmn_diffusion_solver::graph_" ref="aad62fb38efecce7431e153d32b537b24" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmmn__graph__rep1.html">mmn_graph_rep1</a> <a class="el" href="classmmn__diffusion__solver.html#aad62fb38efecce7431e153d32b537b24">mmn_diffusion_solver::graph_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Store in graph form (so each node's neighbours are conveniently to hand). </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8h_source.html#l00036">36</a> of file <a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5b57474068c0e4f3ea080c2fd1a342b5"></a><!-- doxytag: member="mmn_diffusion_solver::max_delta_" ref="a5b57474068c0e4f3ea080c2fd1a342b5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classmmn__diffusion__solver.html#a5b57474068c0e4f3ea080c2fd1a342b5">mmn_diffusion_solver::max_delta_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Max change in any potential value over this iteration. </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8h_source.html#l00070">70</a> of file <a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5b4f4721aedf99c90d8af7a9dac31850"></a><!-- doxytag: member="mmn_diffusion_solver::max_iterations_" ref="a5b4f4721aedf99c90d8af7a9dac31850" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classmmn__diffusion__solver.html#a5b4f4721aedf99c90d8af7a9dac31850">mmn_diffusion_solver::max_iterations_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>max number of iterations allowed. </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8h_source.html#l00073">73</a> of file <a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad493196daf294ddb59eb9a6321266511"></a><!-- doxytag: member="mmn_diffusion_solver::min_iterations_" ref="ad493196daf294ddb59eb9a6321266511" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classmmn__diffusion__solver.html#ad493196daf294ddb59eb9a6321266511">mmn_diffusion_solver::min_iterations_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>min iterations allowed before additional convergence checks. </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8h_source.html#l00076">76</a> of file <a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8bb4e77b601501faf0c4c363e182a015"></a><!-- doxytag: member="mmn_diffusion_solver::nConverging_" ref="a8bb4e77b601501faf0c4c363e182a015" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classmmn__diffusion__solver.html#a8bb4e77b601501faf0c4c363e182a015">mmn_diffusion_solver::nConverging_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Count of number of times solution value was unchanged. </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8h_source.html#l00088">88</a> of file <a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a12195f2d72ef333e7e2da288ea8a4770"></a><!-- doxytag: member="mmn_diffusion_solver::nnodes_" ref="a12195f2d72ef333e7e2da288ea8a4770" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classmmn__diffusion__solver.html#a12195f2d72ef333e7e2da288ea8a4770">mmn_diffusion_solver::nnodes_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Total number of nodes. </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8h_source.html#l00042">42</a> of file <a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad00e6e862369b8a38138f1096df6a8f2"></a><!-- doxytag: member="mmn_diffusion_solver::node_costs_" ref="ad00e6e862369b8a38138f1096df6a8f2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vcl_vector&lt;<a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt;double&gt; &gt; <a class="el" href="classmmn__diffusion__solver.html#ad00e6e862369b8a38138f1096df6a8f2">mmn_diffusion_solver::node_costs_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Node costs (outer vector is node ID, inner <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a> is by state value). </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8h_source.html#l00058">58</a> of file <a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa7ee1419cdc5b4701638b5b09f56026c"></a><!-- doxytag: member="mmn_diffusion_solver::node_costs_phi_" ref="aa7ee1419cdc5b4701638b5b09f56026c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vcl_vector&lt;<a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt;double&gt; &gt; <a class="el" href="classmmn__diffusion__solver.html#aa7ee1419cdc5b4701638b5b09f56026c">mmn_diffusion_solver::node_costs_phi_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Node costs after phi transform (outer vector is node ID, inner <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a> is by state value). </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8h_source.html#l00061">61</a> of file <a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="af0cf476868ff18f236a47e0f2e07c689"></a><!-- doxytag: member="mmn_diffusion_solver::phi_" ref="af0cf476868ff18f236a47e0f2e07c689" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vcl_vector&lt;<a class="el" href="classmmn__diffusion__solver.html#aa90ff19c86258415b667a1d33cd373e9">potential_set_t</a> &gt; <a class="el" href="classmmn__diffusion__solver.html#af0cf476868ff18f236a47e0f2e07c689">mmn_diffusion_solver::phi_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>All the potentials at previous iteration (vector index is source node). </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8h_source.html#l00052">52</a> of file <a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a23c825c89caaa306aa4774d5f2b1a738"></a><!-- doxytag: member="mmn_diffusion_solver::phi_upd_" ref="a23c825c89caaa306aa4774d5f2b1a738" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vcl_vector&lt;<a class="el" href="classmmn__diffusion__solver.html#aa90ff19c86258415b667a1d33cd373e9">potential_set_t</a> &gt; <a class="el" href="classmmn__diffusion__solver.html#a23c825c89caaa306aa4774d5f2b1a738">mmn_diffusion_solver::phi_upd_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update potentials calculated during this iteration (vector index is source node). </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8h_source.html#l00055">55</a> of file <a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="aac629416f09ed1435a4eba0f1d241064"></a><!-- doxytag: member="mmn_diffusion_solver::soln_val_prev_" ref="aac629416f09ed1435a4eba0f1d241064" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classmmn__diffusion__solver.html#aac629416f09ed1435a4eba0f1d241064">mmn_diffusion_solver::soln_val_prev_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Previous solution value at arc consistency check. </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8h_source.html#l00085">85</a> of file <a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a308d388ca023789da7fa93d17a00d0d4"></a><!-- doxytag: member="mmn_diffusion_solver::u_" ref="a308d388ca023789da7fa93d17a00d0d4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vcl_vector&lt;vcl_map&lt;unsigned,<a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt;double &gt; &gt; &gt; <a class="el" href="classmmn__diffusion__solver.html#a308d388ca023789da7fa93d17a00d0d4">mmn_diffusion_solver::u_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Workspace for adjustment to potential. </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8h_source.html#l00064">64</a> of file <a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0a5d8be26e683cbf368bd300af8d80a1"></a><!-- doxytag: member="mmn_diffusion_solver::verbose_" ref="a0a5d8be26e683cbf368bd300af8d80a1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classmmn__diffusion__solver.html#a0a5d8be26e683cbf368bd300af8d80a1">mmn_diffusion_solver::verbose_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>verbose debug output. </p>

<p>Definition at line <a class="el" href="mmn__diffusion__solver_8h_source.html#l00082">82</a> of file <a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>contrib/mul/mmn/<a class="el" href="mmn__diffusion__solver_8h_source.html">mmn_diffusion_solver.h</a></li>
<li>contrib/mul/mmn/<a class="el" href="mmn__diffusion__solver_8cxx_source.html">mmn_diffusion_solver.cxx</a></li>
</ul>
</div>


<hr class="footer"/><address class="footer"><small>
Generated on Wed May 1 2013 17:34:38 for contrib/mul/mmn by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
