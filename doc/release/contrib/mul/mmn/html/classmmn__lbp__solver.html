<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
  <title>mmn_lbp_solver Class Reference</title>
  <link href="doxygen.css" rel="stylesheet" type="text/css" />
  <link href="tabs.css" rel="stylesheet" type="text/css" />
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
</head>
<body>
<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a>  </div>
  <div class="headertitle">
<div class="title">mmn_lbp_solver Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="mmn_lbp_solver" --><!-- doxytag: inherits="mmn_solver" -->
<p>Run loopy belief to estimate overall marginal probabilities of all node states.  
 <a href="classmmn__lbp__solver.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for mmn_lbp_solver:</div>
<div class="dyncontent">
<div class="center"><img src="classmmn__lbp__solver__inherit__graph.png" border="0" usemap="#mmn__lbp__solver_inherit__map" alt="Inheritance graph"/></div>
<map name="mmn__lbp__solver_inherit__map" id="mmn__lbp__solver_inherit__map">
<area shape="rect" href="classmmn__solver.html" title="Base for classes which solve Markov Random Field problems." alt="" coords="19,7,112,31"/></map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classmmn__lbp__solver-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a44115b502148728d572adf7fdcb58b53">msg_update_t</a> { <a class="el" href="classmmn__lbp__solver.html#a44115b502148728d572adf7fdcb58b53ac93f2894ca511cde146724dbf175bb22">eALL_PARALLEL</a>, 
<a class="el" href="classmmn__lbp__solver.html#a44115b502148728d572adf7fdcb58b53a74a876d7b6646b12131ca08a034676e0">eRANDOM_SERIAL</a>
 }</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Message update mode type (all in parallel, or randomised node order with immediate effect}.  <a href="classmmn__lbp__solver.html#a44115b502148728d572adf7fdcb58b53">More...</a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#af1a47bc70af4d548026fb693873a4d65">mmn_lbp_solver</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#af1a47bc70af4d548026fb693873a4d65"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a81b017621fb980eba519e62ab3dc77a0">mmn_lbp_solver</a> (unsigned num_nodes, const vcl_vector&lt; <a class="el" href="classmmn__arc.html">mmn_arc</a> &gt; &amp;arcs)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct with arcs.  <a href="#a81b017621fb980eba519e62ab3dc77a0"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a1bf1f5ed5c4c59caf2de04db7192b952">set_arcs</a> (unsigned num_nodes, const vcl_vector&lt; <a class="el" href="classmmn__arc.html">mmn_arc</a> &gt; &amp;arcs)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Input the arcs that define the graph.  <a href="#a1bf1f5ed5c4c59caf2de04db7192b952"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#ad0b2db58bbdd45780bdebfbe65612687">operator()</a> (const vcl_vector&lt; <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt; double &gt; &gt; &amp;node_cost, const vcl_vector&lt; <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__matrix.html">vnl_matrix</a>&lt; double &gt; &gt; &amp;arc_cost, vcl_vector&lt; unsigned &gt; &amp;x)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Find values for each node with minimise the total cost.  <a href="#ad0b2db58bbdd45780bdebfbe65612687"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a2616adf6ebf9a4617ad1870a216c4674">solve</a> (const vcl_vector&lt; <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt; double &gt; &gt; &amp;node_cost, const vcl_vector&lt; <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__matrix.html">vnl_matrix</a>&lt; double &gt; &gt; &amp;pair_cost, vcl_vector&lt; unsigned &gt; &amp;x)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">return the beliefs, i.e. the marginal probabilities of each node's states.  <a href="#a2616adf6ebf9a4617ad1870a216c4674"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">const vcl_vector&lt; <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a><br class="typebreak"/>
&lt; double &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a04059f69e7436bf519684dc200c13f9b">belief</a> () const </td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#ab74d57303f6cacd78f81a93857a4095f">count</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">final iteration count.  <a href="#ab74d57303f6cacd78f81a93857a4095f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a5de38f6912fedc50be7202e67e0bbae3">set_smooth_on_cycling</a> (bool bOn)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set true if want to alpha smooth message updates when cycling detected.  <a href="#a5de38f6912fedc50be7202e67e0bbae3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a2c70a247b69369e801af316c24a3a897">set_max_cycle_detection_count_</a> (unsigned max_cycle_detection_count)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#ac608afe239f8a2fbf838a6cbe011071d">set_verbose</a> (bool verbose)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a9ea865612a59ca9bd21853be94ed07c9">set_msg_upd_mode</a> (<a class="el" href="classmmn__lbp__solver.html#a44115b502148728d572adf7fdcb58b53">msg_update_t</a> msg_upd_mode)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Set message update mode (parallel or randomised serial}.  <a href="#a9ea865612a59ca9bd21853be94ed07c9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#aa0f9559e6fd855d7b13f399d948b93d4">set_from_stream</a> (vcl_istream &amp;is)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise from a text stream.  <a href="#aa0f9559e6fd855d7b13f399d948b93d4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">short&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a130862fd157c63eb3fc6f7dc3e8d2c57">version_no</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Version number for I/O.  <a href="#a130862fd157c63eb3fc6f7dc3e8d2c57"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual vcl_string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#affc8785adb1764eaaebfb507c1cb31f5">is_a</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Name of the class.  <a href="#affc8785adb1764eaaebfb507c1cb31f5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classmmn__solver.html">mmn_solver</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#ae7e34dc34d0014a9d1ab7394474b34be">clone</a> () const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a copy on the heap and return base class pointer.  <a href="#ae7e34dc34d0014a9d1ab7394474b34be"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a874e107ba3f1e33c24d3af90429a0f15">print_summary</a> (vcl_ostream &amp;os) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Print class to os.  <a href="#a874e107ba3f1e33c24d3af90429a0f15"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a5197fa1127e16858f43ad375837bd7ec">b_write</a> (<a class="elRef" doxygen="core_vsl.tag:../../../../core/vsl/html" href="../../../../core/vsl/html/classvsl__b__ostream.html">vsl_b_ostream</a> &amp;bfs) const </td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Save class to binary file stream.  <a href="#a5197fa1127e16858f43ad375837bd7ec"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a9ef5dc84aaf6311af2a42daa0d59e0d8">b_read</a> (<a class="elRef" doxygen="core_vsl.tag:../../../../core/vsl/html" href="../../../../core/vsl/html/classvsl__b__istream.html">vsl_b_istream</a> &amp;bfs)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Load class from binary file stream.  <a href="#a9ef5dc84aaf6311af2a42daa0d59e0d8"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static vcl_auto_ptr&lt; <a class="el" href="classmmn__solver.html">mmn_solver</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__solver.html#aeaaae5690b7b55933e04fb8e66c3631e">create_from_stream</a> (vcl_istream &amp;is)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a concrete region_model-derived object, from a text specification.  <a href="#aeaaae5690b7b55933e04fb8e66c3631e"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef vcl_map&lt; unsigned, <br class="typebreak"/>
<a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt; double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a93d394d03ba11366cbd2c717ef7ba1ec">message_set_t</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">in below the map is indexed by the neighbour's node id.  <a href="#a93d394d03ba11366cbd2c717ef7ba1ec"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">typedef vcl_map&lt; unsigned, <br class="typebreak"/>
<a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__matrix.html">vnl_matrix</a>&lt; double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a0b4920f0df21fc1217b18c3b0e03abc9">neigh_arc_cost_t</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Matrix referenced by [source node state ID][target node state ID].  <a href="#a0b4920f0df21fc1217b18c3b0e03abc9"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a9e576e112f0a4f91e942918fd3ac7466">continue_propagation</a> (vcl_vector&lt; unsigned &gt; &amp;x)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if we carry on.  <a href="#a9e576e112f0a4f91e942918fd3ac7466"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a2a4949b6564307648d10beab19ffe46f">update_messages_to_neighbours</a> (unsigned inode, const <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt; double &gt; &amp;node_cost)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Update all messages from input node to its neighbours.  <a href="#a2a4949b6564307648d10beab19ffe46f"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#acea975839c9b65d40d86935b477e0211">renormalise_log</a> (<a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt; double &gt; &amp;logMessageVec)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Renormalise messages (assume they represent log probabilities) so SUM(exp) over target states is 1.  <a href="#acea975839c9b65d40d86935b477e0211"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#aa15e557f471ae905abbcaa74833a03dc">init</a> ()</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset iteration counters.  <a href="#aa15e557f471ae905abbcaa74833a03dc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#afd07e1921b4de20bc1f26fda6fd660e8">solution_cost</a> (vcl_vector&lt; unsigned &gt; &amp;x)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculate final sum of node and arc values.  <a href="#afd07e1921b4de20bc1f26fda6fd660e8"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a2f01e6dcd8d26f9a1053d8439de51141">best_solution_cost_in_history</a> (vcl_vector&lt; unsigned &gt; &amp;x)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a7bd5a8f2508184d1ab8d554288993397">calculate_beliefs</a> (vcl_vector&lt; unsigned &gt; &amp;x)</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">update beliefs and calculate changes therein.  <a href="#a7bd5a8f2508184d1ab8d554288993397"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmmn__graph__rep1.html">mmn_graph_rep1</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a4eb1e601f967738137e9c1618516a65e">graph_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Store in graph form (so each node's neighbours are conveniently to hand).  <a href="#a4eb1e601f967738137e9c1618516a65e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vcl_vector&lt; <a class="el" href="classmmn__arc.html">mmn_arc</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#ae03fc6cc1e174098337aaddc8f1cce05">arcs_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">The arcs from which the graph was generated.  <a href="#ae03fc6cc1e174098337aaddc8f1cce05"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#acf9ae29c374f81c0614be42cd6ce3234">nnodes_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Total number of nodes.  <a href="#acf9ae29c374f81c0614be42cd6ce3234"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vcl_vector&lt; <a class="el" href="classmmn__lbp__solver.html#a0b4920f0df21fc1217b18c3b0e03abc9">neigh_arc_cost_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#acc3175dbf136174243a9fecf316f86c6">arc_costs_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Workspace for costs of each arc.  <a href="#acc3175dbf136174243a9fecf316f86c6"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vcl_vector&lt; <a class="el" href="classmmn__lbp__solver.html#a93d394d03ba11366cbd2c717ef7ba1ec">message_set_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a640407d216666940d30551cbefbdc122">messages_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">All the messages at previous iteration (vector index is source node).  <a href="#a640407d216666940d30551cbefbdc122"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vcl_vector&lt; <a class="el" href="classmmn__lbp__solver.html#a93d394d03ba11366cbd2c717ef7ba1ec">message_set_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#aad791d40e78ca1ab6d6da182e50a97b9">messages_upd_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Update messages calculated during this iteration (vector index is source node).  <a href="#aad791d40e78ca1ab6d6da182e50a97b9"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vcl_vector&lt; <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt; double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#aa8620190fa45b00d6954b347789ec37b">node_costs_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Node costs (outer vector is node ID, inner <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a> is by state value).  <a href="#aa8620190fa45b00d6954b347789ec37b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vcl_vector&lt; <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt; double &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a0cf1247802a72c78840dad46d8c181da">belief_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">belief prob for each state of each node.  <a href="#a0cf1247802a72c78840dad46d8c181da"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vcl_deque&lt; vcl_vector&lt; unsigned &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a9eb5f49b251628b844a053ddb2398d75">soln_history_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">previous N solutions (used to trap cycling).  <a href="#a9eb5f49b251628b844a053ddb2398d75"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">vcl_deque&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a62ccc1763e88d8bd018e2f1e592f0165">max_delta_history_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">previous max_delta values(used to check still descending).  <a href="#a62ccc1763e88d8bd018e2f1e592f0165"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a16e101a532ab14a828ac581c661b4db3">count_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Current iteration count.  <a href="#a16e101a532ab14a828ac581c661b4db3"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#acdae1d562af4c68ac0967da0d05c274c">max_delta_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Max change in any message value over this iteration.  <a href="#acdae1d562af4c68ac0967da0d05c274c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a9c5627ab3c4bacb6a3a4ded7e9db9e42">max_iterations_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">max number of iterations allowed.  <a href="#a9c5627ab3c4bacb6a3a4ded7e9db9e42"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#af03c2da9ba17fda31fc1fde642714482">min_simple_iterations_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">min number of iterations before checking for solution looping (cycling).  <a href="#af03c2da9ba17fda31fc1fde642714482"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a34576835874d12c0da505e8ca2b78246">epsilon_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Convergence criterion on max_delta_.  <a href="#a34576835874d12c0da505e8ca2b78246"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a65630a8f96ec17a81ce520d661ea4da4">nrevisits_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">count of number of times a solution in history is revisited.  <a href="#a65630a8f96ec17a81ce520d661ea4da4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#abd4a639e50968ce7a896d722056ff530">isCycling_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">cycle condition detected.  <a href="#abd4a639e50968ce7a896d722056ff530"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a4a483e4a5a285b2d1458b6a704e7c4e4">cycle_detection_count_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of times cycling has been detected.  <a href="#a4a483e4a5a285b2d1458b6a704e7c4e4"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#aae79520e85394a572d6380eea1fae6cf">alpha_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">message update smoothing constant (used if cycling detected).  <a href="#aae79520e85394a572d6380eea1fae6cf"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a9489ee1dbf2e2479741b5b0bdd3c1812">smooth_on_cycling_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">should message update be smoothed during cycling.  <a href="#a9489ee1dbf2e2479741b5b0bdd3c1812"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#abf17e8cf5def593a58d07c5d3ea1ae2e">max_cycle_detection_count_</a></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a1dfecc7152018d98a8d45b4c4e541657">zbest_on_cycle_detection_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">solution value when cycling first detected.  <a href="#a1dfecc7152018d98a8d45b4c4e541657"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#acdbaf0eb880b8004e837518afd877626">verbose_</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">verbose debug output.  <a href="#acdbaf0eb880b8004e837518afd877626"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="el" href="classmmn__lbp__solver.html#a44115b502148728d572adf7fdcb58b53">msg_update_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a1d58b0eeb3055b4834f21f6749e5d056">msg_upd_mode_</a></td></tr>
<tr><td colspan="2"><h2><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a9c03c76e6033bc5d2665dff1c120f220">NHISTORY_</a> = 5</td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Magic numbers for cycle detection.  <a href="#a9c03c76e6033bc5d2665dff1c120f220"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">static const unsigned&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classmmn__lbp__solver.html#a2e170c938a0514ffcd9843b7b95adddc">NCYCLE_DETECT_</a> = 7</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>Run loopy belief to estimate overall marginal probabilities of all node states. </p>
<p>Then use converged LBP messages to also estimate overall most likely configuration</p>
<p>Can use this for non-tree graphs, but convergence to optimum is not absolutely guaranteed Should converge if there is at most one loop in the graph The input graph is converted to form <a class="el" href="classmmn__graph__rep1.html" title="Representation of a graph, stored by links at each node.">mmn_graph_rep1</a> from the input arcs </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00025">25</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>
</div><hr/><h2>Member Typedef Documentation</h2>
<a class="anchor" id="a93d394d03ba11366cbd2c717ef7ba1ec"></a><!-- doxytag: member="mmn_lbp_solver::message_set_t" ref="a93d394d03ba11366cbd2c717ef7ba1ec" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef vcl_map&lt;unsigned,<a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt;double &gt; &gt; <a class="el" href="classmmn__lbp__solver.html#a93d394d03ba11366cbd2c717ef7ba1ec">mmn_lbp_solver::message_set_t</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>in below the map is indexed by the neighbour's node id. </p>
<p>Inner vector indexed by target node state ID. </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00034">34</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0b4920f0df21fc1217b18c3b0e03abc9"></a><!-- doxytag: member="mmn_lbp_solver::neigh_arc_cost_t" ref="a0b4920f0df21fc1217b18c3b0e03abc9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef vcl_map&lt;unsigned, <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__matrix.html">vnl_matrix</a>&lt;double &gt; &gt; <a class="el" href="classmmn__lbp__solver.html#a0b4920f0df21fc1217b18c3b0e03abc9">mmn_lbp_solver::neigh_arc_cost_t</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Matrix referenced by [source node state ID][target node state ID]. </p>
<p>Map ID is target node ID </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00038">38</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<hr/><h2>Member Enumeration Documentation</h2>
<a class="anchor" id="a44115b502148728d572adf7fdcb58b53"></a><!-- doxytag: member="mmn_lbp_solver::msg_update_t" ref="a44115b502148728d572adf7fdcb58b53" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="classmmn__lbp__solver.html#a44115b502148728d572adf7fdcb58b53">mmn_lbp_solver::msg_update_t</a></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Message update mode type (all in parallel, or randomised node order with immediate effect}. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="a44115b502148728d572adf7fdcb58b53ac93f2894ca511cde146724dbf175bb22"></a><!-- doxytag: member="eALL_PARALLEL" ref="a44115b502148728d572adf7fdcb58b53ac93f2894ca511cde146724dbf175bb22" args="" -->eALL_PARALLEL</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="a44115b502148728d572adf7fdcb58b53a74a876d7b6646b12131ca08a034676e0"></a><!-- doxytag: member="eRANDOM_SERIAL" ref="a44115b502148728d572adf7fdcb58b53a74a876d7b6646b12131ca08a034676e0" args="" -->eRANDOM_SERIAL</em>&nbsp;</td><td>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00029">29</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af1a47bc70af4d548026fb693873a4d65"></a><!-- doxytag: member="mmn_lbp_solver::mmn_lbp_solver" ref="af1a47bc70af4d548026fb693873a4d65" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mmn_lbp_solver::mmn_lbp_solver </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Default constructor. </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8cxx_source.html#l00020">20</a> of file <a class="el" href="mmn__lbp__solver_8cxx_source.html">mmn_lbp_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="a81b017621fb980eba519e62ab3dc77a0"></a><!-- doxytag: member="mmn_lbp_solver::mmn_lbp_solver" ref="a81b017621fb980eba519e62ab3dc77a0" args="(unsigned num_nodes, const vcl_vector&lt; mmn_arc &gt; &amp;arcs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">mmn_lbp_solver::mmn_lbp_solver </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>num_nodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vcl_vector&lt; <a class="el" href="classmmn__arc.html">mmn_arc</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>arcs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Construct with arcs. </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8cxx_source.html#l00030">30</a> of file <a class="el" href="mmn__lbp__solver_8cxx_source.html">mmn_lbp_solver.cxx</a>.</p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="a9ef5dc84aaf6311af2a42daa0d59e0d8"></a><!-- doxytag: member="mmn_lbp_solver::b_read" ref="a9ef5dc84aaf6311af2a42daa0d59e0d8" args="(vsl_b_istream &amp;bfs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mmn_lbp_solver::b_read </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="core_vsl.tag:../../../../core/vsl/html" href="../../../../core/vsl/html/classvsl__b__istream.html">vsl_b_istream</a> &amp;&#160;</td>
          <td class="paramname"><em>bfs</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Load class from binary file stream. </p>

<p>Implements <a class="el" href="classmmn__solver.html#a153634f400258e7d01ef49cb0029ca63">mmn_solver</a>.</p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8cxx_source.html#l00565">565</a> of file <a class="el" href="mmn__lbp__solver_8cxx_source.html">mmn_lbp_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="a5197fa1127e16858f43ad375837bd7ec"></a><!-- doxytag: member="mmn_lbp_solver::b_write" ref="a5197fa1127e16858f43ad375837bd7ec" args="(vsl_b_ostream &amp;bfs) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mmn_lbp_solver::b_write </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="core_vsl.tag:../../../../core/vsl/html" href="../../../../core/vsl/html/classvsl__b__ostream.html">vsl_b_ostream</a> &amp;&#160;</td>
          <td class="paramname"><em>bfs</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Save class to binary file stream. </p>

<p>Implements <a class="el" href="classmmn__solver.html#aad51fa3163374d4e33b1d6c67d63fc3c">mmn_solver</a>.</p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8cxx_source.html#l00556">556</a> of file <a class="el" href="mmn__lbp__solver_8cxx_source.html">mmn_lbp_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="a04059f69e7436bf519684dc200c13f9b"></a><!-- doxytag: member="mmn_lbp_solver::belief" ref="a04059f69e7436bf519684dc200c13f9b" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const vcl_vector&lt;<a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt;double&gt; &gt;&amp; mmn_lbp_solver::belief </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00173">173</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2f01e6dcd8d26f9a1053d8439de51141"></a><!-- doxytag: member="mmn_lbp_solver::best_solution_cost_in_history" ref="a2f01e6dcd8d26f9a1053d8439de51141" args="(vcl_vector&lt; unsigned &gt; &amp;x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double mmn_lbp_solver::best_solution_cost_in_history </td>
          <td>(</td>
          <td class="paramtype">vcl_vector&lt; unsigned &gt; &amp;&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmn__lbp__solver_8cxx_source.html#l00299">299</a> of file <a class="el" href="mmn__lbp__solver_8cxx_source.html">mmn_lbp_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="a7bd5a8f2508184d1ab8d554288993397"></a><!-- doxytag: member="mmn_lbp_solver::calculate_beliefs" ref="a7bd5a8f2508184d1ab8d554288993397" args="(vcl_vector&lt; unsigned &gt; &amp;x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mmn_lbp_solver::calculate_beliefs </td>
          <td>(</td>
          <td class="paramtype">vcl_vector&lt; unsigned &gt; &amp;&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>update beliefs and calculate changes therein. </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8cxx_source.html#l00232">232</a> of file <a class="el" href="mmn__lbp__solver_8cxx_source.html">mmn_lbp_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="ae7e34dc34d0014a9d1ab7394474b34be"></a><!-- doxytag: member="mmn_lbp_solver::clone" ref="ae7e34dc34d0014a9d1ab7394474b34be" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmmn__solver.html">mmn_solver</a> * mmn_lbp_solver::clone </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a copy on the heap and return base class pointer. </p>

<p>Implements <a class="el" href="classmmn__solver.html#a7be6b9040eecac157daed50dcbe945ca">mmn_solver</a>.</p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8cxx_source.html#l00538">538</a> of file <a class="el" href="mmn__lbp__solver_8cxx_source.html">mmn_lbp_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="a9e576e112f0a4f91e942918fd3ac7466"></a><!-- doxytag: member="mmn_lbp_solver::continue_propagation" ref="a9e576e112f0a4f91e942918fd3ac7466" args="(vcl_vector&lt; unsigned &gt; &amp;x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mmn_lbp_solver::continue_propagation </td>
          <td>(</td>
          <td class="paramtype">vcl_vector&lt; unsigned &gt; &amp;&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Check if we carry on. </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8cxx_source.html#l00423">423</a> of file <a class="el" href="mmn__lbp__solver_8cxx_source.html">mmn_lbp_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="ab74d57303f6cacd78f81a93857a4095f"></a><!-- doxytag: member="mmn_lbp_solver::count" ref="ab74d57303f6cacd78f81a93857a4095f" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned mmn_lbp_solver::count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>final iteration count. </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00176">176</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="aeaaae5690b7b55933e04fb8e66c3631e"></a><!-- doxytag: member="mmn_lbp_solver::create_from_stream" ref="aeaaae5690b7b55933e04fb8e66c3631e" args="(vcl_istream &amp;is)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vcl_auto_ptr&lt; <a class="el" href="classmmn__solver.html">mmn_solver</a> &gt; mmn_solver::create_from_stream </td>
          <td>(</td>
          <td class="paramtype">vcl_istream &amp;&#160;</td>
          <td class="paramname"><em>is</em></td><td>)</td>
          <td><code> [static, inherited]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Create a concrete region_model-derived object, from a text specification. </p>

<p>Definition at line <a class="el" href="mmn__solver_8cxx_source.html#l00076">76</a> of file <a class="el" href="mmn__solver_8cxx_source.html">mmn_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="aa15e557f471ae905abbcaa74833a03dc"></a><!-- doxytag: member="mmn_lbp_solver::init" ref="aa15e557f471ae905abbcaa74833a03dc" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mmn_lbp_solver::init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Reset iteration counters. </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8cxx_source.html#l00040">40</a> of file <a class="el" href="mmn__lbp__solver_8cxx_source.html">mmn_lbp_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="affc8785adb1764eaaebfb507c1cb31f5"></a><!-- doxytag: member="mmn_lbp_solver::is_a" ref="affc8785adb1764eaaebfb507c1cb31f5" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vcl_string mmn_lbp_solver::is_a </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Name of the class. </p>

<p>Reimplemented from <a class="el" href="classmmn__solver.html#aff4b134f30544223321ead54dea61cad">mmn_solver</a>.</p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8cxx_source.html#l00532">532</a> of file <a class="el" href="mmn__lbp__solver_8cxx_source.html">mmn_lbp_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="ad0b2db58bbdd45780bdebfbe65612687"></a><!-- doxytag: member="mmn_lbp_solver::operator()" ref="ad0b2db58bbdd45780bdebfbe65612687" args="(const vcl_vector&lt; vnl_vector&lt; double &gt; &gt; &amp;node_cost, const vcl_vector&lt; vnl_matrix&lt; double &gt; &gt; &amp;arc_cost, vcl_vector&lt; unsigned &gt; &amp;x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double mmn_lbp_solver::operator() </td>
          <td>(</td>
          <td class="paramtype">const vcl_vector&lt; <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt; double &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>node_cost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vcl_vector&lt; <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__matrix.html">vnl_matrix</a>&lt; double &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>arc_cost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vcl_vector&lt; unsigned &gt; &amp;&#160;</td>
          <td class="paramname"><em>x</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Find values for each node with minimise the total cost. </p>
<p>Run the algorithm.</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">node_cost,:</td><td>node_cost[i][j] is cost of selecting value j for node i </td></tr>
    <tr><td class="paramname">pair_cost,:</td><td>pair_cost[a](i,j) is cost of selecting values (i,j) for nodes at end of arc a. </td></tr>
    <tr><td class="paramname">x,:</td><td>On exit, x[i] gives choice for node i NOTE: If arc a connects nodes v1,v2, the associated pair_cost is ordered with the node with the lowest index being the first parameter. Thus if v1 has value i1, v2 has value i2, then the cost of this choice is (v1&lt;v2?pair_cost(i1,i2):pair_cost(i2,i1))</td></tr>
  </table>
  </dd>
</dl>
<p>Returns the minimum cost. Note that internally we deal with a maximisation after negating the input costs, which are assumed to represent -log probabilities If the states of a node in node_cost are not well normalised as a probability the algorithm should still work in some sense but the meaning of the belief_ objects is not really then well-defined. As it is marginal "belief" that is maximised, inputting non-normalised data may not give quite the expected answer - there may be some biases, in effect implicit weightings to particular nodes </p>
<p>Negate costs to convert to log prob (i.e. internally we do maximisation).</p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8cxx_source.html#l00088">88</a> of file <a class="el" href="mmn__lbp__solver_8cxx_source.html">mmn_lbp_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="a874e107ba3f1e33c24d3af90429a0f15"></a><!-- doxytag: member="mmn_lbp_solver::print_summary" ref="a874e107ba3f1e33c24d3af90429a0f15" args="(vcl_ostream &amp;os) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mmn_lbp_solver::print_summary </td>
          <td>(</td>
          <td class="paramtype">vcl_ostream &amp;&#160;</td>
          <td class="paramname"><em>os</em></td><td>)</td>
          <td> const<code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Print class to os. </p>

<p>Implements <a class="el" href="classmmn__solver.html#abf712168246a82e83134ddb49159ebbb">mmn_solver</a>.</p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8cxx_source.html#l00547">547</a> of file <a class="el" href="mmn__lbp__solver_8cxx_source.html">mmn_lbp_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="acea975839c9b65d40d86935b477e0211"></a><!-- doxytag: member="mmn_lbp_solver::renormalise_log" ref="acea975839c9b65d40d86935b477e0211" args="(vnl_vector&lt; double &gt; &amp;logMessageVec)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mmn_lbp_solver::renormalise_log </td>
          <td>(</td>
          <td class="paramtype"><a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>logMessageVec</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Renormalise messages (assume they represent log probabilities) so SUM(exp) over target states is 1. </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8cxx_source.html#l00403">403</a> of file <a class="el" href="mmn__lbp__solver_8cxx_source.html">mmn_lbp_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="a1bf1f5ed5c4c59caf2de04db7192b952"></a><!-- doxytag: member="mmn_lbp_solver::set_arcs" ref="a1bf1f5ed5c4c59caf2de04db7192b952" args="(unsigned num_nodes, const vcl_vector&lt; mmn_arc &gt; &amp;arcs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mmn_lbp_solver::set_arcs </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>num_nodes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vcl_vector&lt; <a class="el" href="classmmn__arc.html">mmn_arc</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>arcs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Input the arcs that define the graph. </p>
<p>Pass in the arcs, which are then used to build the graph object. </p>

<p>Implements <a class="el" href="classmmn__solver.html#ae3ebb75d998a672b82d1e2341ed99caf">mmn_solver</a>.</p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8cxx_source.html#l00053">53</a> of file <a class="el" href="mmn__lbp__solver_8cxx_source.html">mmn_lbp_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="aa0f9559e6fd855d7b13f399d948b93d4"></a><!-- doxytag: member="mmn_lbp_solver::set_from_stream" ref="aa0f9559e6fd855d7b13f399d948b93d4" args="(vcl_istream &amp;is)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool mmn_lbp_solver::set_from_stream </td>
          <td>(</td>
          <td class="paramtype">vcl_istream &amp;&#160;</td>
          <td class="paramname"><em>is</em></td><td>)</td>
          <td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialise from a text stream. </p>
<p>Initialise from a string stream. </p>

<p>Reimplemented from <a class="el" href="classmmn__solver.html#afed536902cfe73ddc8b08f33a38093dd">mmn_solver</a>.</p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8cxx_source.html#l00503">503</a> of file <a class="el" href="mmn__lbp__solver_8cxx_source.html">mmn_lbp_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="a2c70a247b69369e801af316c24a3a897"></a><!-- doxytag: member="mmn_lbp_solver::set_max_cycle_detection_count_" ref="a2c70a247b69369e801af316c24a3a897" args="(unsigned max_cycle_detection_count)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mmn_lbp_solver::set_max_cycle_detection_count_ </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>max_cycle_detection_count</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00182">182</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9ea865612a59ca9bd21853be94ed07c9"></a><!-- doxytag: member="mmn_lbp_solver::set_msg_upd_mode" ref="a9ea865612a59ca9bd21853be94ed07c9" args="(msg_update_t msg_upd_mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mmn_lbp_solver::set_msg_upd_mode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classmmn__lbp__solver.html#a44115b502148728d572adf7fdcb58b53">msg_update_t</a>&#160;</td>
          <td class="paramname"><em>msg_upd_mode</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set message update mode (parallel or randomised serial}. </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00187">187</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5de38f6912fedc50be7202e67e0bbae3"></a><!-- doxytag: member="mmn_lbp_solver::set_smooth_on_cycling" ref="a5de38f6912fedc50be7202e67e0bbae3" args="(bool bOn)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mmn_lbp_solver::set_smooth_on_cycling </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bOn</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Set true if want to alpha smooth message updates when cycling detected. </p>
<p>This may break the cycling condition </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00180">180</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac608afe239f8a2fbf838a6cbe011071d"></a><!-- doxytag: member="mmn_lbp_solver::set_verbose" ref="ac608afe239f8a2fbf838a6cbe011071d" args="(bool verbose)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mmn_lbp_solver::set_verbose </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>verbose</em></td><td>)</td>
          <td><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00184">184</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="afd07e1921b4de20bc1f26fda6fd660e8"></a><!-- doxytag: member="mmn_lbp_solver::solution_cost" ref="afd07e1921b4de20bc1f26fda6fd660e8" args="(vcl_vector&lt; unsigned &gt; &amp;x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double mmn_lbp_solver::solution_cost </td>
          <td>(</td>
          <td class="paramtype">vcl_vector&lt; unsigned &gt; &amp;&#160;</td>
          <td class="paramname"><em>x</em></td><td>)</td>
          <td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Calculate final sum of node and arc values. </p>
<p>Calculate best (max log prob) of solution x.</p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8cxx_source.html#l00269">269</a> of file <a class="el" href="mmn__lbp__solver_8cxx_source.html">mmn_lbp_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="a2616adf6ebf9a4617ad1870a216c4674"></a><!-- doxytag: member="mmn_lbp_solver::solve" ref="a2616adf6ebf9a4617ad1870a216c4674" args="(const vcl_vector&lt; vnl_vector&lt; double &gt; &gt; &amp;node_cost, const vcl_vector&lt; vnl_matrix&lt; double &gt; &gt; &amp;pair_cost, vcl_vector&lt; unsigned &gt; &amp;x)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double mmn_lbp_solver::solve </td>
          <td>(</td>
          <td class="paramtype">const vcl_vector&lt; <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt; double &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>node_cost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vcl_vector&lt; <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__matrix.html">vnl_matrix</a>&lt; double &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>pair_cost</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vcl_vector&lt; unsigned &gt; &amp;&#160;</td>
          <td class="paramname"><em>x</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>return the beliefs, i.e. the marginal probabilities of each node's states. </p>

<p>Implements <a class="el" href="classmmn__solver.html#a20c95f9603808bd85c12bf610cc2f0e1">mmn_solver</a>.</p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8cxx_source.html#l00079">79</a> of file <a class="el" href="mmn__lbp__solver_8cxx_source.html">mmn_lbp_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="a2a4949b6564307648d10beab19ffe46f"></a><!-- doxytag: member="mmn_lbp_solver::update_messages_to_neighbours" ref="a2a4949b6564307648d10beab19ffe46f" args="(unsigned inode, const vnl_vector&lt; double &gt; &amp;node_cost)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mmn_lbp_solver::update_messages_to_neighbours </td>
          <td>(</td>
          <td class="paramtype">unsigned&#160;</td>
          <td class="paramname"><em>inode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>node_cost</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update all messages from input node to its neighbours. </p>
<p>Compute max change during iteration.</p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8cxx_source.html#l00320">320</a> of file <a class="el" href="mmn__lbp__solver_8cxx_source.html">mmn_lbp_solver.cxx</a>.</p>

</div>
</div>
<a class="anchor" id="a130862fd157c63eb3fc6f7dc3e8d2c57"></a><!-- doxytag: member="mmn_lbp_solver::version_no" ref="a130862fd157c63eb3fc6f7dc3e8d2c57" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">short mmn_lbp_solver::version_no </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Version number for I/O. </p>

<p>Reimplemented from <a class="el" href="classmmn__solver.html#af53b5ea8da030bc620fd374657d957b1">mmn_solver</a>.</p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8cxx_source.html#l00523">523</a> of file <a class="el" href="mmn__lbp__solver_8cxx_source.html">mmn_lbp_solver.cxx</a>.</p>

</div>
</div>
<hr/><h2>Member Data Documentation</h2>
<a class="anchor" id="aae79520e85394a572d6380eea1fae6cf"></a><!-- doxytag: member="mmn_lbp_solver::alpha_" ref="aae79520e85394a572d6380eea1fae6cf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classmmn__lbp__solver.html#aae79520e85394a572d6380eea1fae6cf">mmn_lbp_solver::alpha_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>message update smoothing constant (used if cycling detected). </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00095">95</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="acc3175dbf136174243a9fecf316f86c6"></a><!-- doxytag: member="mmn_lbp_solver::arc_costs_" ref="acc3175dbf136174243a9fecf316f86c6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vcl_vector&lt;<a class="el" href="classmmn__lbp__solver.html#a0b4920f0df21fc1217b18c3b0e03abc9">neigh_arc_cost_t</a> &gt; <a class="el" href="classmmn__lbp__solver.html#acc3175dbf136174243a9fecf316f86c6">mmn_lbp_solver::arc_costs_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Workspace for costs of each arc. </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00050">50</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="ae03fc6cc1e174098337aaddc8f1cce05"></a><!-- doxytag: member="mmn_lbp_solver::arcs_" ref="ae03fc6cc1e174098337aaddc8f1cce05" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vcl_vector&lt;<a class="el" href="classmmn__arc.html">mmn_arc</a>&gt; <a class="el" href="classmmn__lbp__solver.html#ae03fc6cc1e174098337aaddc8f1cce05">mmn_lbp_solver::arcs_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>The arcs from which the graph was generated. </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00044">44</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0cf1247802a72c78840dad46d8c181da"></a><!-- doxytag: member="mmn_lbp_solver::belief_" ref="a0cf1247802a72c78840dad46d8c181da" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vcl_vector&lt;<a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt;double&gt; &gt; <a class="el" href="classmmn__lbp__solver.html#a0cf1247802a72c78840dad46d8c181da">mmn_lbp_solver::belief_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>belief prob for each state of each node. </p>
<p>Assumes input node costs are well-normalised for these to be proper probabilities </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00062">62</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a16e101a532ab14a828ac581c661b4db3"></a><!-- doxytag: member="mmn_lbp_solver::count_" ref="a16e101a532ab14a828ac581c661b4db3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classmmn__lbp__solver.html#a16e101a532ab14a828ac581c661b4db3">mmn_lbp_solver::count_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Current iteration count. </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00071">71</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4a483e4a5a285b2d1458b6a704e7c4e4"></a><!-- doxytag: member="mmn_lbp_solver::cycle_detection_count_" ref="a4a483e4a5a285b2d1458b6a704e7c4e4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classmmn__lbp__solver.html#a4a483e4a5a285b2d1458b6a704e7c4e4">mmn_lbp_solver::cycle_detection_count_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Number of times cycling has been detected. </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00092">92</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a34576835874d12c0da505e8ca2b78246"></a><!-- doxytag: member="mmn_lbp_solver::epsilon_" ref="a34576835874d12c0da505e8ca2b78246" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classmmn__lbp__solver.html#a34576835874d12c0da505e8ca2b78246">mmn_lbp_solver::epsilon_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Convergence criterion on max_delta_. </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00083">83</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a4eb1e601f967738137e9c1618516a65e"></a><!-- doxytag: member="mmn_lbp_solver::graph_" ref="a4eb1e601f967738137e9c1618516a65e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmmn__graph__rep1.html">mmn_graph_rep1</a> <a class="el" href="classmmn__lbp__solver.html#a4eb1e601f967738137e9c1618516a65e">mmn_lbp_solver::graph_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Store in graph form (so each node's neighbours are conveniently to hand). </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00041">41</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="abd4a639e50968ce7a896d722056ff530"></a><!-- doxytag: member="mmn_lbp_solver::isCycling_" ref="abd4a639e50968ce7a896d722056ff530" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classmmn__lbp__solver.html#abd4a639e50968ce7a896d722056ff530">mmn_lbp_solver::isCycling_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>cycle condition detected. </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00089">89</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="abf17e8cf5def593a58d07c5d3ea1ae2e"></a><!-- doxytag: member="mmn_lbp_solver::max_cycle_detection_count_" ref="abf17e8cf5def593a58d07c5d3ea1ae2e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classmmn__lbp__solver.html#abf17e8cf5def593a58d07c5d3ea1ae2e">mmn_lbp_solver::max_cycle_detection_count_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00103">103</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="acdae1d562af4c68ac0967da0d05c274c"></a><!-- doxytag: member="mmn_lbp_solver::max_delta_" ref="acdae1d562af4c68ac0967da0d05c274c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classmmn__lbp__solver.html#acdae1d562af4c68ac0967da0d05c274c">mmn_lbp_solver::max_delta_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Max change in any message value over this iteration. </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00074">74</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a62ccc1763e88d8bd018e2f1e592f0165"></a><!-- doxytag: member="mmn_lbp_solver::max_delta_history_" ref="a62ccc1763e88d8bd018e2f1e592f0165" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vcl_deque&lt;double &gt; <a class="el" href="classmmn__lbp__solver.html#a62ccc1763e88d8bd018e2f1e592f0165">mmn_lbp_solver::max_delta_history_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>previous max_delta values(used to check still descending). </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00068">68</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9c5627ab3c4bacb6a3a4ded7e9db9e42"></a><!-- doxytag: member="mmn_lbp_solver::max_iterations_" ref="a9c5627ab3c4bacb6a3a4ded7e9db9e42" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classmmn__lbp__solver.html#a9c5627ab3c4bacb6a3a4ded7e9db9e42">mmn_lbp_solver::max_iterations_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>max number of iterations allowed. </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00077">77</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a640407d216666940d30551cbefbdc122"></a><!-- doxytag: member="mmn_lbp_solver::messages_" ref="a640407d216666940d30551cbefbdc122" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vcl_vector&lt;<a class="el" href="classmmn__lbp__solver.html#a93d394d03ba11366cbd2c717ef7ba1ec">message_set_t</a> &gt; <a class="el" href="classmmn__lbp__solver.html#a640407d216666940d30551cbefbdc122">mmn_lbp_solver::messages_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>All the messages at previous iteration (vector index is source node). </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00053">53</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="aad791d40e78ca1ab6d6da182e50a97b9"></a><!-- doxytag: member="mmn_lbp_solver::messages_upd_" ref="aad791d40e78ca1ab6d6da182e50a97b9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vcl_vector&lt;<a class="el" href="classmmn__lbp__solver.html#a93d394d03ba11366cbd2c717ef7ba1ec">message_set_t</a> &gt; <a class="el" href="classmmn__lbp__solver.html#aad791d40e78ca1ab6d6da182e50a97b9">mmn_lbp_solver::messages_upd_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update messages calculated during this iteration (vector index is source node). </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00055">55</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="af03c2da9ba17fda31fc1fde642714482"></a><!-- doxytag: member="mmn_lbp_solver::min_simple_iterations_" ref="af03c2da9ba17fda31fc1fde642714482" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classmmn__lbp__solver.html#af03c2da9ba17fda31fc1fde642714482">mmn_lbp_solver::min_simple_iterations_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>min number of iterations before checking for solution looping (cycling). </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00080">80</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1d58b0eeb3055b4834f21f6749e5d056"></a><!-- doxytag: member="mmn_lbp_solver::msg_upd_mode_" ref="a1d58b0eeb3055b4834f21f6749e5d056" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classmmn__lbp__solver.html#a44115b502148728d572adf7fdcb58b53">msg_update_t</a> <a class="el" href="classmmn__lbp__solver.html#a1d58b0eeb3055b4834f21f6749e5d056">mmn_lbp_solver::msg_upd_mode_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00111">111</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a2e170c938a0514ffcd9843b7b95adddc"></a><!-- doxytag: member="mmn_lbp_solver::NCYCLE_DETECT_" ref="a2e170c938a0514ffcd9843b7b95adddc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned <a class="el" href="classmmn__lbp__solver.html#a2e170c938a0514ffcd9843b7b95adddc">mmn_lbp_solver::NCYCLE_DETECT_</a> = 7<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00115">115</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9c03c76e6033bc5d2665dff1c120f220"></a><!-- doxytag: member="mmn_lbp_solver::NHISTORY_" ref="a9c03c76e6033bc5d2665dff1c120f220" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned <a class="el" href="classmmn__lbp__solver.html#a9c03c76e6033bc5d2665dff1c120f220">mmn_lbp_solver::NHISTORY_</a> = 5<code> [static, private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Magic numbers for cycle detection. </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00114">114</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="acf9ae29c374f81c0614be42cd6ce3234"></a><!-- doxytag: member="mmn_lbp_solver::nnodes_" ref="acf9ae29c374f81c0614be42cd6ce3234" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classmmn__lbp__solver.html#acf9ae29c374f81c0614be42cd6ce3234">mmn_lbp_solver::nnodes_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Total number of nodes. </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00047">47</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa8620190fa45b00d6954b347789ec37b"></a><!-- doxytag: member="mmn_lbp_solver::node_costs_" ref="aa8620190fa45b00d6954b347789ec37b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vcl_vector&lt;<a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a>&lt;double&gt; &gt; <a class="el" href="classmmn__lbp__solver.html#aa8620190fa45b00d6954b347789ec37b">mmn_lbp_solver::node_costs_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Node costs (outer vector is node ID, inner <a class="elRef" doxygen="core_vnl.tag:../../../../core/vnl/html" href="../../../../core/vnl/html/classvnl__vector.html">vnl_vector</a> is by state value). </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00058">58</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a65630a8f96ec17a81ce520d661ea4da4"></a><!-- doxytag: member="mmn_lbp_solver::nrevisits_" ref="a65630a8f96ec17a81ce520d661ea4da4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned <a class="el" href="classmmn__lbp__solver.html#a65630a8f96ec17a81ce520d661ea4da4">mmn_lbp_solver::nrevisits_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>count of number of times a solution in history is revisited. </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00086">86</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9489ee1dbf2e2479741b5b0bdd3c1812"></a><!-- doxytag: member="mmn_lbp_solver::smooth_on_cycling_" ref="a9489ee1dbf2e2479741b5b0bdd3c1812" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classmmn__lbp__solver.html#a9489ee1dbf2e2479741b5b0bdd3c1812">mmn_lbp_solver::smooth_on_cycling_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>should message update be smoothed during cycling. </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00098">98</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a9eb5f49b251628b844a053ddb2398d75"></a><!-- doxytag: member="mmn_lbp_solver::soln_history_" ref="a9eb5f49b251628b844a053ddb2398d75" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vcl_deque&lt;vcl_vector&lt;unsigned &gt; &gt; <a class="el" href="classmmn__lbp__solver.html#a9eb5f49b251628b844a053ddb2398d75">mmn_lbp_solver::soln_history_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>previous N solutions (used to trap cycling). </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00065">65</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="acdbaf0eb880b8004e837518afd877626"></a><!-- doxytag: member="mmn_lbp_solver::verbose_" ref="acdbaf0eb880b8004e837518afd877626" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="classmmn__lbp__solver.html#acdbaf0eb880b8004e837518afd877626">mmn_lbp_solver::verbose_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>verbose debug output. </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00109">109</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<a class="anchor" id="a1dfecc7152018d98a8d45b4c4e541657"></a><!-- doxytag: member="mmn_lbp_solver::zbest_on_cycle_detection_" ref="a1dfecc7152018d98a8d45b4c4e541657" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double <a class="el" href="classmmn__lbp__solver.html#a1dfecc7152018d98a8d45b4c4e541657">mmn_lbp_solver::zbest_on_cycle_detection_</a><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>solution value when cycling first detected. </p>

<p>Definition at line <a class="el" href="mmn__lbp__solver_8h_source.html#l00106">106</a> of file <a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>contrib/mul/mmn/<a class="el" href="mmn__lbp__solver_8h_source.html">mmn_lbp_solver.h</a></li>
<li>contrib/mul/mmn/<a class="el" href="mmn__lbp__solver_8cxx_source.html">mmn_lbp_solver.cxx</a></li>
</ul>
</div>


<hr class="footer"/><address class="footer"><small>
Generated on Wed May 1 2013 17:34:38 for contrib/mul/mmn by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
